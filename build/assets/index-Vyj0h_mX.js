function x0(r,t){for(var n=0;n<t.length;n++){const a=t[n];if(typeof a!="string"&&!Array.isArray(a)){for(const c in a)if(c!=="default"&&!(c in r)){const d=Object.getOwnPropertyDescriptor(a,c);d&&Object.defineProperty(r,c,d.get?d:{enumerable:!0,get:()=>a[c]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))a(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const p of d.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&a(p)}).observe(document,{childList:!0,subtree:!0});function n(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function a(c){if(c.ep)return;c.ep=!0;const d=n(c);fetch(c.href,d)}})();var lu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Yl(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function lb(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var t=r.default;if(typeof t=="function"){var n=function a(){return this instanceof a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(r).forEach(function(a){var c=Object.getOwnPropertyDescriptor(r,a);Object.defineProperty(n,a,c.get?c:{enumerable:!0,get:function(){return r[a]}})}),n}var Vh={exports:{}},Pl={},Wh={exports:{}},Rt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var np;function cb(){if(np)return Rt;np=1;var r=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),p=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),_=Symbol.iterator;function O(Y){return Y===null||typeof Y!="object"?null:(Y=_&&Y[_]||Y["@@iterator"],typeof Y=="function"?Y:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,k={};function L(Y,le,Ae){this.props=Y,this.context=le,this.refs=k,this.updater=Ae||R}L.prototype.isReactComponent={},L.prototype.setState=function(Y,le){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,le,"setState")},L.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function z(){}z.prototype=L.prototype;function U(Y,le,Ae){this.props=Y,this.context=le,this.refs=k,this.updater=Ae||R}var F=U.prototype=new z;F.constructor=U,M(F,L.prototype),F.isPureReactComponent=!0;var $=Array.isArray,X=Object.prototype.hasOwnProperty,Z={current:null},H={key:!0,ref:!0,__self:!0,__source:!0};function K(Y,le,Ae){var ke,ye={},be=null,pe=null;if(le!=null)for(ke in le.ref!==void 0&&(pe=le.ref),le.key!==void 0&&(be=""+le.key),le)X.call(le,ke)&&!H.hasOwnProperty(ke)&&(ye[ke]=le[ke]);var Te=arguments.length-2;if(Te===1)ye.children=Ae;else if(1<Te){for(var We=Array(Te),Qe=0;Qe<Te;Qe++)We[Qe]=arguments[Qe+2];ye.children=We}if(Y&&Y.defaultProps)for(ke in Te=Y.defaultProps,Te)ye[ke]===void 0&&(ye[ke]=Te[ke]);return{$$typeof:r,type:Y,key:be,ref:pe,props:ye,_owner:Z.current}}function V(Y,le){return{$$typeof:r,type:Y.type,key:le,ref:Y.ref,props:Y.props,_owner:Y._owner}}function ge(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===r}function Ee(Y){var le={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(Ae){return le[Ae]})}var ce=/\/+/g;function ve(Y,le){return typeof Y=="object"&&Y!==null&&Y.key!=null?Ee(""+Y.key):le.toString(36)}function Ce(Y,le,Ae,ke,ye){var be=typeof Y;(be==="undefined"||be==="boolean")&&(Y=null);var pe=!1;if(Y===null)pe=!0;else switch(be){case"string":case"number":pe=!0;break;case"object":switch(Y.$$typeof){case r:case t:pe=!0}}if(pe)return pe=Y,ye=ye(pe),Y=ke===""?"."+ve(pe,0):ke,$(ye)?(Ae="",Y!=null&&(Ae=Y.replace(ce,"$&/")+"/"),Ce(ye,le,Ae,"",function(Qe){return Qe})):ye!=null&&(ge(ye)&&(ye=V(ye,Ae+(!ye.key||pe&&pe.key===ye.key?"":(""+ye.key).replace(ce,"$&/")+"/")+Y)),le.push(ye)),1;if(pe=0,ke=ke===""?".":ke+":",$(Y))for(var Te=0;Te<Y.length;Te++){be=Y[Te];var We=ke+ve(be,Te);pe+=Ce(be,le,Ae,We,ye)}else if(We=O(Y),typeof We=="function")for(Y=We.call(Y),Te=0;!(be=Y.next()).done;)be=be.value,We=ke+ve(be,Te++),pe+=Ce(be,le,Ae,We,ye);else if(be==="object")throw le=String(Y),Error("Objects are not valid as a React child (found: "+(le==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":le)+"). If you meant to render a collection of children, use an array instead.");return pe}function ie(Y,le,Ae){if(Y==null)return Y;var ke=[],ye=0;return Ce(Y,ke,"","",function(be){return le.call(Ae,be,ye++)}),ke}function he(Y){if(Y._status===-1){var le=Y._result;le=le(),le.then(function(Ae){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=Ae)},function(Ae){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=Ae)}),Y._status===-1&&(Y._status=0,Y._result=le)}if(Y._status===1)return Y._result.default;throw Y._result}var se={current:null},J={transition:null},ne={ReactCurrentDispatcher:se,ReactCurrentBatchConfig:J,ReactCurrentOwner:Z};function oe(){throw Error("act(...) is not supported in production builds of React.")}return Rt.Children={map:ie,forEach:function(Y,le,Ae){ie(Y,function(){le.apply(this,arguments)},Ae)},count:function(Y){var le=0;return ie(Y,function(){le++}),le},toArray:function(Y){return ie(Y,function(le){return le})||[]},only:function(Y){if(!ge(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}},Rt.Component=L,Rt.Fragment=n,Rt.Profiler=c,Rt.PureComponent=U,Rt.StrictMode=a,Rt.Suspense=b,Rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ne,Rt.act=oe,Rt.cloneElement=function(Y,le,Ae){if(Y==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Y+".");var ke=M({},Y.props),ye=Y.key,be=Y.ref,pe=Y._owner;if(le!=null){if(le.ref!==void 0&&(be=le.ref,pe=Z.current),le.key!==void 0&&(ye=""+le.key),Y.type&&Y.type.defaultProps)var Te=Y.type.defaultProps;for(We in le)X.call(le,We)&&!H.hasOwnProperty(We)&&(ke[We]=le[We]===void 0&&Te!==void 0?Te[We]:le[We])}var We=arguments.length-2;if(We===1)ke.children=Ae;else if(1<We){Te=Array(We);for(var Qe=0;Qe<We;Qe++)Te[Qe]=arguments[Qe+2];ke.children=Te}return{$$typeof:r,type:Y.type,key:ye,ref:be,props:ke,_owner:pe}},Rt.createContext=function(Y){return Y={$$typeof:p,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Y.Provider={$$typeof:d,_context:Y},Y.Consumer=Y},Rt.createElement=K,Rt.createFactory=function(Y){var le=K.bind(null,Y);return le.type=Y,le},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(Y){return{$$typeof:w,render:Y}},Rt.isValidElement=ge,Rt.lazy=function(Y){return{$$typeof:A,_payload:{_status:-1,_result:Y},_init:he}},Rt.memo=function(Y,le){return{$$typeof:y,type:Y,compare:le===void 0?null:le}},Rt.startTransition=function(Y){var le=J.transition;J.transition={};try{Y()}finally{J.transition=le}},Rt.unstable_act=oe,Rt.useCallback=function(Y,le){return se.current.useCallback(Y,le)},Rt.useContext=function(Y){return se.current.useContext(Y)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(Y){return se.current.useDeferredValue(Y)},Rt.useEffect=function(Y,le){return se.current.useEffect(Y,le)},Rt.useId=function(){return se.current.useId()},Rt.useImperativeHandle=function(Y,le,Ae){return se.current.useImperativeHandle(Y,le,Ae)},Rt.useInsertionEffect=function(Y,le){return se.current.useInsertionEffect(Y,le)},Rt.useLayoutEffect=function(Y,le){return se.current.useLayoutEffect(Y,le)},Rt.useMemo=function(Y,le){return se.current.useMemo(Y,le)},Rt.useReducer=function(Y,le,Ae){return se.current.useReducer(Y,le,Ae)},Rt.useRef=function(Y){return se.current.useRef(Y)},Rt.useState=function(Y){return se.current.useState(Y)},Rt.useSyncExternalStore=function(Y,le,Ae){return se.current.useSyncExternalStore(Y,le,Ae)},Rt.useTransition=function(){return se.current.useTransition()},Rt.version="18.3.1",Rt}var rp;function w0(){return rp||(rp=1,Wh.exports=cb()),Wh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ip;function ub(){if(ip)return Pl;ip=1;var r=w0(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,c=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function p(w,b,y){var A,_={},O=null,R=null;y!==void 0&&(O=""+y),b.key!==void 0&&(O=""+b.key),b.ref!==void 0&&(R=b.ref);for(A in b)a.call(b,A)&&!d.hasOwnProperty(A)&&(_[A]=b[A]);if(w&&w.defaultProps)for(A in b=w.defaultProps,b)_[A]===void 0&&(_[A]=b[A]);return{$$typeof:t,type:w,key:O,ref:R,props:_,_owner:c.current}}return Pl.Fragment=n,Pl.jsx=p,Pl.jsxs=p,Pl}var sp;function db(){return sp||(sp=1,Vh.exports=ub()),Vh.exports}var m=db(),cu={},Hh={exports:{}},Er={},$h={exports:{}},Gh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var op;function hb(){return op||(op=1,(function(r){function t(J,ne){var oe=J.length;J.push(ne);e:for(;0<oe;){var Y=oe-1>>>1,le=J[Y];if(0<c(le,ne))J[Y]=ne,J[oe]=le,oe=Y;else break e}}function n(J){return J.length===0?null:J[0]}function a(J){if(J.length===0)return null;var ne=J[0],oe=J.pop();if(oe!==ne){J[0]=oe;e:for(var Y=0,le=J.length,Ae=le>>>1;Y<Ae;){var ke=2*(Y+1)-1,ye=J[ke],be=ke+1,pe=J[be];if(0>c(ye,oe))be<le&&0>c(pe,ye)?(J[Y]=pe,J[be]=oe,Y=be):(J[Y]=ye,J[ke]=oe,Y=ke);else if(be<le&&0>c(pe,oe))J[Y]=pe,J[be]=oe,Y=be;else break e}}return ne}function c(J,ne){var oe=J.sortIndex-ne.sortIndex;return oe!==0?oe:J.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;r.unstable_now=function(){return d.now()}}else{var p=Date,w=p.now();r.unstable_now=function(){return p.now()-w}}var b=[],y=[],A=1,_=null,O=3,R=!1,M=!1,k=!1,L=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function F(J){for(var ne=n(y);ne!==null;){if(ne.callback===null)a(y);else if(ne.startTime<=J)a(y),ne.sortIndex=ne.expirationTime,t(b,ne);else break;ne=n(y)}}function $(J){if(k=!1,F(J),!M)if(n(b)!==null)M=!0,he(X);else{var ne=n(y);ne!==null&&se($,ne.startTime-J)}}function X(J,ne){M=!1,k&&(k=!1,z(K),K=-1),R=!0;var oe=O;try{for(F(ne),_=n(b);_!==null&&(!(_.expirationTime>ne)||J&&!Ee());){var Y=_.callback;if(typeof Y=="function"){_.callback=null,O=_.priorityLevel;var le=Y(_.expirationTime<=ne);ne=r.unstable_now(),typeof le=="function"?_.callback=le:_===n(b)&&a(b),F(ne)}else a(b);_=n(b)}if(_!==null)var Ae=!0;else{var ke=n(y);ke!==null&&se($,ke.startTime-ne),Ae=!1}return Ae}finally{_=null,O=oe,R=!1}}var Z=!1,H=null,K=-1,V=5,ge=-1;function Ee(){return!(r.unstable_now()-ge<V)}function ce(){if(H!==null){var J=r.unstable_now();ge=J;var ne=!0;try{ne=H(!0,J)}finally{ne?ve():(Z=!1,H=null)}}else Z=!1}var ve;if(typeof U=="function")ve=function(){U(ce)};else if(typeof MessageChannel<"u"){var Ce=new MessageChannel,ie=Ce.port2;Ce.port1.onmessage=ce,ve=function(){ie.postMessage(null)}}else ve=function(){L(ce,0)};function he(J){H=J,Z||(Z=!0,ve())}function se(J,ne){K=L(function(){J(r.unstable_now())},ne)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(J){J.callback=null},r.unstable_continueExecution=function(){M||R||(M=!0,he(X))},r.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<J?Math.floor(1e3/J):5},r.unstable_getCurrentPriorityLevel=function(){return O},r.unstable_getFirstCallbackNode=function(){return n(b)},r.unstable_next=function(J){switch(O){case 1:case 2:case 3:var ne=3;break;default:ne=O}var oe=O;O=ne;try{return J()}finally{O=oe}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(J,ne){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var oe=O;O=J;try{return ne()}finally{O=oe}},r.unstable_scheduleCallback=function(J,ne,oe){var Y=r.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?Y+oe:Y):oe=Y,J){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=oe+le,J={id:A++,callback:ne,priorityLevel:J,startTime:oe,expirationTime:le,sortIndex:-1},oe>Y?(J.sortIndex=oe,t(y,J),n(b)===null&&J===n(y)&&(k?(z(K),K=-1):k=!0,se($,oe-Y))):(J.sortIndex=le,t(b,J),M||R||(M=!0,he(X))),J},r.unstable_shouldYield=Ee,r.unstable_wrapCallback=function(J){var ne=O;return function(){var oe=O;O=ne;try{return J.apply(this,arguments)}finally{O=oe}}}})(Gh)),Gh}var ap;function fb(){return ap||(ap=1,$h.exports=hb()),$h.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lp;function gb(){if(lp)return Er;lp=1;var r=w0(),t=fb();function n(i){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+i,g=1;g<arguments.length;g++)l+="&args[]="+encodeURIComponent(arguments[g]);return"Minified React error #"+i+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,c={};function d(i,l){p(i,l),p(i+"Capture",l)}function p(i,l){for(c[i]=l,i=0;i<l.length;i++)a.add(l[i])}var w=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),b=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,A={},_={};function O(i){return b.call(_,i)?!0:b.call(A,i)?!1:y.test(i)?_[i]=!0:(A[i]=!0,!1)}function R(i,l,g,v){if(g!==null&&g.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return v?!1:g!==null?!g.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function M(i,l,g,v){if(l===null||typeof l>"u"||R(i,l,g,v))return!0;if(v)return!1;if(g!==null)switch(g.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function k(i,l,g,v,S,N,j){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=v,this.attributeNamespace=S,this.mustUseProperty=g,this.propertyName=i,this.type=l,this.sanitizeURL=N,this.removeEmptyString=j}var L={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){L[i]=new k(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var l=i[0];L[l]=new k(l,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){L[i]=new k(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){L[i]=new k(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){L[i]=new k(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){L[i]=new k(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){L[i]=new k(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){L[i]=new k(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){L[i]=new k(i,5,!1,i.toLowerCase(),null,!1,!1)});var z=/[\-:]([a-z])/g;function U(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var l=i.replace(z,U);L[l]=new k(l,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var l=i.replace(z,U);L[l]=new k(l,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var l=i.replace(z,U);L[l]=new k(l,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){L[i]=new k(i,1,!1,i.toLowerCase(),null,!1,!1)}),L.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){L[i]=new k(i,1,!1,i.toLowerCase(),null,!0,!0)});function F(i,l,g,v){var S=L.hasOwnProperty(l)?L[l]:null;(S!==null?S.type!==0:v||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(M(l,g,S,v)&&(g=null),v||S===null?O(l)&&(g===null?i.removeAttribute(l):i.setAttribute(l,""+g)):S.mustUseProperty?i[S.propertyName]=g===null?S.type===3?!1:"":g:(l=S.attributeName,v=S.attributeNamespace,g===null?i.removeAttribute(l):(S=S.type,g=S===3||S===4&&g===!0?"":""+g,v?i.setAttributeNS(v,l,g):i.setAttribute(l,g))))}var $=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,X=Symbol.for("react.element"),Z=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),ge=Symbol.for("react.provider"),Ee=Symbol.for("react.context"),ce=Symbol.for("react.forward_ref"),ve=Symbol.for("react.suspense"),Ce=Symbol.for("react.suspense_list"),ie=Symbol.for("react.memo"),he=Symbol.for("react.lazy"),se=Symbol.for("react.offscreen"),J=Symbol.iterator;function ne(i){return i===null||typeof i!="object"?null:(i=J&&i[J]||i["@@iterator"],typeof i=="function"?i:null)}var oe=Object.assign,Y;function le(i){if(Y===void 0)try{throw Error()}catch(g){var l=g.stack.trim().match(/\n( *(at )?)/);Y=l&&l[1]||""}return`
`+Y+i}var Ae=!1;function ke(i,l){if(!i||Ae)return"";Ae=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(we){var v=we}Reflect.construct(i,[],l)}else{try{l.call()}catch(we){v=we}i.call(l.prototype)}else{try{throw Error()}catch(we){v=we}i()}}catch(we){if(we&&v&&typeof we.stack=="string"){for(var S=we.stack.split(`
`),N=v.stack.split(`
`),j=S.length-1,q=N.length-1;1<=j&&0<=q&&S[j]!==N[q];)q--;for(;1<=j&&0<=q;j--,q--)if(S[j]!==N[q]){if(j!==1||q!==1)do if(j--,q--,0>q||S[j]!==N[q]){var ee=`
`+S[j].replace(" at new "," at ");return i.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",i.displayName)),ee}while(1<=j&&0<=q);break}}}finally{Ae=!1,Error.prepareStackTrace=g}return(i=i?i.displayName||i.name:"")?le(i):""}function ye(i){switch(i.tag){case 5:return le(i.type);case 16:return le("Lazy");case 13:return le("Suspense");case 19:return le("SuspenseList");case 0:case 2:case 15:return i=ke(i.type,!1),i;case 11:return i=ke(i.type.render,!1),i;case 1:return i=ke(i.type,!0),i;default:return""}}function be(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case H:return"Fragment";case Z:return"Portal";case V:return"Profiler";case K:return"StrictMode";case ve:return"Suspense";case Ce:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case Ee:return(i.displayName||"Context")+".Consumer";case ge:return(i._context.displayName||"Context")+".Provider";case ce:var l=i.render;return i=i.displayName,i||(i=l.displayName||l.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case ie:return l=i.displayName||null,l!==null?l:be(i.type)||"Memo";case he:l=i._payload,i=i._init;try{return be(i(l))}catch{}}return null}function pe(i){var l=i.type;switch(i.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=l.render,i=i.displayName||i.name||"",l.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return be(l);case 8:return l===K?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function Te(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function We(i){var l=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Qe(i){var l=We(i)?"checked":"value",g=Object.getOwnPropertyDescriptor(i.constructor.prototype,l),v=""+i[l];if(!i.hasOwnProperty(l)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var S=g.get,N=g.set;return Object.defineProperty(i,l,{configurable:!0,get:function(){return S.call(this)},set:function(j){v=""+j,N.call(this,j)}}),Object.defineProperty(i,l,{enumerable:g.enumerable}),{getValue:function(){return v},setValue:function(j){v=""+j},stopTracking:function(){i._valueTracker=null,delete i[l]}}}}function st(i){i._valueTracker||(i._valueTracker=Qe(i))}function St(i){if(!i)return!1;var l=i._valueTracker;if(!l)return!0;var g=l.getValue(),v="";return i&&(v=We(i)?i.checked?"true":"false":i.value),i=v,i!==g?(l.setValue(i),!0):!1}function ot(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function hn(i,l){var g=l.checked;return oe({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:g??i._wrapperState.initialChecked})}function De(i,l){var g=l.defaultValue==null?"":l.defaultValue,v=l.checked!=null?l.checked:l.defaultChecked;g=Te(l.value!=null?l.value:g),i._wrapperState={initialChecked:v,initialValue:g,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function Be(i,l){l=l.checked,l!=null&&F(i,"checked",l,!1)}function it(i,l){Be(i,l);var g=Te(l.value),v=l.type;if(g!=null)v==="number"?(g===0&&i.value===""||i.value!=g)&&(i.value=""+g):i.value!==""+g&&(i.value=""+g);else if(v==="submit"||v==="reset"){i.removeAttribute("value");return}l.hasOwnProperty("value")?tt(i,l.type,g):l.hasOwnProperty("defaultValue")&&tt(i,l.type,Te(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(i.defaultChecked=!!l.defaultChecked)}function qe(i,l,g){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var v=l.type;if(!(v!=="submit"&&v!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+i._wrapperState.initialValue,g||l===i.value||(i.value=l),i.defaultValue=l}g=i.name,g!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,g!==""&&(i.name=g)}function tt(i,l,g){(l!=="number"||ot(i.ownerDocument)!==i)&&(g==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+g&&(i.defaultValue=""+g))}var fn=Array.isArray;function Le(i,l,g,v){if(i=i.options,l){l={};for(var S=0;S<g.length;S++)l["$"+g[S]]=!0;for(g=0;g<i.length;g++)S=l.hasOwnProperty("$"+i[g].value),i[g].selected!==S&&(i[g].selected=S),S&&v&&(i[g].defaultSelected=!0)}else{for(g=""+Te(g),l=null,S=0;S<i.length;S++){if(i[S].value===g){i[S].selected=!0,v&&(i[S].defaultSelected=!0);return}l!==null||i[S].disabled||(l=i[S])}l!==null&&(l.selected=!0)}}function fr(i,l){if(l.dangerouslySetInnerHTML!=null)throw Error(n(91));return oe({},l,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function zi(i,l){var g=l.value;if(g==null){if(g=l.children,l=l.defaultValue,g!=null){if(l!=null)throw Error(n(92));if(fn(g)){if(1<g.length)throw Error(n(93));g=g[0]}l=g}l==null&&(l=""),g=l}i._wrapperState={initialValue:Te(g)}}function Zn(i,l){var g=Te(l.value),v=Te(l.defaultValue);g!=null&&(g=""+g,g!==i.value&&(i.value=g),l.defaultValue==null&&i.defaultValue!==g&&(i.defaultValue=g)),v!=null&&(i.defaultValue=""+v)}function Qn(i){var l=i.textContent;l===i._wrapperState.initialValue&&l!==""&&l!==null&&(i.value=l)}function Ln(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fr(i,l){return i==null||i==="http://www.w3.org/1999/xhtml"?Ln(l):i==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Ct,It=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,g,v,S){MSApp.execUnsafeLocalFunction(function(){return i(l,g,v,S)})}:i})(function(i,l){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=l;else{for(Ct=Ct||document.createElement("div"),Ct.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=Ct.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;l.firstChild;)i.appendChild(l.firstChild)}});function Wn(i,l){if(l){var g=i.firstChild;if(g&&g===i.lastChild&&g.nodeType===3){g.nodeValue=l;return}}i.textContent=l}var bi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bd=["Webkit","ms","Moz","O"];Object.keys(bi).forEach(function(i){bd.forEach(function(l){l=l+i.charAt(0).toUpperCase()+i.substring(1),bi[l]=bi[i]})});function on(i,l,g){return l==null||typeof l=="boolean"||l===""?"":g||typeof l!="number"||l===0||bi.hasOwnProperty(i)&&bi[i]?(""+l).trim():l+"px"}function Me(i,l){i=i.style;for(var g in l)if(l.hasOwnProperty(g)){var v=g.indexOf("--")===0,S=on(g,l[g],v);g==="float"&&(g="cssFloat"),v?i.setProperty(g,S):i[g]=S}}var wn=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bt(i,l){if(l){if(wn[i]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(n(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(n(61))}if(l.style!=null&&typeof l.style!="object")throw Error(n(62))}}function Xt(i,l){if(i.indexOf("-")===-1)return typeof l.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vi=null;function Xs(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Lo=null,Tt=null,gr=null;function qa(i){if(i=wl(i)){if(typeof Lo!="function")throw Error(n(280));var l=i.stateNode;l&&(l=Cc(l),Lo(i.stateNode,i.type,l))}}function Xa(i){Tt?gr?gr.push(i):gr=[i]:Tt=i}function pr(){if(Tt){var i=Tt,l=gr;if(gr=Tt=null,qa(i),l)for(i=0;i<l.length;i++)qa(l[i])}}function Bo(i,l){return i(l)}function In(){}var Ei=!1;function Ks(i,l,g){if(Ei)return i(l,g);Ei=!0;try{return Bo(i,l,g)}finally{Ei=!1,(Tt!==null||gr!==null)&&(In(),pr())}}function Jn(i,l){var g=i.stateNode;if(g===null)return null;var v=Cc(g);if(v===null)return null;g=v[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(i=i.type,v=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!v;break e;default:i=!1}if(i)return null;if(g&&typeof g!="function")throw Error(n(231,l,typeof g));return g}var Ka=!1;if(w)try{var Sr={};Object.defineProperty(Sr,"passive",{get:function(){Ka=!0}}),window.addEventListener("test",Sr,Sr),window.removeEventListener("test",Sr,Sr)}catch{Ka=!1}function Ya(i,l,g,v,S,N,j,q,ee){var we=Array.prototype.slice.call(arguments,3);try{l.apply(g,we)}catch(Ie){this.onError(Ie)}}var Sn=!1,Ur=null,Hn=!1,Fe=null,as={onError:function(i){Sn=!0,Ur=i}};function Za(i,l,g,v,S,N,j,q,ee){Sn=!1,Ur=null,Ya.apply(as,arguments)}function er(i,l,g,v,S,N,j,q,ee){if(Za.apply(this,arguments),Sn){if(Sn){var we=Ur;Sn=!1,Ur=null}else throw Error(n(198));Hn||(Hn=!0,Fe=we)}}function mr(i){var l=i,g=i;if(i.alternate)for(;l.return;)l=l.return;else{i=l;do l=i,(l.flags&4098)!==0&&(g=l.return),i=l.return;while(i)}return l.tag===3?g:null}function Ys(i){if(i.tag===13){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function Zs(i){if(mr(i)!==i)throw Error(n(188))}function zr(i){var l=i.alternate;if(!l){if(l=mr(i),l===null)throw Error(n(188));return l!==i?null:i}for(var g=i,v=l;;){var S=g.return;if(S===null)break;var N=S.alternate;if(N===null){if(v=S.return,v!==null){g=v;continue}break}if(S.child===N.child){for(N=S.child;N;){if(N===g)return Zs(S),i;if(N===v)return Zs(S),l;N=N.sibling}throw Error(n(188))}if(g.return!==v.return)g=S,v=N;else{for(var j=!1,q=S.child;q;){if(q===g){j=!0,g=S,v=N;break}if(q===v){j=!0,v=S,g=N;break}q=q.sibling}if(!j){for(q=N.child;q;){if(q===g){j=!0,g=N,v=S;break}if(q===v){j=!0,v=N,g=S;break}q=q.sibling}if(!j)throw Error(n(189))}}if(g.alternate!==v)throw Error(n(190))}if(g.tag!==3)throw Error(n(188));return g.stateNode.current===g?i:l}function nc(i){return i=zr(i),i!==null?rc(i):null}function rc(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var l=rc(i);if(l!==null)return l;i=i.sibling}return null}var Ar=t.unstable_scheduleCallback,Bn=t.unstable_cancelCallback,Kt=t.unstable_shouldYield,ic=t.unstable_requestPaint,zt=t.unstable_now,Qa=t.unstable_getCurrentPriorityLevel,Se=t.unstable_ImmediatePriority,sc=t.unstable_UserBlockingPriority,$t=t.unstable_NormalPriority,ls=t.unstable_LowPriority,oc=t.unstable_IdlePriority,Dt=null,vt=null;function Ot(i){if(vt&&typeof vt.onCommitFiberRoot=="function")try{vt.onCommitFiberRoot(Dt,i,void 0,(i.current.flags&128)===128)}catch{}}var cr=Math.clz32?Math.clz32:yn,Ja=Math.log,el=Math.LN2;function yn(i){return i>>>=0,i===0?32:31-(Ja(i)/el|0)|0}var _r=64,Fo=4194304;function Gt(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Nr(i,l){var g=i.pendingLanes;if(g===0)return 0;var v=0,S=i.suspendedLanes,N=i.pingedLanes,j=g&268435455;if(j!==0){var q=j&~S;q!==0?v=Gt(q):(N&=j,N!==0&&(v=Gt(N)))}else j=g&~S,j!==0?v=Gt(j):N!==0&&(v=Gt(N));if(v===0)return 0;if(l!==0&&l!==v&&(l&S)===0&&(S=v&-v,N=l&-l,S>=N||S===16&&(N&4194240)!==0))return l;if((v&4)!==0&&(v|=g&16),l=i.entangledLanes,l!==0)for(i=i.entanglements,l&=v;0<l;)g=31-cr(l),S=1<<g,v|=i[g],l&=~S;return v}function Ed(i,l){switch(i){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cs(i,l){for(var g=i.suspendedLanes,v=i.pingedLanes,S=i.expirationTimes,N=i.pendingLanes;0<N;){var j=31-cr(N),q=1<<j,ee=S[j];ee===-1?((q&g)===0||(q&v)!==0)&&(S[j]=Ed(q,l)):ee<=l&&(i.expiredLanes|=q),N&=~q}}function Vt(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Tn(){var i=_r;return _r<<=1,(_r&4194240)===0&&(_r=64),i}function ue(i){for(var l=[],g=0;31>g;g++)l.push(i);return l}function W(i,l,g){i.pendingLanes|=l,l!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,l=31-cr(l),i[l]=g}function et(i,l){var g=i.pendingLanes&~l;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=l,i.mutableReadLanes&=l,i.entangledLanes&=l,l=i.entanglements;var v=i.eventTimes;for(i=i.expirationTimes;0<g;){var S=31-cr(g),N=1<<S;l[S]=0,v[S]=-1,i[S]=-1,g&=~N}}function gn(i,l){var g=i.entangledLanes|=l;for(i=i.entanglements;g;){var v=31-cr(g),S=1<<v;S&l|i[v]&l&&(i[v]|=l),g&=~S}}var bt=0;function ac(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Uo,tr,nt,Yt,tl,nl=!1,us=[],Ir=null,Vr=null,Ci=null,rn=new Map,Jr=new Map,$n=[],ut="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function lc(i,l){switch(i){case"focusin":case"focusout":Ir=null;break;case"dragenter":case"dragleave":Vr=null;break;case"mouseover":case"mouseout":Ci=null;break;case"pointerover":case"pointerout":rn.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jr.delete(l.pointerId)}}function pt(i,l,g,v,S,N){return i===null||i.nativeEvent!==N?(i={blockedOn:l,domEventName:g,eventSystemFlags:v,nativeEvent:N,targetContainers:[S]},l!==null&&(l=wl(l),l!==null&&tr(l)),i):(i.eventSystemFlags|=v,l=i.targetContainers,S!==null&&l.indexOf(S)===-1&&l.push(S),i)}function Rn(i,l,g,v,S){switch(l){case"focusin":return Ir=pt(Ir,i,l,g,v,S),!0;case"dragenter":return Vr=pt(Vr,i,l,g,v,S),!0;case"mouseover":return Ci=pt(Ci,i,l,g,v,S),!0;case"pointerover":var N=S.pointerId;return rn.set(N,pt(rn.get(N)||null,i,l,g,v,S)),!0;case"gotpointercapture":return N=S.pointerId,Jr.set(N,pt(Jr.get(N)||null,i,l,g,v,S)),!0}return!1}function cc(i){var l=ao(i.target);if(l!==null){var g=mr(l);if(g!==null){if(l=g.tag,l===13){if(l=Ys(g),l!==null){i.blockedOn=l,tl(i.priority,function(){nt(g)});return}}else if(l===3&&g.stateNode.current.memoizedState.isDehydrated){i.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}i.blockedOn=null}function ds(i){if(i.blockedOn!==null)return!1;for(var l=i.targetContainers;0<l.length;){var g=zo(i.domEventName,i.eventSystemFlags,l[0],i.nativeEvent);if(g===null){g=i.nativeEvent;var v=new g.constructor(g.type,g);Vi=v,g.target.dispatchEvent(v),Vi=null}else return l=wl(g),l!==null&&tr(l),i.blockedOn=g,!1;l.shift()}return!0}function rl(i,l,g){ds(i)&&g.delete(l)}function Wi(){nl=!1,Ir!==null&&ds(Ir)&&(Ir=null),Vr!==null&&ds(Vr)&&(Vr=null),Ci!==null&&ds(Ci)&&(Ci=null),rn.forEach(rl),Jr.forEach(rl)}function Qs(i,l){i.blockedOn===l&&(i.blockedOn=null,nl||(nl=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Wi)))}function ei(i){function l(S){return Qs(S,i)}if(0<us.length){Qs(us[0],i);for(var g=1;g<us.length;g++){var v=us[g];v.blockedOn===i&&(v.blockedOn=null)}}for(Ir!==null&&Qs(Ir,i),Vr!==null&&Qs(Vr,i),Ci!==null&&Qs(Ci,i),rn.forEach(l),Jr.forEach(l),g=0;g<$n.length;g++)v=$n[g],v.blockedOn===i&&(v.blockedOn=null);for(;0<$n.length&&(g=$n[0],g.blockedOn===null);)cc(g),g.blockedOn===null&&$n.shift()}var Wr=$.ReactCurrentBatchConfig,Si=!0;function uc(i,l,g,v){var S=bt,N=Wr.transition;Wr.transition=null;try{bt=1,Hi(i,l,g,v)}finally{bt=S,Wr.transition=N}}function Js(i,l,g,v){var S=bt,N=Wr.transition;Wr.transition=null;try{bt=4,Hi(i,l,g,v)}finally{bt=S,Wr.transition=N}}function Hi(i,l,g,v){if(Si){var S=zo(i,l,g,v);if(S===null)Od(i,l,v,kn,g),lc(i,v);else if(Rn(S,i,l,g,v))v.stopPropagation();else if(lc(i,v),l&4&&-1<ut.indexOf(i)){for(;S!==null;){var N=wl(S);if(N!==null&&Uo(N),N=zo(i,l,g,v),N===null&&Od(i,l,v,kn,g),N===S)break;S=N}S!==null&&v.stopPropagation()}else Od(i,l,v,null,g)}}var kn=null;function zo(i,l,g,v){if(kn=null,i=Xs(v),i=ao(i),i!==null)if(l=mr(i),l===null)i=null;else if(g=l.tag,g===13){if(i=Ys(l),i!==null)return i;i=null}else if(g===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;i=null}else l!==i&&(i=null);return kn=i,null}function il(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qa()){case Se:return 1;case sc:return 4;case $t:case ls:return 16;case oc:return 536870912;default:return 16}default:return 16}}var ti=null,sl=null,Vo=null;function dc(){if(Vo)return Vo;var i,l=sl,g=l.length,v,S="value"in ti?ti.value:ti.textContent,N=S.length;for(i=0;i<g&&l[i]===S[i];i++);var j=g-i;for(v=1;v<=j&&l[g-v]===S[N-v];v++);return Vo=S.slice(i,1<v?1-v:void 0)}function jt(i){var l=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&l===13&&(i=13)):i=l,i===10&&(i=13),32<=i||i===13?i:0}function eo(){return!0}function to(){return!1}function pn(i){function l(g,v,S,N,j){this._reactName=g,this._targetInst=S,this.type=v,this.nativeEvent=N,this.target=j,this.currentTarget=null;for(var q in i)i.hasOwnProperty(q)&&(g=i[q],this[q]=g?g(N):N[q]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?eo:to,this.isPropagationStopped=to,this}return oe(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=eo)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=eo)},persist:function(){},isPersistent:eo}),l}var hs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xe=pn(hs),wt=oe({},hs,{view:0,detail:0}),On=pn(wt),fs,Wo,no,Ho=oe({},wt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ro,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==no&&(no&&i.type==="mousemove"?(fs=i.screenX-no.screenX,Wo=i.screenY-no.screenY):Wo=fs=0,no=i),fs)},movementY:function(i){return"movementY"in i?i.movementY:Wo}}),hc=pn(Ho),ol=oe({},Ho,{dataTransfer:0}),vn=pn(ol),al=oe({},wt,{relatedTarget:0}),Zt=pn(al),$o=oe({},hs,{animationName:0,elapsedTime:0,pseudoElement:0}),$i=pn($o),Wt=oe({},hs,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),at=pn(Wt),Cd=oe({},hs,{data:0}),Ht=pn(Cd),Gi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gs={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hr(i){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(i):(i=Sd[i])?!!l[i]:!1}function ro(){return Hr}var fc=oe({},wt,{key:function(i){if(i.key){var l=Gi[i.key]||i.key;if(l!=="Unidentified")return l}return i.type==="keypress"?(i=jt(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?gs[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ro,charCode:function(i){return i.type==="keypress"?jt(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?jt(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),ll=pn(fc),gc=oe({},Ho,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cl=pn(gc),Ad=oe({},wt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ro}),ps=pn(Ad),ul=oe({},hs,{propertyName:0,elapsedTime:0,pseudoElement:0}),_d=pn(ul),io=oe({},Ho,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Nd=pn(io),Ai=[9,13,27,32],ms=w&&"CompositionEvent"in window,Fn=null;w&&"documentMode"in document&&(Fn=document.documentMode);var pc=w&&"TextEvent"in window&&!Fn,Tr=w&&(!ms||Fn&&8<Fn&&11>=Fn),mc=" ",Go=!1;function xc(i,l){switch(i){case"keyup":return Ai.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dl(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Gn=!1;function Id(i,l){switch(i){case"compositionend":return dl(l);case"keypress":return l.which!==32?null:(Go=!0,mc);case"textInput":return i=l.data,i===mc&&Go?null:i;default:return null}}function hl(i,l){if(Gn)return i==="compositionend"||!ms&&xc(i,l)?(i=dc(),Vo=sl=ti=null,Gn=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Tr&&l.locale!=="ko"?null:l.data;default:return null}}var so={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pt(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l==="input"?!!so[i.type]:l==="textarea"}function oo(i,l,g,v){Xa(v),l=vc(l,"onChange"),0<l.length&&(g=new xe("onChange","change",null,g,v),i.push({event:g,listeners:l}))}var P=null,e=null;function s(i){w1(i,0)}function o(i){var l=Ko(i);if(St(l))return i}function u(i,l){if(i==="change")return l}var h=!1;if(w){var f;if(w){var x="oninput"in document;if(!x){var E=document.createElement("div");E.setAttribute("oninput","return;"),x=typeof E.oninput=="function"}f=x}else f=!1;h=f&&(!document.documentMode||9<document.documentMode)}function C(){P&&(P.detachEvent("onpropertychange",I),e=P=null)}function I(i){if(i.propertyName==="value"&&o(e)){var l=[];oo(l,e,i,Xs(i)),Ks(s,l)}}function D(i,l,g){i==="focusin"?(C(),P=l,e=g,P.attachEvent("onpropertychange",I)):i==="focusout"&&C()}function B(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return o(e)}function G(i,l){if(i==="click")return o(l)}function Q(i,l){if(i==="input"||i==="change")return o(l)}function te(i,l){return i===l&&(i!==0||1/i===1/l)||i!==i&&l!==l}var ae=typeof Object.is=="function"?Object.is:te;function me(i,l){if(ae(i,l))return!0;if(typeof i!="object"||i===null||typeof l!="object"||l===null)return!1;var g=Object.keys(i),v=Object.keys(l);if(g.length!==v.length)return!1;for(v=0;v<g.length;v++){var S=g[v];if(!b.call(l,S)||!ae(i[S],l[S]))return!1}return!0}function Oe(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Pe(i,l){var g=Oe(i);i=0;for(var v;g;){if(g.nodeType===3){if(v=i+g.textContent.length,i<=l&&v>=l)return{node:g,offset:l-i};i=v}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=Oe(g)}}function Ne(i,l){return i&&l?i===l?!0:i&&i.nodeType===3?!1:l&&l.nodeType===3?Ne(i,l.parentNode):"contains"in i?i.contains(l):i.compareDocumentPosition?!!(i.compareDocumentPosition(l)&16):!1:!1}function At(){for(var i=window,l=ot();l instanceof i.HTMLIFrameElement;){try{var g=typeof l.contentWindow.location.href=="string"}catch{g=!1}if(g)i=l.contentWindow;else break;l=ot(i.document)}return l}function mt(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l&&(l==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||l==="textarea"||i.contentEditable==="true")}function nr(i){var l=At(),g=i.focusedElem,v=i.selectionRange;if(l!==g&&g&&g.ownerDocument&&Ne(g.ownerDocument.documentElement,g)){if(v!==null&&mt(g)){if(l=v.start,i=v.end,i===void 0&&(i=l),"selectionStart"in g)g.selectionStart=l,g.selectionEnd=Math.min(i,g.value.length);else if(i=(l=g.ownerDocument||document)&&l.defaultView||window,i.getSelection){i=i.getSelection();var S=g.textContent.length,N=Math.min(v.start,S);v=v.end===void 0?N:Math.min(v.end,S),!i.extend&&N>v&&(S=v,v=N,N=S),S=Pe(g,N);var j=Pe(g,v);S&&j&&(i.rangeCount!==1||i.anchorNode!==S.node||i.anchorOffset!==S.offset||i.focusNode!==j.node||i.focusOffset!==j.offset)&&(l=l.createRange(),l.setStart(S.node,S.offset),i.removeAllRanges(),N>v?(i.addRange(l),i.extend(j.node,j.offset)):(l.setEnd(j.node,j.offset),i.addRange(l)))}}for(l=[],i=g;i=i.parentNode;)i.nodeType===1&&l.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<l.length;g++)i=l[g],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var Rr=w&&"documentMode"in document&&11>=document.documentMode,bn=null,Ft=null,an=null,qn=!1;function qi(i,l,g){var v=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;qn||bn==null||bn!==ot(v)||(v=bn,"selectionStart"in v&&mt(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),an&&me(an,v)||(an=v,v=vc(Ft,"onSelect"),0<v.length&&(l=new xe("onSelect","select",null,l,g),i.push({event:l,listeners:v}),l.target=bn)))}function ni(i,l){var g={};return g[i.toLowerCase()]=l.toLowerCase(),g["Webkit"+i]="webkit"+l,g["Moz"+i]="moz"+l,g}var xs={animationend:ni("Animation","AnimationEnd"),animationiteration:ni("Animation","AnimationIteration"),animationstart:ni("Animation","AnimationStart"),transitionend:ni("Transition","TransitionEnd")},fl={},u1={};w&&(u1=document.createElement("div").style,"AnimationEvent"in window||(delete xs.animationend.animation,delete xs.animationiteration.animation,delete xs.animationstart.animation),"TransitionEvent"in window||delete xs.transitionend.transition);function wc(i){if(fl[i])return fl[i];if(!xs[i])return i;var l=xs[i],g;for(g in l)if(l.hasOwnProperty(g)&&g in u1)return fl[i]=l[g];return i}var d1=wc("animationend"),h1=wc("animationiteration"),f1=wc("animationstart"),g1=wc("transitionend"),p1=new Map,m1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ws(i,l){p1.set(i,l),d(l,[i])}for(var Td=0;Td<m1.length;Td++){var Rd=m1[Td],x2=Rd.toLowerCase(),w2=Rd[0].toUpperCase()+Rd.slice(1);ws(x2,"on"+w2)}ws(d1,"onAnimationEnd"),ws(h1,"onAnimationIteration"),ws(f1,"onAnimationStart"),ws("dblclick","onDoubleClick"),ws("focusin","onFocus"),ws("focusout","onBlur"),ws(g1,"onTransitionEnd"),p("onMouseEnter",["mouseout","mouseover"]),p("onMouseLeave",["mouseout","mouseover"]),p("onPointerEnter",["pointerout","pointerover"]),p("onPointerLeave",["pointerout","pointerover"]),d("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),d("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),d("onBeforeInput",["compositionend","keypress","textInput","paste"]),d("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),y2=new Set("cancel close invalid load scroll toggle".split(" ").concat(gl));function x1(i,l,g){var v=i.type||"unknown-event";i.currentTarget=g,er(v,l,void 0,i),i.currentTarget=null}function w1(i,l){l=(l&4)!==0;for(var g=0;g<i.length;g++){var v=i[g],S=v.event;v=v.listeners;e:{var N=void 0;if(l)for(var j=v.length-1;0<=j;j--){var q=v[j],ee=q.instance,we=q.currentTarget;if(q=q.listener,ee!==N&&S.isPropagationStopped())break e;x1(S,q,we),N=ee}else for(j=0;j<v.length;j++){if(q=v[j],ee=q.instance,we=q.currentTarget,q=q.listener,ee!==N&&S.isPropagationStopped())break e;x1(S,q,we),N=ee}}}if(Hn)throw i=Fe,Hn=!1,Fe=null,i}function en(i,l){var g=l[Bd];g===void 0&&(g=l[Bd]=new Set);var v=i+"__bubble";g.has(v)||(y1(l,i,2,!1),g.add(v))}function kd(i,l,g){var v=0;l&&(v|=4),y1(g,i,v,l)}var yc="_reactListening"+Math.random().toString(36).slice(2);function pl(i){if(!i[yc]){i[yc]=!0,a.forEach(function(g){g!=="selectionchange"&&(y2.has(g)||kd(g,!1,i),kd(g,!0,i))});var l=i.nodeType===9?i:i.ownerDocument;l===null||l[yc]||(l[yc]=!0,kd("selectionchange",!1,l))}}function y1(i,l,g,v){switch(il(l)){case 1:var S=uc;break;case 4:S=Js;break;default:S=Hi}g=S.bind(null,l,g,i),S=void 0,!Ka||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(S=!0),v?S!==void 0?i.addEventListener(l,g,{capture:!0,passive:S}):i.addEventListener(l,g,!0):S!==void 0?i.addEventListener(l,g,{passive:S}):i.addEventListener(l,g,!1)}function Od(i,l,g,v,S){var N=v;if((l&1)===0&&(l&2)===0&&v!==null)e:for(;;){if(v===null)return;var j=v.tag;if(j===3||j===4){var q=v.stateNode.containerInfo;if(q===S||q.nodeType===8&&q.parentNode===S)break;if(j===4)for(j=v.return;j!==null;){var ee=j.tag;if((ee===3||ee===4)&&(ee=j.stateNode.containerInfo,ee===S||ee.nodeType===8&&ee.parentNode===S))return;j=j.return}for(;q!==null;){if(j=ao(q),j===null)return;if(ee=j.tag,ee===5||ee===6){v=N=j;continue e}q=q.parentNode}}v=v.return}Ks(function(){var we=N,Ie=Xs(g),Re=[];e:{var _e=p1.get(i);if(_e!==void 0){var Ue=xe,He=i;switch(i){case"keypress":if(jt(g)===0)break e;case"keydown":case"keyup":Ue=ll;break;case"focusin":He="focus",Ue=Zt;break;case"focusout":He="blur",Ue=Zt;break;case"beforeblur":case"afterblur":Ue=Zt;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ue=hc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ue=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ue=ps;break;case d1:case h1:case f1:Ue=$i;break;case g1:Ue=_d;break;case"scroll":Ue=On;break;case"wheel":Ue=Nd;break;case"copy":case"cut":case"paste":Ue=at;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ue=cl}var Xe=(l&4)!==0,En=!Xe&&i==="scroll",de=Xe?_e!==null?_e+"Capture":null:_e;Xe=[];for(var re=we,fe;re!==null;){fe=re;var je=fe.stateNode;if(fe.tag===5&&je!==null&&(fe=je,de!==null&&(je=Jn(re,de),je!=null&&Xe.push(ml(re,je,fe)))),En)break;re=re.return}0<Xe.length&&(_e=new Ue(_e,He,null,g,Ie),Re.push({event:_e,listeners:Xe}))}}if((l&7)===0){e:{if(_e=i==="mouseover"||i==="pointerover",Ue=i==="mouseout"||i==="pointerout",_e&&g!==Vi&&(He=g.relatedTarget||g.fromElement)&&(ao(He)||He[Xi]))break e;if((Ue||_e)&&(_e=Ie.window===Ie?Ie:(_e=Ie.ownerDocument)?_e.defaultView||_e.parentWindow:window,Ue?(He=g.relatedTarget||g.toElement,Ue=we,He=He?ao(He):null,He!==null&&(En=mr(He),He!==En||He.tag!==5&&He.tag!==6)&&(He=null)):(Ue=null,He=we),Ue!==He)){if(Xe=hc,je="onMouseLeave",de="onMouseEnter",re="mouse",(i==="pointerout"||i==="pointerover")&&(Xe=cl,je="onPointerLeave",de="onPointerEnter",re="pointer"),En=Ue==null?_e:Ko(Ue),fe=He==null?_e:Ko(He),_e=new Xe(je,re+"leave",Ue,g,Ie),_e.target=En,_e.relatedTarget=fe,je=null,ao(Ie)===we&&(Xe=new Xe(de,re+"enter",He,g,Ie),Xe.target=fe,Xe.relatedTarget=En,je=Xe),En=je,Ue&&He)t:{for(Xe=Ue,de=He,re=0,fe=Xe;fe;fe=qo(fe))re++;for(fe=0,je=de;je;je=qo(je))fe++;for(;0<re-fe;)Xe=qo(Xe),re--;for(;0<fe-re;)de=qo(de),fe--;for(;re--;){if(Xe===de||de!==null&&Xe===de.alternate)break t;Xe=qo(Xe),de=qo(de)}Xe=null}else Xe=null;Ue!==null&&v1(Re,_e,Ue,Xe,!1),He!==null&&En!==null&&v1(Re,En,He,Xe,!0)}}e:{if(_e=we?Ko(we):window,Ue=_e.nodeName&&_e.nodeName.toLowerCase(),Ue==="select"||Ue==="input"&&_e.type==="file")var Ke=u;else if(Pt(_e))if(h)Ke=Q;else{Ke=B;var lt=D}else(Ue=_e.nodeName)&&Ue.toLowerCase()==="input"&&(_e.type==="checkbox"||_e.type==="radio")&&(Ke=G);if(Ke&&(Ke=Ke(i,we))){oo(Re,Ke,g,Ie);break e}lt&&lt(i,_e,we),i==="focusout"&&(lt=_e._wrapperState)&&lt.controlled&&_e.type==="number"&&tt(_e,"number",_e.value)}switch(lt=we?Ko(we):window,i){case"focusin":(Pt(lt)||lt.contentEditable==="true")&&(bn=lt,Ft=we,an=null);break;case"focusout":an=Ft=bn=null;break;case"mousedown":qn=!0;break;case"contextmenu":case"mouseup":case"dragend":qn=!1,qi(Re,g,Ie);break;case"selectionchange":if(Rr)break;case"keydown":case"keyup":qi(Re,g,Ie)}var ct;if(ms)e:{switch(i){case"compositionstart":var ft="onCompositionStart";break e;case"compositionend":ft="onCompositionEnd";break e;case"compositionupdate":ft="onCompositionUpdate";break e}ft=void 0}else Gn?xc(i,g)&&(ft="onCompositionEnd"):i==="keydown"&&g.keyCode===229&&(ft="onCompositionStart");ft&&(Tr&&g.locale!=="ko"&&(Gn||ft!=="onCompositionStart"?ft==="onCompositionEnd"&&Gn&&(ct=dc()):(ti=Ie,sl="value"in ti?ti.value:ti.textContent,Gn=!0)),lt=vc(we,ft),0<lt.length&&(ft=new Ht(ft,i,null,g,Ie),Re.push({event:ft,listeners:lt}),ct?ft.data=ct:(ct=dl(g),ct!==null&&(ft.data=ct)))),(ct=pc?Id(i,g):hl(i,g))&&(we=vc(we,"onBeforeInput"),0<we.length&&(Ie=new Ht("onBeforeInput","beforeinput",null,g,Ie),Re.push({event:Ie,listeners:we}),Ie.data=ct))}w1(Re,l)})}function ml(i,l,g){return{instance:i,listener:l,currentTarget:g}}function vc(i,l){for(var g=l+"Capture",v=[];i!==null;){var S=i,N=S.stateNode;S.tag===5&&N!==null&&(S=N,N=Jn(i,g),N!=null&&v.unshift(ml(i,N,S)),N=Jn(i,l),N!=null&&v.push(ml(i,N,S))),i=i.return}return v}function qo(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function v1(i,l,g,v,S){for(var N=l._reactName,j=[];g!==null&&g!==v;){var q=g,ee=q.alternate,we=q.stateNode;if(ee!==null&&ee===v)break;q.tag===5&&we!==null&&(q=we,S?(ee=Jn(g,N),ee!=null&&j.unshift(ml(g,ee,q))):S||(ee=Jn(g,N),ee!=null&&j.push(ml(g,ee,q)))),g=g.return}j.length!==0&&i.push({event:l,listeners:j})}var v2=/\r\n?/g,b2=/\u0000|\uFFFD/g;function b1(i){return(typeof i=="string"?i:""+i).replace(v2,`
`).replace(b2,"")}function bc(i,l,g){if(l=b1(l),b1(i)!==l&&g)throw Error(n(425))}function Ec(){}var Pd=null,Dd=null;function jd(i,l){return i==="textarea"||i==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Md=typeof setTimeout=="function"?setTimeout:void 0,E2=typeof clearTimeout=="function"?clearTimeout:void 0,E1=typeof Promise=="function"?Promise:void 0,C2=typeof queueMicrotask=="function"?queueMicrotask:typeof E1<"u"?function(i){return E1.resolve(null).then(i).catch(S2)}:Md;function S2(i){setTimeout(function(){throw i})}function Ld(i,l){var g=l,v=0;do{var S=g.nextSibling;if(i.removeChild(g),S&&S.nodeType===8)if(g=S.data,g==="/$"){if(v===0){i.removeChild(S),ei(l);return}v--}else g!=="$"&&g!=="$?"&&g!=="$!"||v++;g=S}while(g);ei(l)}function ys(i){for(;i!=null;i=i.nextSibling){var l=i.nodeType;if(l===1||l===3)break;if(l===8){if(l=i.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return i}function C1(i){i=i.previousSibling;for(var l=0;i;){if(i.nodeType===8){var g=i.data;if(g==="$"||g==="$!"||g==="$?"){if(l===0)return i;l--}else g==="/$"&&l++}i=i.previousSibling}return null}var Xo=Math.random().toString(36).slice(2),_i="__reactFiber$"+Xo,xl="__reactProps$"+Xo,Xi="__reactContainer$"+Xo,Bd="__reactEvents$"+Xo,A2="__reactListeners$"+Xo,_2="__reactHandles$"+Xo;function ao(i){var l=i[_i];if(l)return l;for(var g=i.parentNode;g;){if(l=g[Xi]||g[_i]){if(g=l.alternate,l.child!==null||g!==null&&g.child!==null)for(i=C1(i);i!==null;){if(g=i[_i])return g;i=C1(i)}return l}i=g,g=i.parentNode}return null}function wl(i){return i=i[_i]||i[Xi],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Ko(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function Cc(i){return i[xl]||null}var Fd=[],Yo=-1;function vs(i){return{current:i}}function tn(i){0>Yo||(i.current=Fd[Yo],Fd[Yo]=null,Yo--)}function Qt(i,l){Yo++,Fd[Yo]=i.current,i.current=l}var bs={},rr=vs(bs),xr=vs(!1),lo=bs;function Zo(i,l){var g=i.type.contextTypes;if(!g)return bs;var v=i.stateNode;if(v&&v.__reactInternalMemoizedUnmaskedChildContext===l)return v.__reactInternalMemoizedMaskedChildContext;var S={},N;for(N in g)S[N]=l[N];return v&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=l,i.__reactInternalMemoizedMaskedChildContext=S),S}function wr(i){return i=i.childContextTypes,i!=null}function Sc(){tn(xr),tn(rr)}function S1(i,l,g){if(rr.current!==bs)throw Error(n(168));Qt(rr,l),Qt(xr,g)}function A1(i,l,g){var v=i.stateNode;if(l=l.childContextTypes,typeof v.getChildContext!="function")return g;v=v.getChildContext();for(var S in v)if(!(S in l))throw Error(n(108,pe(i)||"Unknown",S));return oe({},g,v)}function Ac(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||bs,lo=rr.current,Qt(rr,i),Qt(xr,xr.current),!0}function _1(i,l,g){var v=i.stateNode;if(!v)throw Error(n(169));g?(i=A1(i,l,lo),v.__reactInternalMemoizedMergedChildContext=i,tn(xr),tn(rr),Qt(rr,i)):tn(xr),Qt(xr,g)}var Ki=null,_c=!1,Ud=!1;function N1(i){Ki===null?Ki=[i]:Ki.push(i)}function N2(i){_c=!0,N1(i)}function Es(){if(!Ud&&Ki!==null){Ud=!0;var i=0,l=bt;try{var g=Ki;for(bt=1;i<g.length;i++){var v=g[i];do v=v(!0);while(v!==null)}Ki=null,_c=!1}catch(S){throw Ki!==null&&(Ki=Ki.slice(i+1)),Ar(Se,Es),S}finally{bt=l,Ud=!1}}return null}var Qo=[],Jo=0,Nc=null,Ic=0,$r=[],Gr=0,co=null,Yi=1,Zi="";function uo(i,l){Qo[Jo++]=Ic,Qo[Jo++]=Nc,Nc=i,Ic=l}function I1(i,l,g){$r[Gr++]=Yi,$r[Gr++]=Zi,$r[Gr++]=co,co=i;var v=Yi;i=Zi;var S=32-cr(v)-1;v&=~(1<<S),g+=1;var N=32-cr(l)+S;if(30<N){var j=S-S%5;N=(v&(1<<j)-1).toString(32),v>>=j,S-=j,Yi=1<<32-cr(l)+S|g<<S|v,Zi=N+i}else Yi=1<<N|g<<S|v,Zi=i}function zd(i){i.return!==null&&(uo(i,1),I1(i,1,0))}function Vd(i){for(;i===Nc;)Nc=Qo[--Jo],Qo[Jo]=null,Ic=Qo[--Jo],Qo[Jo]=null;for(;i===co;)co=$r[--Gr],$r[Gr]=null,Zi=$r[--Gr],$r[Gr]=null,Yi=$r[--Gr],$r[Gr]=null}var kr=null,Or=null,sn=!1,ri=null;function T1(i,l){var g=Yr(5,null,null,0);g.elementType="DELETED",g.stateNode=l,g.return=i,l=i.deletions,l===null?(i.deletions=[g],i.flags|=16):l.push(g)}function R1(i,l){switch(i.tag){case 5:var g=i.type;return l=l.nodeType!==1||g.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(i.stateNode=l,kr=i,Or=ys(l.firstChild),!0):!1;case 6:return l=i.pendingProps===""||l.nodeType!==3?null:l,l!==null?(i.stateNode=l,kr=i,Or=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(g=co!==null?{id:Yi,overflow:Zi}:null,i.memoizedState={dehydrated:l,treeContext:g,retryLane:1073741824},g=Yr(18,null,null,0),g.stateNode=l,g.return=i,i.child=g,kr=i,Or=null,!0):!1;default:return!1}}function Wd(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Hd(i){if(sn){var l=Or;if(l){var g=l;if(!R1(i,l)){if(Wd(i))throw Error(n(418));l=ys(g.nextSibling);var v=kr;l&&R1(i,l)?T1(v,g):(i.flags=i.flags&-4097|2,sn=!1,kr=i)}}else{if(Wd(i))throw Error(n(418));i.flags=i.flags&-4097|2,sn=!1,kr=i}}}function k1(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;kr=i}function Tc(i){if(i!==kr)return!1;if(!sn)return k1(i),sn=!0,!1;var l;if((l=i.tag!==3)&&!(l=i.tag!==5)&&(l=i.type,l=l!=="head"&&l!=="body"&&!jd(i.type,i.memoizedProps)),l&&(l=Or)){if(Wd(i))throw O1(),Error(n(418));for(;l;)T1(i,l),l=ys(l.nextSibling)}if(k1(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,l=0;i;){if(i.nodeType===8){var g=i.data;if(g==="/$"){if(l===0){Or=ys(i.nextSibling);break e}l--}else g!=="$"&&g!=="$!"&&g!=="$?"||l++}i=i.nextSibling}Or=null}}else Or=kr?ys(i.stateNode.nextSibling):null;return!0}function O1(){for(var i=Or;i;)i=ys(i.nextSibling)}function ea(){Or=kr=null,sn=!1}function $d(i){ri===null?ri=[i]:ri.push(i)}var I2=$.ReactCurrentBatchConfig;function yl(i,l,g){if(i=g.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(g._owner){if(g=g._owner,g){if(g.tag!==1)throw Error(n(309));var v=g.stateNode}if(!v)throw Error(n(147,i));var S=v,N=""+i;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===N?l.ref:(l=function(j){var q=S.refs;j===null?delete q[N]:q[N]=j},l._stringRef=N,l)}if(typeof i!="string")throw Error(n(284));if(!g._owner)throw Error(n(290,i))}return i}function Rc(i,l){throw i=Object.prototype.toString.call(l),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":i))}function P1(i){var l=i._init;return l(i._payload)}function D1(i){function l(de,re){if(i){var fe=de.deletions;fe===null?(de.deletions=[re],de.flags|=16):fe.push(re)}}function g(de,re){if(!i)return null;for(;re!==null;)l(de,re),re=re.sibling;return null}function v(de,re){for(de=new Map;re!==null;)re.key!==null?de.set(re.key,re):de.set(re.index,re),re=re.sibling;return de}function S(de,re){return de=Rs(de,re),de.index=0,de.sibling=null,de}function N(de,re,fe){return de.index=fe,i?(fe=de.alternate,fe!==null?(fe=fe.index,fe<re?(de.flags|=2,re):fe):(de.flags|=2,re)):(de.flags|=1048576,re)}function j(de){return i&&de.alternate===null&&(de.flags|=2),de}function q(de,re,fe,je){return re===null||re.tag!==6?(re=Mh(fe,de.mode,je),re.return=de,re):(re=S(re,fe),re.return=de,re)}function ee(de,re,fe,je){var Ke=fe.type;return Ke===H?Ie(de,re,fe.props.children,je,fe.key):re!==null&&(re.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===he&&P1(Ke)===re.type)?(je=S(re,fe.props),je.ref=yl(de,re,fe),je.return=de,je):(je=eu(fe.type,fe.key,fe.props,null,de.mode,je),je.ref=yl(de,re,fe),je.return=de,je)}function we(de,re,fe,je){return re===null||re.tag!==4||re.stateNode.containerInfo!==fe.containerInfo||re.stateNode.implementation!==fe.implementation?(re=Lh(fe,de.mode,je),re.return=de,re):(re=S(re,fe.children||[]),re.return=de,re)}function Ie(de,re,fe,je,Ke){return re===null||re.tag!==7?(re=yo(fe,de.mode,je,Ke),re.return=de,re):(re=S(re,fe),re.return=de,re)}function Re(de,re,fe){if(typeof re=="string"&&re!==""||typeof re=="number")return re=Mh(""+re,de.mode,fe),re.return=de,re;if(typeof re=="object"&&re!==null){switch(re.$$typeof){case X:return fe=eu(re.type,re.key,re.props,null,de.mode,fe),fe.ref=yl(de,null,re),fe.return=de,fe;case Z:return re=Lh(re,de.mode,fe),re.return=de,re;case he:var je=re._init;return Re(de,je(re._payload),fe)}if(fn(re)||ne(re))return re=yo(re,de.mode,fe,null),re.return=de,re;Rc(de,re)}return null}function _e(de,re,fe,je){var Ke=re!==null?re.key:null;if(typeof fe=="string"&&fe!==""||typeof fe=="number")return Ke!==null?null:q(de,re,""+fe,je);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case X:return fe.key===Ke?ee(de,re,fe,je):null;case Z:return fe.key===Ke?we(de,re,fe,je):null;case he:return Ke=fe._init,_e(de,re,Ke(fe._payload),je)}if(fn(fe)||ne(fe))return Ke!==null?null:Ie(de,re,fe,je,null);Rc(de,fe)}return null}function Ue(de,re,fe,je,Ke){if(typeof je=="string"&&je!==""||typeof je=="number")return de=de.get(fe)||null,q(re,de,""+je,Ke);if(typeof je=="object"&&je!==null){switch(je.$$typeof){case X:return de=de.get(je.key===null?fe:je.key)||null,ee(re,de,je,Ke);case Z:return de=de.get(je.key===null?fe:je.key)||null,we(re,de,je,Ke);case he:var lt=je._init;return Ue(de,re,fe,lt(je._payload),Ke)}if(fn(je)||ne(je))return de=de.get(fe)||null,Ie(re,de,je,Ke,null);Rc(re,je)}return null}function He(de,re,fe,je){for(var Ke=null,lt=null,ct=re,ft=re=0,Vn=null;ct!==null&&ft<fe.length;ft++){ct.index>ft?(Vn=ct,ct=null):Vn=ct.sibling;var Lt=_e(de,ct,fe[ft],je);if(Lt===null){ct===null&&(ct=Vn);break}i&&ct&&Lt.alternate===null&&l(de,ct),re=N(Lt,re,ft),lt===null?Ke=Lt:lt.sibling=Lt,lt=Lt,ct=Vn}if(ft===fe.length)return g(de,ct),sn&&uo(de,ft),Ke;if(ct===null){for(;ft<fe.length;ft++)ct=Re(de,fe[ft],je),ct!==null&&(re=N(ct,re,ft),lt===null?Ke=ct:lt.sibling=ct,lt=ct);return sn&&uo(de,ft),Ke}for(ct=v(de,ct);ft<fe.length;ft++)Vn=Ue(ct,de,ft,fe[ft],je),Vn!==null&&(i&&Vn.alternate!==null&&ct.delete(Vn.key===null?ft:Vn.key),re=N(Vn,re,ft),lt===null?Ke=Vn:lt.sibling=Vn,lt=Vn);return i&&ct.forEach(function(ks){return l(de,ks)}),sn&&uo(de,ft),Ke}function Xe(de,re,fe,je){var Ke=ne(fe);if(typeof Ke!="function")throw Error(n(150));if(fe=Ke.call(fe),fe==null)throw Error(n(151));for(var lt=Ke=null,ct=re,ft=re=0,Vn=null,Lt=fe.next();ct!==null&&!Lt.done;ft++,Lt=fe.next()){ct.index>ft?(Vn=ct,ct=null):Vn=ct.sibling;var ks=_e(de,ct,Lt.value,je);if(ks===null){ct===null&&(ct=Vn);break}i&&ct&&ks.alternate===null&&l(de,ct),re=N(ks,re,ft),lt===null?Ke=ks:lt.sibling=ks,lt=ks,ct=Vn}if(Lt.done)return g(de,ct),sn&&uo(de,ft),Ke;if(ct===null){for(;!Lt.done;ft++,Lt=fe.next())Lt=Re(de,Lt.value,je),Lt!==null&&(re=N(Lt,re,ft),lt===null?Ke=Lt:lt.sibling=Lt,lt=Lt);return sn&&uo(de,ft),Ke}for(ct=v(de,ct);!Lt.done;ft++,Lt=fe.next())Lt=Ue(ct,de,ft,Lt.value,je),Lt!==null&&(i&&Lt.alternate!==null&&ct.delete(Lt.key===null?ft:Lt.key),re=N(Lt,re,ft),lt===null?Ke=Lt:lt.sibling=Lt,lt=Lt);return i&&ct.forEach(function(ab){return l(de,ab)}),sn&&uo(de,ft),Ke}function En(de,re,fe,je){if(typeof fe=="object"&&fe!==null&&fe.type===H&&fe.key===null&&(fe=fe.props.children),typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case X:e:{for(var Ke=fe.key,lt=re;lt!==null;){if(lt.key===Ke){if(Ke=fe.type,Ke===H){if(lt.tag===7){g(de,lt.sibling),re=S(lt,fe.props.children),re.return=de,de=re;break e}}else if(lt.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===he&&P1(Ke)===lt.type){g(de,lt.sibling),re=S(lt,fe.props),re.ref=yl(de,lt,fe),re.return=de,de=re;break e}g(de,lt);break}else l(de,lt);lt=lt.sibling}fe.type===H?(re=yo(fe.props.children,de.mode,je,fe.key),re.return=de,de=re):(je=eu(fe.type,fe.key,fe.props,null,de.mode,je),je.ref=yl(de,re,fe),je.return=de,de=je)}return j(de);case Z:e:{for(lt=fe.key;re!==null;){if(re.key===lt)if(re.tag===4&&re.stateNode.containerInfo===fe.containerInfo&&re.stateNode.implementation===fe.implementation){g(de,re.sibling),re=S(re,fe.children||[]),re.return=de,de=re;break e}else{g(de,re);break}else l(de,re);re=re.sibling}re=Lh(fe,de.mode,je),re.return=de,de=re}return j(de);case he:return lt=fe._init,En(de,re,lt(fe._payload),je)}if(fn(fe))return He(de,re,fe,je);if(ne(fe))return Xe(de,re,fe,je);Rc(de,fe)}return typeof fe=="string"&&fe!==""||typeof fe=="number"?(fe=""+fe,re!==null&&re.tag===6?(g(de,re.sibling),re=S(re,fe),re.return=de,de=re):(g(de,re),re=Mh(fe,de.mode,je),re.return=de,de=re),j(de)):g(de,re)}return En}var ta=D1(!0),j1=D1(!1),kc=vs(null),Oc=null,na=null,Gd=null;function qd(){Gd=na=Oc=null}function Xd(i){var l=kc.current;tn(kc),i._currentValue=l}function Kd(i,l,g){for(;i!==null;){var v=i.alternate;if((i.childLanes&l)!==l?(i.childLanes|=l,v!==null&&(v.childLanes|=l)):v!==null&&(v.childLanes&l)!==l&&(v.childLanes|=l),i===g)break;i=i.return}}function ra(i,l){Oc=i,Gd=na=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&l)!==0&&(yr=!0),i.firstContext=null)}function qr(i){var l=i._currentValue;if(Gd!==i)if(i={context:i,memoizedValue:l,next:null},na===null){if(Oc===null)throw Error(n(308));na=i,Oc.dependencies={lanes:0,firstContext:i}}else na=na.next=i;return l}var ho=null;function Yd(i){ho===null?ho=[i]:ho.push(i)}function M1(i,l,g,v){var S=l.interleaved;return S===null?(g.next=g,Yd(l)):(g.next=S.next,S.next=g),l.interleaved=g,Qi(i,v)}function Qi(i,l){i.lanes|=l;var g=i.alternate;for(g!==null&&(g.lanes|=l),g=i,i=i.return;i!==null;)i.childLanes|=l,g=i.alternate,g!==null&&(g.childLanes|=l),g=i,i=i.return;return g.tag===3?g.stateNode:null}var Cs=!1;function Zd(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function L1(i,l){i=i.updateQueue,l.updateQueue===i&&(l.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Ji(i,l){return{eventTime:i,lane:l,tag:0,payload:null,callback:null,next:null}}function Ss(i,l,g){var v=i.updateQueue;if(v===null)return null;if(v=v.shared,(Mt&2)!==0){var S=v.pending;return S===null?l.next=l:(l.next=S.next,S.next=l),v.pending=l,Qi(i,g)}return S=v.interleaved,S===null?(l.next=l,Yd(v)):(l.next=S.next,S.next=l),v.interleaved=l,Qi(i,g)}function Pc(i,l,g){if(l=l.updateQueue,l!==null&&(l=l.shared,(g&4194240)!==0)){var v=l.lanes;v&=i.pendingLanes,g|=v,l.lanes=g,gn(i,g)}}function B1(i,l){var g=i.updateQueue,v=i.alternate;if(v!==null&&(v=v.updateQueue,g===v)){var S=null,N=null;if(g=g.firstBaseUpdate,g!==null){do{var j={eventTime:g.eventTime,lane:g.lane,tag:g.tag,payload:g.payload,callback:g.callback,next:null};N===null?S=N=j:N=N.next=j,g=g.next}while(g!==null);N===null?S=N=l:N=N.next=l}else S=N=l;g={baseState:v.baseState,firstBaseUpdate:S,lastBaseUpdate:N,shared:v.shared,effects:v.effects},i.updateQueue=g;return}i=g.lastBaseUpdate,i===null?g.firstBaseUpdate=l:i.next=l,g.lastBaseUpdate=l}function Dc(i,l,g,v){var S=i.updateQueue;Cs=!1;var N=S.firstBaseUpdate,j=S.lastBaseUpdate,q=S.shared.pending;if(q!==null){S.shared.pending=null;var ee=q,we=ee.next;ee.next=null,j===null?N=we:j.next=we,j=ee;var Ie=i.alternate;Ie!==null&&(Ie=Ie.updateQueue,q=Ie.lastBaseUpdate,q!==j&&(q===null?Ie.firstBaseUpdate=we:q.next=we,Ie.lastBaseUpdate=ee))}if(N!==null){var Re=S.baseState;j=0,Ie=we=ee=null,q=N;do{var _e=q.lane,Ue=q.eventTime;if((v&_e)===_e){Ie!==null&&(Ie=Ie.next={eventTime:Ue,lane:0,tag:q.tag,payload:q.payload,callback:q.callback,next:null});e:{var He=i,Xe=q;switch(_e=l,Ue=g,Xe.tag){case 1:if(He=Xe.payload,typeof He=="function"){Re=He.call(Ue,Re,_e);break e}Re=He;break e;case 3:He.flags=He.flags&-65537|128;case 0:if(He=Xe.payload,_e=typeof He=="function"?He.call(Ue,Re,_e):He,_e==null)break e;Re=oe({},Re,_e);break e;case 2:Cs=!0}}q.callback!==null&&q.lane!==0&&(i.flags|=64,_e=S.effects,_e===null?S.effects=[q]:_e.push(q))}else Ue={eventTime:Ue,lane:_e,tag:q.tag,payload:q.payload,callback:q.callback,next:null},Ie===null?(we=Ie=Ue,ee=Re):Ie=Ie.next=Ue,j|=_e;if(q=q.next,q===null){if(q=S.shared.pending,q===null)break;_e=q,q=_e.next,_e.next=null,S.lastBaseUpdate=_e,S.shared.pending=null}}while(!0);if(Ie===null&&(ee=Re),S.baseState=ee,S.firstBaseUpdate=we,S.lastBaseUpdate=Ie,l=S.shared.interleaved,l!==null){S=l;do j|=S.lane,S=S.next;while(S!==l)}else N===null&&(S.shared.lanes=0);po|=j,i.lanes=j,i.memoizedState=Re}}function F1(i,l,g){if(i=l.effects,l.effects=null,i!==null)for(l=0;l<i.length;l++){var v=i[l],S=v.callback;if(S!==null){if(v.callback=null,v=g,typeof S!="function")throw Error(n(191,S));S.call(v)}}}var vl={},Ni=vs(vl),bl=vs(vl),El=vs(vl);function fo(i){if(i===vl)throw Error(n(174));return i}function Qd(i,l){switch(Qt(El,l),Qt(bl,i),Qt(Ni,vl),i=l.nodeType,i){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:Fr(null,"");break;default:i=i===8?l.parentNode:l,l=i.namespaceURI||null,i=i.tagName,l=Fr(l,i)}tn(Ni),Qt(Ni,l)}function ia(){tn(Ni),tn(bl),tn(El)}function U1(i){fo(El.current);var l=fo(Ni.current),g=Fr(l,i.type);l!==g&&(Qt(bl,i),Qt(Ni,g))}function Jd(i){bl.current===i&&(tn(Ni),tn(bl))}var ln=vs(0);function jc(i){for(var l=i;l!==null;){if(l.tag===13){var g=l.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||g.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var eh=[];function th(){for(var i=0;i<eh.length;i++)eh[i]._workInProgressVersionPrimary=null;eh.length=0}var Mc=$.ReactCurrentDispatcher,nh=$.ReactCurrentBatchConfig,go=0,cn=null,Pn=null,Un=null,Lc=!1,Cl=!1,Sl=0,T2=0;function ir(){throw Error(n(321))}function rh(i,l){if(l===null)return!1;for(var g=0;g<l.length&&g<i.length;g++)if(!ae(i[g],l[g]))return!1;return!0}function ih(i,l,g,v,S,N){if(go=N,cn=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Mc.current=i===null||i.memoizedState===null?P2:D2,i=g(v,S),Cl){N=0;do{if(Cl=!1,Sl=0,25<=N)throw Error(n(301));N+=1,Un=Pn=null,l.updateQueue=null,Mc.current=j2,i=g(v,S)}while(Cl)}if(Mc.current=Uc,l=Pn!==null&&Pn.next!==null,go=0,Un=Pn=cn=null,Lc=!1,l)throw Error(n(300));return i}function sh(){var i=Sl!==0;return Sl=0,i}function Ii(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Un===null?cn.memoizedState=Un=i:Un=Un.next=i,Un}function Xr(){if(Pn===null){var i=cn.alternate;i=i!==null?i.memoizedState:null}else i=Pn.next;var l=Un===null?cn.memoizedState:Un.next;if(l!==null)Un=l,Pn=i;else{if(i===null)throw Error(n(310));Pn=i,i={memoizedState:Pn.memoizedState,baseState:Pn.baseState,baseQueue:Pn.baseQueue,queue:Pn.queue,next:null},Un===null?cn.memoizedState=Un=i:Un=Un.next=i}return Un}function Al(i,l){return typeof l=="function"?l(i):l}function oh(i){var l=Xr(),g=l.queue;if(g===null)throw Error(n(311));g.lastRenderedReducer=i;var v=Pn,S=v.baseQueue,N=g.pending;if(N!==null){if(S!==null){var j=S.next;S.next=N.next,N.next=j}v.baseQueue=S=N,g.pending=null}if(S!==null){N=S.next,v=v.baseState;var q=j=null,ee=null,we=N;do{var Ie=we.lane;if((go&Ie)===Ie)ee!==null&&(ee=ee.next={lane:0,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null}),v=we.hasEagerState?we.eagerState:i(v,we.action);else{var Re={lane:Ie,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null};ee===null?(q=ee=Re,j=v):ee=ee.next=Re,cn.lanes|=Ie,po|=Ie}we=we.next}while(we!==null&&we!==N);ee===null?j=v:ee.next=q,ae(v,l.memoizedState)||(yr=!0),l.memoizedState=v,l.baseState=j,l.baseQueue=ee,g.lastRenderedState=v}if(i=g.interleaved,i!==null){S=i;do N=S.lane,cn.lanes|=N,po|=N,S=S.next;while(S!==i)}else S===null&&(g.lanes=0);return[l.memoizedState,g.dispatch]}function ah(i){var l=Xr(),g=l.queue;if(g===null)throw Error(n(311));g.lastRenderedReducer=i;var v=g.dispatch,S=g.pending,N=l.memoizedState;if(S!==null){g.pending=null;var j=S=S.next;do N=i(N,j.action),j=j.next;while(j!==S);ae(N,l.memoizedState)||(yr=!0),l.memoizedState=N,l.baseQueue===null&&(l.baseState=N),g.lastRenderedState=N}return[N,v]}function z1(){}function V1(i,l){var g=cn,v=Xr(),S=l(),N=!ae(v.memoizedState,S);if(N&&(v.memoizedState=S,yr=!0),v=v.queue,lh($1.bind(null,g,v,i),[i]),v.getSnapshot!==l||N||Un!==null&&Un.memoizedState.tag&1){if(g.flags|=2048,_l(9,H1.bind(null,g,v,S,l),void 0,null),zn===null)throw Error(n(349));(go&30)!==0||W1(g,l,S)}return S}function W1(i,l,g){i.flags|=16384,i={getSnapshot:l,value:g},l=cn.updateQueue,l===null?(l={lastEffect:null,stores:null},cn.updateQueue=l,l.stores=[i]):(g=l.stores,g===null?l.stores=[i]:g.push(i))}function H1(i,l,g,v){l.value=g,l.getSnapshot=v,G1(l)&&q1(i)}function $1(i,l,g){return g(function(){G1(l)&&q1(i)})}function G1(i){var l=i.getSnapshot;i=i.value;try{var g=l();return!ae(i,g)}catch{return!0}}function q1(i){var l=Qi(i,1);l!==null&&ai(l,i,1,-1)}function X1(i){var l=Ii();return typeof i=="function"&&(i=i()),l.memoizedState=l.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Al,lastRenderedState:i},l.queue=i,i=i.dispatch=O2.bind(null,cn,i),[l.memoizedState,i]}function _l(i,l,g,v){return i={tag:i,create:l,destroy:g,deps:v,next:null},l=cn.updateQueue,l===null?(l={lastEffect:null,stores:null},cn.updateQueue=l,l.lastEffect=i.next=i):(g=l.lastEffect,g===null?l.lastEffect=i.next=i:(v=g.next,g.next=i,i.next=v,l.lastEffect=i)),i}function K1(){return Xr().memoizedState}function Bc(i,l,g,v){var S=Ii();cn.flags|=i,S.memoizedState=_l(1|l,g,void 0,v===void 0?null:v)}function Fc(i,l,g,v){var S=Xr();v=v===void 0?null:v;var N=void 0;if(Pn!==null){var j=Pn.memoizedState;if(N=j.destroy,v!==null&&rh(v,j.deps)){S.memoizedState=_l(l,g,N,v);return}}cn.flags|=i,S.memoizedState=_l(1|l,g,N,v)}function Y1(i,l){return Bc(8390656,8,i,l)}function lh(i,l){return Fc(2048,8,i,l)}function Z1(i,l){return Fc(4,2,i,l)}function Q1(i,l){return Fc(4,4,i,l)}function J1(i,l){if(typeof l=="function")return i=i(),l(i),function(){l(null)};if(l!=null)return i=i(),l.current=i,function(){l.current=null}}function eg(i,l,g){return g=g!=null?g.concat([i]):null,Fc(4,4,J1.bind(null,l,i),g)}function ch(){}function tg(i,l){var g=Xr();l=l===void 0?null:l;var v=g.memoizedState;return v!==null&&l!==null&&rh(l,v[1])?v[0]:(g.memoizedState=[i,l],i)}function ng(i,l){var g=Xr();l=l===void 0?null:l;var v=g.memoizedState;return v!==null&&l!==null&&rh(l,v[1])?v[0]:(i=i(),g.memoizedState=[i,l],i)}function rg(i,l,g){return(go&21)===0?(i.baseState&&(i.baseState=!1,yr=!0),i.memoizedState=g):(ae(g,l)||(g=Tn(),cn.lanes|=g,po|=g,i.baseState=!0),l)}function R2(i,l){var g=bt;bt=g!==0&&4>g?g:4,i(!0);var v=nh.transition;nh.transition={};try{i(!1),l()}finally{bt=g,nh.transition=v}}function ig(){return Xr().memoizedState}function k2(i,l,g){var v=Is(i);if(g={lane:v,action:g,hasEagerState:!1,eagerState:null,next:null},sg(i))og(l,g);else if(g=M1(i,l,g,v),g!==null){var S=dr();ai(g,i,v,S),ag(g,l,v)}}function O2(i,l,g){var v=Is(i),S={lane:v,action:g,hasEagerState:!1,eagerState:null,next:null};if(sg(i))og(l,S);else{var N=i.alternate;if(i.lanes===0&&(N===null||N.lanes===0)&&(N=l.lastRenderedReducer,N!==null))try{var j=l.lastRenderedState,q=N(j,g);if(S.hasEagerState=!0,S.eagerState=q,ae(q,j)){var ee=l.interleaved;ee===null?(S.next=S,Yd(l)):(S.next=ee.next,ee.next=S),l.interleaved=S;return}}catch{}finally{}g=M1(i,l,S,v),g!==null&&(S=dr(),ai(g,i,v,S),ag(g,l,v))}}function sg(i){var l=i.alternate;return i===cn||l!==null&&l===cn}function og(i,l){Cl=Lc=!0;var g=i.pending;g===null?l.next=l:(l.next=g.next,g.next=l),i.pending=l}function ag(i,l,g){if((g&4194240)!==0){var v=l.lanes;v&=i.pendingLanes,g|=v,l.lanes=g,gn(i,g)}}var Uc={readContext:qr,useCallback:ir,useContext:ir,useEffect:ir,useImperativeHandle:ir,useInsertionEffect:ir,useLayoutEffect:ir,useMemo:ir,useReducer:ir,useRef:ir,useState:ir,useDebugValue:ir,useDeferredValue:ir,useTransition:ir,useMutableSource:ir,useSyncExternalStore:ir,useId:ir,unstable_isNewReconciler:!1},P2={readContext:qr,useCallback:function(i,l){return Ii().memoizedState=[i,l===void 0?null:l],i},useContext:qr,useEffect:Y1,useImperativeHandle:function(i,l,g){return g=g!=null?g.concat([i]):null,Bc(4194308,4,J1.bind(null,l,i),g)},useLayoutEffect:function(i,l){return Bc(4194308,4,i,l)},useInsertionEffect:function(i,l){return Bc(4,2,i,l)},useMemo:function(i,l){var g=Ii();return l=l===void 0?null:l,i=i(),g.memoizedState=[i,l],i},useReducer:function(i,l,g){var v=Ii();return l=g!==void 0?g(l):l,v.memoizedState=v.baseState=l,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:l},v.queue=i,i=i.dispatch=k2.bind(null,cn,i),[v.memoizedState,i]},useRef:function(i){var l=Ii();return i={current:i},l.memoizedState=i},useState:X1,useDebugValue:ch,useDeferredValue:function(i){return Ii().memoizedState=i},useTransition:function(){var i=X1(!1),l=i[0];return i=R2.bind(null,i[1]),Ii().memoizedState=i,[l,i]},useMutableSource:function(){},useSyncExternalStore:function(i,l,g){var v=cn,S=Ii();if(sn){if(g===void 0)throw Error(n(407));g=g()}else{if(g=l(),zn===null)throw Error(n(349));(go&30)!==0||W1(v,l,g)}S.memoizedState=g;var N={value:g,getSnapshot:l};return S.queue=N,Y1($1.bind(null,v,N,i),[i]),v.flags|=2048,_l(9,H1.bind(null,v,N,g,l),void 0,null),g},useId:function(){var i=Ii(),l=zn.identifierPrefix;if(sn){var g=Zi,v=Yi;g=(v&~(1<<32-cr(v)-1)).toString(32)+g,l=":"+l+"R"+g,g=Sl++,0<g&&(l+="H"+g.toString(32)),l+=":"}else g=T2++,l=":"+l+"r"+g.toString(32)+":";return i.memoizedState=l},unstable_isNewReconciler:!1},D2={readContext:qr,useCallback:tg,useContext:qr,useEffect:lh,useImperativeHandle:eg,useInsertionEffect:Z1,useLayoutEffect:Q1,useMemo:ng,useReducer:oh,useRef:K1,useState:function(){return oh(Al)},useDebugValue:ch,useDeferredValue:function(i){var l=Xr();return rg(l,Pn.memoizedState,i)},useTransition:function(){var i=oh(Al)[0],l=Xr().memoizedState;return[i,l]},useMutableSource:z1,useSyncExternalStore:V1,useId:ig,unstable_isNewReconciler:!1},j2={readContext:qr,useCallback:tg,useContext:qr,useEffect:lh,useImperativeHandle:eg,useInsertionEffect:Z1,useLayoutEffect:Q1,useMemo:ng,useReducer:ah,useRef:K1,useState:function(){return ah(Al)},useDebugValue:ch,useDeferredValue:function(i){var l=Xr();return Pn===null?l.memoizedState=i:rg(l,Pn.memoizedState,i)},useTransition:function(){var i=ah(Al)[0],l=Xr().memoizedState;return[i,l]},useMutableSource:z1,useSyncExternalStore:V1,useId:ig,unstable_isNewReconciler:!1};function ii(i,l){if(i&&i.defaultProps){l=oe({},l),i=i.defaultProps;for(var g in i)l[g]===void 0&&(l[g]=i[g]);return l}return l}function uh(i,l,g,v){l=i.memoizedState,g=g(v,l),g=g==null?l:oe({},l,g),i.memoizedState=g,i.lanes===0&&(i.updateQueue.baseState=g)}var zc={isMounted:function(i){return(i=i._reactInternals)?mr(i)===i:!1},enqueueSetState:function(i,l,g){i=i._reactInternals;var v=dr(),S=Is(i),N=Ji(v,S);N.payload=l,g!=null&&(N.callback=g),l=Ss(i,N,S),l!==null&&(ai(l,i,S,v),Pc(l,i,S))},enqueueReplaceState:function(i,l,g){i=i._reactInternals;var v=dr(),S=Is(i),N=Ji(v,S);N.tag=1,N.payload=l,g!=null&&(N.callback=g),l=Ss(i,N,S),l!==null&&(ai(l,i,S,v),Pc(l,i,S))},enqueueForceUpdate:function(i,l){i=i._reactInternals;var g=dr(),v=Is(i),S=Ji(g,v);S.tag=2,l!=null&&(S.callback=l),l=Ss(i,S,v),l!==null&&(ai(l,i,v,g),Pc(l,i,v))}};function lg(i,l,g,v,S,N,j){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(v,N,j):l.prototype&&l.prototype.isPureReactComponent?!me(g,v)||!me(S,N):!0}function cg(i,l,g){var v=!1,S=bs,N=l.contextType;return typeof N=="object"&&N!==null?N=qr(N):(S=wr(l)?lo:rr.current,v=l.contextTypes,N=(v=v!=null)?Zo(i,S):bs),l=new l(g,N),i.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=zc,i.stateNode=l,l._reactInternals=i,v&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=S,i.__reactInternalMemoizedMaskedChildContext=N),l}function ug(i,l,g,v){i=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(g,v),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(g,v),l.state!==i&&zc.enqueueReplaceState(l,l.state,null)}function dh(i,l,g,v){var S=i.stateNode;S.props=g,S.state=i.memoizedState,S.refs={},Zd(i);var N=l.contextType;typeof N=="object"&&N!==null?S.context=qr(N):(N=wr(l)?lo:rr.current,S.context=Zo(i,N)),S.state=i.memoizedState,N=l.getDerivedStateFromProps,typeof N=="function"&&(uh(i,l,N,g),S.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(l=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),l!==S.state&&zc.enqueueReplaceState(S,S.state,null),Dc(i,g,S,v),S.state=i.memoizedState),typeof S.componentDidMount=="function"&&(i.flags|=4194308)}function sa(i,l){try{var g="",v=l;do g+=ye(v),v=v.return;while(v);var S=g}catch(N){S=`
Error generating stack: `+N.message+`
`+N.stack}return{value:i,source:l,stack:S,digest:null}}function hh(i,l,g){return{value:i,source:null,stack:g??null,digest:l??null}}function fh(i,l){try{console.error(l.value)}catch(g){setTimeout(function(){throw g})}}var M2=typeof WeakMap=="function"?WeakMap:Map;function dg(i,l,g){g=Ji(-1,g),g.tag=3,g.payload={element:null};var v=l.value;return g.callback=function(){Xc||(Xc=!0,Ih=v),fh(i,l)},g}function hg(i,l,g){g=Ji(-1,g),g.tag=3;var v=i.type.getDerivedStateFromError;if(typeof v=="function"){var S=l.value;g.payload=function(){return v(S)},g.callback=function(){fh(i,l)}}var N=i.stateNode;return N!==null&&typeof N.componentDidCatch=="function"&&(g.callback=function(){fh(i,l),typeof v!="function"&&(_s===null?_s=new Set([this]):_s.add(this));var j=l.stack;this.componentDidCatch(l.value,{componentStack:j!==null?j:""})}),g}function fg(i,l,g){var v=i.pingCache;if(v===null){v=i.pingCache=new M2;var S=new Set;v.set(l,S)}else S=v.get(l),S===void 0&&(S=new Set,v.set(l,S));S.has(g)||(S.add(g),i=Y2.bind(null,i,l,g),l.then(i,i))}function gg(i){do{var l;if((l=i.tag===13)&&(l=i.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return i;i=i.return}while(i!==null);return null}function pg(i,l,g,v,S){return(i.mode&1)===0?(i===l?i.flags|=65536:(i.flags|=128,g.flags|=131072,g.flags&=-52805,g.tag===1&&(g.alternate===null?g.tag=17:(l=Ji(-1,1),l.tag=2,Ss(g,l,1))),g.lanes|=1),i):(i.flags|=65536,i.lanes=S,i)}var L2=$.ReactCurrentOwner,yr=!1;function ur(i,l,g,v){l.child=i===null?j1(l,null,g,v):ta(l,i.child,g,v)}function mg(i,l,g,v,S){g=g.render;var N=l.ref;return ra(l,S),v=ih(i,l,g,v,N,S),g=sh(),i!==null&&!yr?(l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~S,es(i,l,S)):(sn&&g&&zd(l),l.flags|=1,ur(i,l,v,S),l.child)}function xg(i,l,g,v,S){if(i===null){var N=g.type;return typeof N=="function"&&!jh(N)&&N.defaultProps===void 0&&g.compare===null&&g.defaultProps===void 0?(l.tag=15,l.type=N,wg(i,l,N,v,S)):(i=eu(g.type,null,v,l,l.mode,S),i.ref=l.ref,i.return=l,l.child=i)}if(N=i.child,(i.lanes&S)===0){var j=N.memoizedProps;if(g=g.compare,g=g!==null?g:me,g(j,v)&&i.ref===l.ref)return es(i,l,S)}return l.flags|=1,i=Rs(N,v),i.ref=l.ref,i.return=l,l.child=i}function wg(i,l,g,v,S){if(i!==null){var N=i.memoizedProps;if(me(N,v)&&i.ref===l.ref)if(yr=!1,l.pendingProps=v=N,(i.lanes&S)!==0)(i.flags&131072)!==0&&(yr=!0);else return l.lanes=i.lanes,es(i,l,S)}return gh(i,l,g,v,S)}function yg(i,l,g){var v=l.pendingProps,S=v.children,N=i!==null?i.memoizedState:null;if(v.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qt(aa,Pr),Pr|=g;else{if((g&1073741824)===0)return i=N!==null?N.baseLanes|g:g,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:i,cachePool:null,transitions:null},l.updateQueue=null,Qt(aa,Pr),Pr|=i,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},v=N!==null?N.baseLanes:g,Qt(aa,Pr),Pr|=v}else N!==null?(v=N.baseLanes|g,l.memoizedState=null):v=g,Qt(aa,Pr),Pr|=v;return ur(i,l,S,g),l.child}function vg(i,l){var g=l.ref;(i===null&&g!==null||i!==null&&i.ref!==g)&&(l.flags|=512,l.flags|=2097152)}function gh(i,l,g,v,S){var N=wr(g)?lo:rr.current;return N=Zo(l,N),ra(l,S),g=ih(i,l,g,v,N,S),v=sh(),i!==null&&!yr?(l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~S,es(i,l,S)):(sn&&v&&zd(l),l.flags|=1,ur(i,l,g,S),l.child)}function bg(i,l,g,v,S){if(wr(g)){var N=!0;Ac(l)}else N=!1;if(ra(l,S),l.stateNode===null)Wc(i,l),cg(l,g,v),dh(l,g,v,S),v=!0;else if(i===null){var j=l.stateNode,q=l.memoizedProps;j.props=q;var ee=j.context,we=g.contextType;typeof we=="object"&&we!==null?we=qr(we):(we=wr(g)?lo:rr.current,we=Zo(l,we));var Ie=g.getDerivedStateFromProps,Re=typeof Ie=="function"||typeof j.getSnapshotBeforeUpdate=="function";Re||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(q!==v||ee!==we)&&ug(l,j,v,we),Cs=!1;var _e=l.memoizedState;j.state=_e,Dc(l,v,j,S),ee=l.memoizedState,q!==v||_e!==ee||xr.current||Cs?(typeof Ie=="function"&&(uh(l,g,Ie,v),ee=l.memoizedState),(q=Cs||lg(l,g,q,v,_e,ee,we))?(Re||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(l.flags|=4194308)):(typeof j.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=v,l.memoizedState=ee),j.props=v,j.state=ee,j.context=we,v=q):(typeof j.componentDidMount=="function"&&(l.flags|=4194308),v=!1)}else{j=l.stateNode,L1(i,l),q=l.memoizedProps,we=l.type===l.elementType?q:ii(l.type,q),j.props=we,Re=l.pendingProps,_e=j.context,ee=g.contextType,typeof ee=="object"&&ee!==null?ee=qr(ee):(ee=wr(g)?lo:rr.current,ee=Zo(l,ee));var Ue=g.getDerivedStateFromProps;(Ie=typeof Ue=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(q!==Re||_e!==ee)&&ug(l,j,v,ee),Cs=!1,_e=l.memoizedState,j.state=_e,Dc(l,v,j,S);var He=l.memoizedState;q!==Re||_e!==He||xr.current||Cs?(typeof Ue=="function"&&(uh(l,g,Ue,v),He=l.memoizedState),(we=Cs||lg(l,g,we,v,_e,He,ee)||!1)?(Ie||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(v,He,ee),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(v,He,ee)),typeof j.componentDidUpdate=="function"&&(l.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof j.componentDidUpdate!="function"||q===i.memoizedProps&&_e===i.memoizedState||(l.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||q===i.memoizedProps&&_e===i.memoizedState||(l.flags|=1024),l.memoizedProps=v,l.memoizedState=He),j.props=v,j.state=He,j.context=ee,v=we):(typeof j.componentDidUpdate!="function"||q===i.memoizedProps&&_e===i.memoizedState||(l.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||q===i.memoizedProps&&_e===i.memoizedState||(l.flags|=1024),v=!1)}return ph(i,l,g,v,N,S)}function ph(i,l,g,v,S,N){vg(i,l);var j=(l.flags&128)!==0;if(!v&&!j)return S&&_1(l,g,!1),es(i,l,N);v=l.stateNode,L2.current=l;var q=j&&typeof g.getDerivedStateFromError!="function"?null:v.render();return l.flags|=1,i!==null&&j?(l.child=ta(l,i.child,null,N),l.child=ta(l,null,q,N)):ur(i,l,q,N),l.memoizedState=v.state,S&&_1(l,g,!0),l.child}function Eg(i){var l=i.stateNode;l.pendingContext?S1(i,l.pendingContext,l.pendingContext!==l.context):l.context&&S1(i,l.context,!1),Qd(i,l.containerInfo)}function Cg(i,l,g,v,S){return ea(),$d(S),l.flags|=256,ur(i,l,g,v),l.child}var mh={dehydrated:null,treeContext:null,retryLane:0};function xh(i){return{baseLanes:i,cachePool:null,transitions:null}}function Sg(i,l,g){var v=l.pendingProps,S=ln.current,N=!1,j=(l.flags&128)!==0,q;if((q=j)||(q=i!==null&&i.memoizedState===null?!1:(S&2)!==0),q?(N=!0,l.flags&=-129):(i===null||i.memoizedState!==null)&&(S|=1),Qt(ln,S&1),i===null)return Hd(l),i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((l.mode&1)===0?l.lanes=1:i.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(j=v.children,i=v.fallback,N?(v=l.mode,N=l.child,j={mode:"hidden",children:j},(v&1)===0&&N!==null?(N.childLanes=0,N.pendingProps=j):N=tu(j,v,0,null),i=yo(i,v,g,null),N.return=l,i.return=l,N.sibling=i,l.child=N,l.child.memoizedState=xh(g),l.memoizedState=mh,i):wh(l,j));if(S=i.memoizedState,S!==null&&(q=S.dehydrated,q!==null))return B2(i,l,j,v,q,S,g);if(N){N=v.fallback,j=l.mode,S=i.child,q=S.sibling;var ee={mode:"hidden",children:v.children};return(j&1)===0&&l.child!==S?(v=l.child,v.childLanes=0,v.pendingProps=ee,l.deletions=null):(v=Rs(S,ee),v.subtreeFlags=S.subtreeFlags&14680064),q!==null?N=Rs(q,N):(N=yo(N,j,g,null),N.flags|=2),N.return=l,v.return=l,v.sibling=N,l.child=v,v=N,N=l.child,j=i.child.memoizedState,j=j===null?xh(g):{baseLanes:j.baseLanes|g,cachePool:null,transitions:j.transitions},N.memoizedState=j,N.childLanes=i.childLanes&~g,l.memoizedState=mh,v}return N=i.child,i=N.sibling,v=Rs(N,{mode:"visible",children:v.children}),(l.mode&1)===0&&(v.lanes=g),v.return=l,v.sibling=null,i!==null&&(g=l.deletions,g===null?(l.deletions=[i],l.flags|=16):g.push(i)),l.child=v,l.memoizedState=null,v}function wh(i,l){return l=tu({mode:"visible",children:l},i.mode,0,null),l.return=i,i.child=l}function Vc(i,l,g,v){return v!==null&&$d(v),ta(l,i.child,null,g),i=wh(l,l.pendingProps.children),i.flags|=2,l.memoizedState=null,i}function B2(i,l,g,v,S,N,j){if(g)return l.flags&256?(l.flags&=-257,v=hh(Error(n(422))),Vc(i,l,j,v)):l.memoizedState!==null?(l.child=i.child,l.flags|=128,null):(N=v.fallback,S=l.mode,v=tu({mode:"visible",children:v.children},S,0,null),N=yo(N,S,j,null),N.flags|=2,v.return=l,N.return=l,v.sibling=N,l.child=v,(l.mode&1)!==0&&ta(l,i.child,null,j),l.child.memoizedState=xh(j),l.memoizedState=mh,N);if((l.mode&1)===0)return Vc(i,l,j,null);if(S.data==="$!"){if(v=S.nextSibling&&S.nextSibling.dataset,v)var q=v.dgst;return v=q,N=Error(n(419)),v=hh(N,v,void 0),Vc(i,l,j,v)}if(q=(j&i.childLanes)!==0,yr||q){if(v=zn,v!==null){switch(j&-j){case 4:S=2;break;case 16:S=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:S=32;break;case 536870912:S=268435456;break;default:S=0}S=(S&(v.suspendedLanes|j))!==0?0:S,S!==0&&S!==N.retryLane&&(N.retryLane=S,Qi(i,S),ai(v,i,S,-1))}return Dh(),v=hh(Error(n(421))),Vc(i,l,j,v)}return S.data==="$?"?(l.flags|=128,l.child=i.child,l=Z2.bind(null,i),S._reactRetry=l,null):(i=N.treeContext,Or=ys(S.nextSibling),kr=l,sn=!0,ri=null,i!==null&&($r[Gr++]=Yi,$r[Gr++]=Zi,$r[Gr++]=co,Yi=i.id,Zi=i.overflow,co=l),l=wh(l,v.children),l.flags|=4096,l)}function Ag(i,l,g){i.lanes|=l;var v=i.alternate;v!==null&&(v.lanes|=l),Kd(i.return,l,g)}function yh(i,l,g,v,S){var N=i.memoizedState;N===null?i.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:v,tail:g,tailMode:S}:(N.isBackwards=l,N.rendering=null,N.renderingStartTime=0,N.last=v,N.tail=g,N.tailMode=S)}function _g(i,l,g){var v=l.pendingProps,S=v.revealOrder,N=v.tail;if(ur(i,l,v.children,g),v=ln.current,(v&2)!==0)v=v&1|2,l.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=l.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Ag(i,g,l);else if(i.tag===19)Ag(i,g,l);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===l)break e;for(;i.sibling===null;){if(i.return===null||i.return===l)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}v&=1}if(Qt(ln,v),(l.mode&1)===0)l.memoizedState=null;else switch(S){case"forwards":for(g=l.child,S=null;g!==null;)i=g.alternate,i!==null&&jc(i)===null&&(S=g),g=g.sibling;g=S,g===null?(S=l.child,l.child=null):(S=g.sibling,g.sibling=null),yh(l,!1,S,g,N);break;case"backwards":for(g=null,S=l.child,l.child=null;S!==null;){if(i=S.alternate,i!==null&&jc(i)===null){l.child=S;break}i=S.sibling,S.sibling=g,g=S,S=i}yh(l,!0,g,null,N);break;case"together":yh(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Wc(i,l){(l.mode&1)===0&&i!==null&&(i.alternate=null,l.alternate=null,l.flags|=2)}function es(i,l,g){if(i!==null&&(l.dependencies=i.dependencies),po|=l.lanes,(g&l.childLanes)===0)return null;if(i!==null&&l.child!==i.child)throw Error(n(153));if(l.child!==null){for(i=l.child,g=Rs(i,i.pendingProps),l.child=g,g.return=l;i.sibling!==null;)i=i.sibling,g=g.sibling=Rs(i,i.pendingProps),g.return=l;g.sibling=null}return l.child}function F2(i,l,g){switch(l.tag){case 3:Eg(l),ea();break;case 5:U1(l);break;case 1:wr(l.type)&&Ac(l);break;case 4:Qd(l,l.stateNode.containerInfo);break;case 10:var v=l.type._context,S=l.memoizedProps.value;Qt(kc,v._currentValue),v._currentValue=S;break;case 13:if(v=l.memoizedState,v!==null)return v.dehydrated!==null?(Qt(ln,ln.current&1),l.flags|=128,null):(g&l.child.childLanes)!==0?Sg(i,l,g):(Qt(ln,ln.current&1),i=es(i,l,g),i!==null?i.sibling:null);Qt(ln,ln.current&1);break;case 19:if(v=(g&l.childLanes)!==0,(i.flags&128)!==0){if(v)return _g(i,l,g);l.flags|=128}if(S=l.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),Qt(ln,ln.current),v)break;return null;case 22:case 23:return l.lanes=0,yg(i,l,g)}return es(i,l,g)}var Ng,vh,Ig,Tg;Ng=function(i,l){for(var g=l.child;g!==null;){if(g.tag===5||g.tag===6)i.appendChild(g.stateNode);else if(g.tag!==4&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===l)break;for(;g.sibling===null;){if(g.return===null||g.return===l)return;g=g.return}g.sibling.return=g.return,g=g.sibling}},vh=function(){},Ig=function(i,l,g,v){var S=i.memoizedProps;if(S!==v){i=l.stateNode,fo(Ni.current);var N=null;switch(g){case"input":S=hn(i,S),v=hn(i,v),N=[];break;case"select":S=oe({},S,{value:void 0}),v=oe({},v,{value:void 0}),N=[];break;case"textarea":S=fr(i,S),v=fr(i,v),N=[];break;default:typeof S.onClick!="function"&&typeof v.onClick=="function"&&(i.onclick=Ec)}Bt(g,v);var j;g=null;for(we in S)if(!v.hasOwnProperty(we)&&S.hasOwnProperty(we)&&S[we]!=null)if(we==="style"){var q=S[we];for(j in q)q.hasOwnProperty(j)&&(g||(g={}),g[j]="")}else we!=="dangerouslySetInnerHTML"&&we!=="children"&&we!=="suppressContentEditableWarning"&&we!=="suppressHydrationWarning"&&we!=="autoFocus"&&(c.hasOwnProperty(we)?N||(N=[]):(N=N||[]).push(we,null));for(we in v){var ee=v[we];if(q=S?.[we],v.hasOwnProperty(we)&&ee!==q&&(ee!=null||q!=null))if(we==="style")if(q){for(j in q)!q.hasOwnProperty(j)||ee&&ee.hasOwnProperty(j)||(g||(g={}),g[j]="");for(j in ee)ee.hasOwnProperty(j)&&q[j]!==ee[j]&&(g||(g={}),g[j]=ee[j])}else g||(N||(N=[]),N.push(we,g)),g=ee;else we==="dangerouslySetInnerHTML"?(ee=ee?ee.__html:void 0,q=q?q.__html:void 0,ee!=null&&q!==ee&&(N=N||[]).push(we,ee)):we==="children"?typeof ee!="string"&&typeof ee!="number"||(N=N||[]).push(we,""+ee):we!=="suppressContentEditableWarning"&&we!=="suppressHydrationWarning"&&(c.hasOwnProperty(we)?(ee!=null&&we==="onScroll"&&en("scroll",i),N||q===ee||(N=[])):(N=N||[]).push(we,ee))}g&&(N=N||[]).push("style",g);var we=N;(l.updateQueue=we)&&(l.flags|=4)}},Tg=function(i,l,g,v){g!==v&&(l.flags|=4)};function Nl(i,l){if(!sn)switch(i.tailMode){case"hidden":l=i.tail;for(var g=null;l!==null;)l.alternate!==null&&(g=l),l=l.sibling;g===null?i.tail=null:g.sibling=null;break;case"collapsed":g=i.tail;for(var v=null;g!==null;)g.alternate!==null&&(v=g),g=g.sibling;v===null?l||i.tail===null?i.tail=null:i.tail.sibling=null:v.sibling=null}}function sr(i){var l=i.alternate!==null&&i.alternate.child===i.child,g=0,v=0;if(l)for(var S=i.child;S!==null;)g|=S.lanes|S.childLanes,v|=S.subtreeFlags&14680064,v|=S.flags&14680064,S.return=i,S=S.sibling;else for(S=i.child;S!==null;)g|=S.lanes|S.childLanes,v|=S.subtreeFlags,v|=S.flags,S.return=i,S=S.sibling;return i.subtreeFlags|=v,i.childLanes=g,l}function U2(i,l,g){var v=l.pendingProps;switch(Vd(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sr(l),null;case 1:return wr(l.type)&&Sc(),sr(l),null;case 3:return v=l.stateNode,ia(),tn(xr),tn(rr),th(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(i===null||i.child===null)&&(Tc(l)?l.flags|=4:i===null||i.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,ri!==null&&(kh(ri),ri=null))),vh(i,l),sr(l),null;case 5:Jd(l);var S=fo(El.current);if(g=l.type,i!==null&&l.stateNode!=null)Ig(i,l,g,v,S),i.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!v){if(l.stateNode===null)throw Error(n(166));return sr(l),null}if(i=fo(Ni.current),Tc(l)){v=l.stateNode,g=l.type;var N=l.memoizedProps;switch(v[_i]=l,v[xl]=N,i=(l.mode&1)!==0,g){case"dialog":en("cancel",v),en("close",v);break;case"iframe":case"object":case"embed":en("load",v);break;case"video":case"audio":for(S=0;S<gl.length;S++)en(gl[S],v);break;case"source":en("error",v);break;case"img":case"image":case"link":en("error",v),en("load",v);break;case"details":en("toggle",v);break;case"input":De(v,N),en("invalid",v);break;case"select":v._wrapperState={wasMultiple:!!N.multiple},en("invalid",v);break;case"textarea":zi(v,N),en("invalid",v)}Bt(g,N),S=null;for(var j in N)if(N.hasOwnProperty(j)){var q=N[j];j==="children"?typeof q=="string"?v.textContent!==q&&(N.suppressHydrationWarning!==!0&&bc(v.textContent,q,i),S=["children",q]):typeof q=="number"&&v.textContent!==""+q&&(N.suppressHydrationWarning!==!0&&bc(v.textContent,q,i),S=["children",""+q]):c.hasOwnProperty(j)&&q!=null&&j==="onScroll"&&en("scroll",v)}switch(g){case"input":st(v),qe(v,N,!0);break;case"textarea":st(v),Qn(v);break;case"select":case"option":break;default:typeof N.onClick=="function"&&(v.onclick=Ec)}v=S,l.updateQueue=v,v!==null&&(l.flags|=4)}else{j=S.nodeType===9?S:S.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=Ln(g)),i==="http://www.w3.org/1999/xhtml"?g==="script"?(i=j.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof v.is=="string"?i=j.createElement(g,{is:v.is}):(i=j.createElement(g),g==="select"&&(j=i,v.multiple?j.multiple=!0:v.size&&(j.size=v.size))):i=j.createElementNS(i,g),i[_i]=l,i[xl]=v,Ng(i,l,!1,!1),l.stateNode=i;e:{switch(j=Xt(g,v),g){case"dialog":en("cancel",i),en("close",i),S=v;break;case"iframe":case"object":case"embed":en("load",i),S=v;break;case"video":case"audio":for(S=0;S<gl.length;S++)en(gl[S],i);S=v;break;case"source":en("error",i),S=v;break;case"img":case"image":case"link":en("error",i),en("load",i),S=v;break;case"details":en("toggle",i),S=v;break;case"input":De(i,v),S=hn(i,v),en("invalid",i);break;case"option":S=v;break;case"select":i._wrapperState={wasMultiple:!!v.multiple},S=oe({},v,{value:void 0}),en("invalid",i);break;case"textarea":zi(i,v),S=fr(i,v),en("invalid",i);break;default:S=v}Bt(g,S),q=S;for(N in q)if(q.hasOwnProperty(N)){var ee=q[N];N==="style"?Me(i,ee):N==="dangerouslySetInnerHTML"?(ee=ee?ee.__html:void 0,ee!=null&&It(i,ee)):N==="children"?typeof ee=="string"?(g!=="textarea"||ee!=="")&&Wn(i,ee):typeof ee=="number"&&Wn(i,""+ee):N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&N!=="autoFocus"&&(c.hasOwnProperty(N)?ee!=null&&N==="onScroll"&&en("scroll",i):ee!=null&&F(i,N,ee,j))}switch(g){case"input":st(i),qe(i,v,!1);break;case"textarea":st(i),Qn(i);break;case"option":v.value!=null&&i.setAttribute("value",""+Te(v.value));break;case"select":i.multiple=!!v.multiple,N=v.value,N!=null?Le(i,!!v.multiple,N,!1):v.defaultValue!=null&&Le(i,!!v.multiple,v.defaultValue,!0);break;default:typeof S.onClick=="function"&&(i.onclick=Ec)}switch(g){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}}v&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return sr(l),null;case 6:if(i&&l.stateNode!=null)Tg(i,l,i.memoizedProps,v);else{if(typeof v!="string"&&l.stateNode===null)throw Error(n(166));if(g=fo(El.current),fo(Ni.current),Tc(l)){if(v=l.stateNode,g=l.memoizedProps,v[_i]=l,(N=v.nodeValue!==g)&&(i=kr,i!==null))switch(i.tag){case 3:bc(v.nodeValue,g,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&bc(v.nodeValue,g,(i.mode&1)!==0)}N&&(l.flags|=4)}else v=(g.nodeType===9?g:g.ownerDocument).createTextNode(v),v[_i]=l,l.stateNode=v}return sr(l),null;case 13:if(tn(ln),v=l.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(sn&&Or!==null&&(l.mode&1)!==0&&(l.flags&128)===0)O1(),ea(),l.flags|=98560,N=!1;else if(N=Tc(l),v!==null&&v.dehydrated!==null){if(i===null){if(!N)throw Error(n(318));if(N=l.memoizedState,N=N!==null?N.dehydrated:null,!N)throw Error(n(317));N[_i]=l}else ea(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;sr(l),N=!1}else ri!==null&&(kh(ri),ri=null),N=!0;if(!N)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=g,l):(v=v!==null,v!==(i!==null&&i.memoizedState!==null)&&v&&(l.child.flags|=8192,(l.mode&1)!==0&&(i===null||(ln.current&1)!==0?Dn===0&&(Dn=3):Dh())),l.updateQueue!==null&&(l.flags|=4),sr(l),null);case 4:return ia(),vh(i,l),i===null&&pl(l.stateNode.containerInfo),sr(l),null;case 10:return Xd(l.type._context),sr(l),null;case 17:return wr(l.type)&&Sc(),sr(l),null;case 19:if(tn(ln),N=l.memoizedState,N===null)return sr(l),null;if(v=(l.flags&128)!==0,j=N.rendering,j===null)if(v)Nl(N,!1);else{if(Dn!==0||i!==null&&(i.flags&128)!==0)for(i=l.child;i!==null;){if(j=jc(i),j!==null){for(l.flags|=128,Nl(N,!1),v=j.updateQueue,v!==null&&(l.updateQueue=v,l.flags|=4),l.subtreeFlags=0,v=g,g=l.child;g!==null;)N=g,i=v,N.flags&=14680066,j=N.alternate,j===null?(N.childLanes=0,N.lanes=i,N.child=null,N.subtreeFlags=0,N.memoizedProps=null,N.memoizedState=null,N.updateQueue=null,N.dependencies=null,N.stateNode=null):(N.childLanes=j.childLanes,N.lanes=j.lanes,N.child=j.child,N.subtreeFlags=0,N.deletions=null,N.memoizedProps=j.memoizedProps,N.memoizedState=j.memoizedState,N.updateQueue=j.updateQueue,N.type=j.type,i=j.dependencies,N.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),g=g.sibling;return Qt(ln,ln.current&1|2),l.child}i=i.sibling}N.tail!==null&&zt()>la&&(l.flags|=128,v=!0,Nl(N,!1),l.lanes=4194304)}else{if(!v)if(i=jc(j),i!==null){if(l.flags|=128,v=!0,g=i.updateQueue,g!==null&&(l.updateQueue=g,l.flags|=4),Nl(N,!0),N.tail===null&&N.tailMode==="hidden"&&!j.alternate&&!sn)return sr(l),null}else 2*zt()-N.renderingStartTime>la&&g!==1073741824&&(l.flags|=128,v=!0,Nl(N,!1),l.lanes=4194304);N.isBackwards?(j.sibling=l.child,l.child=j):(g=N.last,g!==null?g.sibling=j:l.child=j,N.last=j)}return N.tail!==null?(l=N.tail,N.rendering=l,N.tail=l.sibling,N.renderingStartTime=zt(),l.sibling=null,g=ln.current,Qt(ln,v?g&1|2:g&1),l):(sr(l),null);case 22:case 23:return Ph(),v=l.memoizedState!==null,i!==null&&i.memoizedState!==null!==v&&(l.flags|=8192),v&&(l.mode&1)!==0?(Pr&1073741824)!==0&&(sr(l),l.subtreeFlags&6&&(l.flags|=8192)):sr(l),null;case 24:return null;case 25:return null}throw Error(n(156,l.tag))}function z2(i,l){switch(Vd(l),l.tag){case 1:return wr(l.type)&&Sc(),i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 3:return ia(),tn(xr),tn(rr),th(),i=l.flags,(i&65536)!==0&&(i&128)===0?(l.flags=i&-65537|128,l):null;case 5:return Jd(l),null;case 13:if(tn(ln),i=l.memoizedState,i!==null&&i.dehydrated!==null){if(l.alternate===null)throw Error(n(340));ea()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 19:return tn(ln),null;case 4:return ia(),null;case 10:return Xd(l.type._context),null;case 22:case 23:return Ph(),null;case 24:return null;default:return null}}var Hc=!1,or=!1,V2=typeof WeakSet=="function"?WeakSet:Set,Ve=null;function oa(i,l){var g=i.ref;if(g!==null)if(typeof g=="function")try{g(null)}catch(v){mn(i,l,v)}else g.current=null}function bh(i,l,g){try{g()}catch(v){mn(i,l,v)}}var Rg=!1;function W2(i,l){if(Pd=Si,i=At(),mt(i)){if("selectionStart"in i)var g={start:i.selectionStart,end:i.selectionEnd};else e:{g=(g=i.ownerDocument)&&g.defaultView||window;var v=g.getSelection&&g.getSelection();if(v&&v.rangeCount!==0){g=v.anchorNode;var S=v.anchorOffset,N=v.focusNode;v=v.focusOffset;try{g.nodeType,N.nodeType}catch{g=null;break e}var j=0,q=-1,ee=-1,we=0,Ie=0,Re=i,_e=null;t:for(;;){for(var Ue;Re!==g||S!==0&&Re.nodeType!==3||(q=j+S),Re!==N||v!==0&&Re.nodeType!==3||(ee=j+v),Re.nodeType===3&&(j+=Re.nodeValue.length),(Ue=Re.firstChild)!==null;)_e=Re,Re=Ue;for(;;){if(Re===i)break t;if(_e===g&&++we===S&&(q=j),_e===N&&++Ie===v&&(ee=j),(Ue=Re.nextSibling)!==null)break;Re=_e,_e=Re.parentNode}Re=Ue}g=q===-1||ee===-1?null:{start:q,end:ee}}else g=null}g=g||{start:0,end:0}}else g=null;for(Dd={focusedElem:i,selectionRange:g},Si=!1,Ve=l;Ve!==null;)if(l=Ve,i=l.child,(l.subtreeFlags&1028)!==0&&i!==null)i.return=l,Ve=i;else for(;Ve!==null;){l=Ve;try{var He=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(He!==null){var Xe=He.memoizedProps,En=He.memoizedState,de=l.stateNode,re=de.getSnapshotBeforeUpdate(l.elementType===l.type?Xe:ii(l.type,Xe),En);de.__reactInternalSnapshotBeforeUpdate=re}break;case 3:var fe=l.stateNode.containerInfo;fe.nodeType===1?fe.textContent="":fe.nodeType===9&&fe.documentElement&&fe.removeChild(fe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(je){mn(l,l.return,je)}if(i=l.sibling,i!==null){i.return=l.return,Ve=i;break}Ve=l.return}return He=Rg,Rg=!1,He}function Il(i,l,g){var v=l.updateQueue;if(v=v!==null?v.lastEffect:null,v!==null){var S=v=v.next;do{if((S.tag&i)===i){var N=S.destroy;S.destroy=void 0,N!==void 0&&bh(l,g,N)}S=S.next}while(S!==v)}}function $c(i,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var g=l=l.next;do{if((g.tag&i)===i){var v=g.create;g.destroy=v()}g=g.next}while(g!==l)}}function Eh(i){var l=i.ref;if(l!==null){var g=i.stateNode;switch(i.tag){case 5:i=g;break;default:i=g}typeof l=="function"?l(i):l.current=i}}function kg(i){var l=i.alternate;l!==null&&(i.alternate=null,kg(l)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(l=i.stateNode,l!==null&&(delete l[_i],delete l[xl],delete l[Bd],delete l[A2],delete l[_2])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Og(i){return i.tag===5||i.tag===3||i.tag===4}function Pg(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Og(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Ch(i,l,g){var v=i.tag;if(v===5||v===6)i=i.stateNode,l?g.nodeType===8?g.parentNode.insertBefore(i,l):g.insertBefore(i,l):(g.nodeType===8?(l=g.parentNode,l.insertBefore(i,g)):(l=g,l.appendChild(i)),g=g._reactRootContainer,g!=null||l.onclick!==null||(l.onclick=Ec));else if(v!==4&&(i=i.child,i!==null))for(Ch(i,l,g),i=i.sibling;i!==null;)Ch(i,l,g),i=i.sibling}function Sh(i,l,g){var v=i.tag;if(v===5||v===6)i=i.stateNode,l?g.insertBefore(i,l):g.appendChild(i);else if(v!==4&&(i=i.child,i!==null))for(Sh(i,l,g),i=i.sibling;i!==null;)Sh(i,l,g),i=i.sibling}var Xn=null,si=!1;function As(i,l,g){for(g=g.child;g!==null;)Dg(i,l,g),g=g.sibling}function Dg(i,l,g){if(vt&&typeof vt.onCommitFiberUnmount=="function")try{vt.onCommitFiberUnmount(Dt,g)}catch{}switch(g.tag){case 5:or||oa(g,l);case 6:var v=Xn,S=si;Xn=null,As(i,l,g),Xn=v,si=S,Xn!==null&&(si?(i=Xn,g=g.stateNode,i.nodeType===8?i.parentNode.removeChild(g):i.removeChild(g)):Xn.removeChild(g.stateNode));break;case 18:Xn!==null&&(si?(i=Xn,g=g.stateNode,i.nodeType===8?Ld(i.parentNode,g):i.nodeType===1&&Ld(i,g),ei(i)):Ld(Xn,g.stateNode));break;case 4:v=Xn,S=si,Xn=g.stateNode.containerInfo,si=!0,As(i,l,g),Xn=v,si=S;break;case 0:case 11:case 14:case 15:if(!or&&(v=g.updateQueue,v!==null&&(v=v.lastEffect,v!==null))){S=v=v.next;do{var N=S,j=N.destroy;N=N.tag,j!==void 0&&((N&2)!==0||(N&4)!==0)&&bh(g,l,j),S=S.next}while(S!==v)}As(i,l,g);break;case 1:if(!or&&(oa(g,l),v=g.stateNode,typeof v.componentWillUnmount=="function"))try{v.props=g.memoizedProps,v.state=g.memoizedState,v.componentWillUnmount()}catch(q){mn(g,l,q)}As(i,l,g);break;case 21:As(i,l,g);break;case 22:g.mode&1?(or=(v=or)||g.memoizedState!==null,As(i,l,g),or=v):As(i,l,g);break;default:As(i,l,g)}}function jg(i){var l=i.updateQueue;if(l!==null){i.updateQueue=null;var g=i.stateNode;g===null&&(g=i.stateNode=new V2),l.forEach(function(v){var S=Q2.bind(null,i,v);g.has(v)||(g.add(v),v.then(S,S))})}}function oi(i,l){var g=l.deletions;if(g!==null)for(var v=0;v<g.length;v++){var S=g[v];try{var N=i,j=l,q=j;e:for(;q!==null;){switch(q.tag){case 5:Xn=q.stateNode,si=!1;break e;case 3:Xn=q.stateNode.containerInfo,si=!0;break e;case 4:Xn=q.stateNode.containerInfo,si=!0;break e}q=q.return}if(Xn===null)throw Error(n(160));Dg(N,j,S),Xn=null,si=!1;var ee=S.alternate;ee!==null&&(ee.return=null),S.return=null}catch(we){mn(S,l,we)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)Mg(l,i),l=l.sibling}function Mg(i,l){var g=i.alternate,v=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(oi(l,i),Ti(i),v&4){try{Il(3,i,i.return),$c(3,i)}catch(Xe){mn(i,i.return,Xe)}try{Il(5,i,i.return)}catch(Xe){mn(i,i.return,Xe)}}break;case 1:oi(l,i),Ti(i),v&512&&g!==null&&oa(g,g.return);break;case 5:if(oi(l,i),Ti(i),v&512&&g!==null&&oa(g,g.return),i.flags&32){var S=i.stateNode;try{Wn(S,"")}catch(Xe){mn(i,i.return,Xe)}}if(v&4&&(S=i.stateNode,S!=null)){var N=i.memoizedProps,j=g!==null?g.memoizedProps:N,q=i.type,ee=i.updateQueue;if(i.updateQueue=null,ee!==null)try{q==="input"&&N.type==="radio"&&N.name!=null&&Be(S,N),Xt(q,j);var we=Xt(q,N);for(j=0;j<ee.length;j+=2){var Ie=ee[j],Re=ee[j+1];Ie==="style"?Me(S,Re):Ie==="dangerouslySetInnerHTML"?It(S,Re):Ie==="children"?Wn(S,Re):F(S,Ie,Re,we)}switch(q){case"input":it(S,N);break;case"textarea":Zn(S,N);break;case"select":var _e=S._wrapperState.wasMultiple;S._wrapperState.wasMultiple=!!N.multiple;var Ue=N.value;Ue!=null?Le(S,!!N.multiple,Ue,!1):_e!==!!N.multiple&&(N.defaultValue!=null?Le(S,!!N.multiple,N.defaultValue,!0):Le(S,!!N.multiple,N.multiple?[]:"",!1))}S[xl]=N}catch(Xe){mn(i,i.return,Xe)}}break;case 6:if(oi(l,i),Ti(i),v&4){if(i.stateNode===null)throw Error(n(162));S=i.stateNode,N=i.memoizedProps;try{S.nodeValue=N}catch(Xe){mn(i,i.return,Xe)}}break;case 3:if(oi(l,i),Ti(i),v&4&&g!==null&&g.memoizedState.isDehydrated)try{ei(l.containerInfo)}catch(Xe){mn(i,i.return,Xe)}break;case 4:oi(l,i),Ti(i);break;case 13:oi(l,i),Ti(i),S=i.child,S.flags&8192&&(N=S.memoizedState!==null,S.stateNode.isHidden=N,!N||S.alternate!==null&&S.alternate.memoizedState!==null||(Nh=zt())),v&4&&jg(i);break;case 22:if(Ie=g!==null&&g.memoizedState!==null,i.mode&1?(or=(we=or)||Ie,oi(l,i),or=we):oi(l,i),Ti(i),v&8192){if(we=i.memoizedState!==null,(i.stateNode.isHidden=we)&&!Ie&&(i.mode&1)!==0)for(Ve=i,Ie=i.child;Ie!==null;){for(Re=Ve=Ie;Ve!==null;){switch(_e=Ve,Ue=_e.child,_e.tag){case 0:case 11:case 14:case 15:Il(4,_e,_e.return);break;case 1:oa(_e,_e.return);var He=_e.stateNode;if(typeof He.componentWillUnmount=="function"){v=_e,g=_e.return;try{l=v,He.props=l.memoizedProps,He.state=l.memoizedState,He.componentWillUnmount()}catch(Xe){mn(v,g,Xe)}}break;case 5:oa(_e,_e.return);break;case 22:if(_e.memoizedState!==null){Fg(Re);continue}}Ue!==null?(Ue.return=_e,Ve=Ue):Fg(Re)}Ie=Ie.sibling}e:for(Ie=null,Re=i;;){if(Re.tag===5){if(Ie===null){Ie=Re;try{S=Re.stateNode,we?(N=S.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none"):(q=Re.stateNode,ee=Re.memoizedProps.style,j=ee!=null&&ee.hasOwnProperty("display")?ee.display:null,q.style.display=on("display",j))}catch(Xe){mn(i,i.return,Xe)}}}else if(Re.tag===6){if(Ie===null)try{Re.stateNode.nodeValue=we?"":Re.memoizedProps}catch(Xe){mn(i,i.return,Xe)}}else if((Re.tag!==22&&Re.tag!==23||Re.memoizedState===null||Re===i)&&Re.child!==null){Re.child.return=Re,Re=Re.child;continue}if(Re===i)break e;for(;Re.sibling===null;){if(Re.return===null||Re.return===i)break e;Ie===Re&&(Ie=null),Re=Re.return}Ie===Re&&(Ie=null),Re.sibling.return=Re.return,Re=Re.sibling}}break;case 19:oi(l,i),Ti(i),v&4&&jg(i);break;case 21:break;default:oi(l,i),Ti(i)}}function Ti(i){var l=i.flags;if(l&2){try{e:{for(var g=i.return;g!==null;){if(Og(g)){var v=g;break e}g=g.return}throw Error(n(160))}switch(v.tag){case 5:var S=v.stateNode;v.flags&32&&(Wn(S,""),v.flags&=-33);var N=Pg(i);Sh(i,N,S);break;case 3:case 4:var j=v.stateNode.containerInfo,q=Pg(i);Ch(i,q,j);break;default:throw Error(n(161))}}catch(ee){mn(i,i.return,ee)}i.flags&=-3}l&4096&&(i.flags&=-4097)}function H2(i,l,g){Ve=i,Lg(i)}function Lg(i,l,g){for(var v=(i.mode&1)!==0;Ve!==null;){var S=Ve,N=S.child;if(S.tag===22&&v){var j=S.memoizedState!==null||Hc;if(!j){var q=S.alternate,ee=q!==null&&q.memoizedState!==null||or;q=Hc;var we=or;if(Hc=j,(or=ee)&&!we)for(Ve=S;Ve!==null;)j=Ve,ee=j.child,j.tag===22&&j.memoizedState!==null?Ug(S):ee!==null?(ee.return=j,Ve=ee):Ug(S);for(;N!==null;)Ve=N,Lg(N),N=N.sibling;Ve=S,Hc=q,or=we}Bg(i)}else(S.subtreeFlags&8772)!==0&&N!==null?(N.return=S,Ve=N):Bg(i)}}function Bg(i){for(;Ve!==null;){var l=Ve;if((l.flags&8772)!==0){var g=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:or||$c(5,l);break;case 1:var v=l.stateNode;if(l.flags&4&&!or)if(g===null)v.componentDidMount();else{var S=l.elementType===l.type?g.memoizedProps:ii(l.type,g.memoizedProps);v.componentDidUpdate(S,g.memoizedState,v.__reactInternalSnapshotBeforeUpdate)}var N=l.updateQueue;N!==null&&F1(l,N,v);break;case 3:var j=l.updateQueue;if(j!==null){if(g=null,l.child!==null)switch(l.child.tag){case 5:g=l.child.stateNode;break;case 1:g=l.child.stateNode}F1(l,j,g)}break;case 5:var q=l.stateNode;if(g===null&&l.flags&4){g=q;var ee=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":ee.autoFocus&&g.focus();break;case"img":ee.src&&(g.src=ee.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var we=l.alternate;if(we!==null){var Ie=we.memoizedState;if(Ie!==null){var Re=Ie.dehydrated;Re!==null&&ei(Re)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}or||l.flags&512&&Eh(l)}catch(_e){mn(l,l.return,_e)}}if(l===i){Ve=null;break}if(g=l.sibling,g!==null){g.return=l.return,Ve=g;break}Ve=l.return}}function Fg(i){for(;Ve!==null;){var l=Ve;if(l===i){Ve=null;break}var g=l.sibling;if(g!==null){g.return=l.return,Ve=g;break}Ve=l.return}}function Ug(i){for(;Ve!==null;){var l=Ve;try{switch(l.tag){case 0:case 11:case 15:var g=l.return;try{$c(4,l)}catch(ee){mn(l,g,ee)}break;case 1:var v=l.stateNode;if(typeof v.componentDidMount=="function"){var S=l.return;try{v.componentDidMount()}catch(ee){mn(l,S,ee)}}var N=l.return;try{Eh(l)}catch(ee){mn(l,N,ee)}break;case 5:var j=l.return;try{Eh(l)}catch(ee){mn(l,j,ee)}}}catch(ee){mn(l,l.return,ee)}if(l===i){Ve=null;break}var q=l.sibling;if(q!==null){q.return=l.return,Ve=q;break}Ve=l.return}}var $2=Math.ceil,Gc=$.ReactCurrentDispatcher,Ah=$.ReactCurrentOwner,Kr=$.ReactCurrentBatchConfig,Mt=0,zn=null,An=null,Kn=0,Pr=0,aa=vs(0),Dn=0,Tl=null,po=0,qc=0,_h=0,Rl=null,vr=null,Nh=0,la=1/0,ts=null,Xc=!1,Ih=null,_s=null,Kc=!1,Ns=null,Yc=0,kl=0,Th=null,Zc=-1,Qc=0;function dr(){return(Mt&6)!==0?zt():Zc!==-1?Zc:Zc=zt()}function Is(i){return(i.mode&1)===0?1:(Mt&2)!==0&&Kn!==0?Kn&-Kn:I2.transition!==null?(Qc===0&&(Qc=Tn()),Qc):(i=bt,i!==0||(i=window.event,i=i===void 0?16:il(i.type)),i)}function ai(i,l,g,v){if(50<kl)throw kl=0,Th=null,Error(n(185));W(i,g,v),((Mt&2)===0||i!==zn)&&(i===zn&&((Mt&2)===0&&(qc|=g),Dn===4&&Ts(i,Kn)),br(i,v),g===1&&Mt===0&&(l.mode&1)===0&&(la=zt()+500,_c&&Es()))}function br(i,l){var g=i.callbackNode;cs(i,l);var v=Nr(i,i===zn?Kn:0);if(v===0)g!==null&&Bn(g),i.callbackNode=null,i.callbackPriority=0;else if(l=v&-v,i.callbackPriority!==l){if(g!=null&&Bn(g),l===1)i.tag===0?N2(Vg.bind(null,i)):N1(Vg.bind(null,i)),C2(function(){(Mt&6)===0&&Es()}),g=null;else{switch(ac(v)){case 1:g=Se;break;case 4:g=sc;break;case 16:g=$t;break;case 536870912:g=oc;break;default:g=$t}g=Yg(g,zg.bind(null,i))}i.callbackPriority=l,i.callbackNode=g}}function zg(i,l){if(Zc=-1,Qc=0,(Mt&6)!==0)throw Error(n(327));var g=i.callbackNode;if(ca()&&i.callbackNode!==g)return null;var v=Nr(i,i===zn?Kn:0);if(v===0)return null;if((v&30)!==0||(v&i.expiredLanes)!==0||l)l=Jc(i,v);else{l=v;var S=Mt;Mt|=2;var N=Hg();(zn!==i||Kn!==l)&&(ts=null,la=zt()+500,xo(i,l));do try{X2();break}catch(q){Wg(i,q)}while(!0);qd(),Gc.current=N,Mt=S,An!==null?l=0:(zn=null,Kn=0,l=Dn)}if(l!==0){if(l===2&&(S=Vt(i),S!==0&&(v=S,l=Rh(i,S))),l===1)throw g=Tl,xo(i,0),Ts(i,v),br(i,zt()),g;if(l===6)Ts(i,v);else{if(S=i.current.alternate,(v&30)===0&&!G2(S)&&(l=Jc(i,v),l===2&&(N=Vt(i),N!==0&&(v=N,l=Rh(i,N))),l===1))throw g=Tl,xo(i,0),Ts(i,v),br(i,zt()),g;switch(i.finishedWork=S,i.finishedLanes=v,l){case 0:case 1:throw Error(n(345));case 2:wo(i,vr,ts);break;case 3:if(Ts(i,v),(v&130023424)===v&&(l=Nh+500-zt(),10<l)){if(Nr(i,0)!==0)break;if(S=i.suspendedLanes,(S&v)!==v){dr(),i.pingedLanes|=i.suspendedLanes&S;break}i.timeoutHandle=Md(wo.bind(null,i,vr,ts),l);break}wo(i,vr,ts);break;case 4:if(Ts(i,v),(v&4194240)===v)break;for(l=i.eventTimes,S=-1;0<v;){var j=31-cr(v);N=1<<j,j=l[j],j>S&&(S=j),v&=~N}if(v=S,v=zt()-v,v=(120>v?120:480>v?480:1080>v?1080:1920>v?1920:3e3>v?3e3:4320>v?4320:1960*$2(v/1960))-v,10<v){i.timeoutHandle=Md(wo.bind(null,i,vr,ts),v);break}wo(i,vr,ts);break;case 5:wo(i,vr,ts);break;default:throw Error(n(329))}}}return br(i,zt()),i.callbackNode===g?zg.bind(null,i):null}function Rh(i,l){var g=Rl;return i.current.memoizedState.isDehydrated&&(xo(i,l).flags|=256),i=Jc(i,l),i!==2&&(l=vr,vr=g,l!==null&&kh(l)),i}function kh(i){vr===null?vr=i:vr.push.apply(vr,i)}function G2(i){for(var l=i;;){if(l.flags&16384){var g=l.updateQueue;if(g!==null&&(g=g.stores,g!==null))for(var v=0;v<g.length;v++){var S=g[v],N=S.getSnapshot;S=S.value;try{if(!ae(N(),S))return!1}catch{return!1}}}if(g=l.child,l.subtreeFlags&16384&&g!==null)g.return=l,l=g;else{if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Ts(i,l){for(l&=~_h,l&=~qc,i.suspendedLanes|=l,i.pingedLanes&=~l,i=i.expirationTimes;0<l;){var g=31-cr(l),v=1<<g;i[g]=-1,l&=~v}}function Vg(i){if((Mt&6)!==0)throw Error(n(327));ca();var l=Nr(i,0);if((l&1)===0)return br(i,zt()),null;var g=Jc(i,l);if(i.tag!==0&&g===2){var v=Vt(i);v!==0&&(l=v,g=Rh(i,v))}if(g===1)throw g=Tl,xo(i,0),Ts(i,l),br(i,zt()),g;if(g===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=l,wo(i,vr,ts),br(i,zt()),null}function Oh(i,l){var g=Mt;Mt|=1;try{return i(l)}finally{Mt=g,Mt===0&&(la=zt()+500,_c&&Es())}}function mo(i){Ns!==null&&Ns.tag===0&&(Mt&6)===0&&ca();var l=Mt;Mt|=1;var g=Kr.transition,v=bt;try{if(Kr.transition=null,bt=1,i)return i()}finally{bt=v,Kr.transition=g,Mt=l,(Mt&6)===0&&Es()}}function Ph(){Pr=aa.current,tn(aa)}function xo(i,l){i.finishedWork=null,i.finishedLanes=0;var g=i.timeoutHandle;if(g!==-1&&(i.timeoutHandle=-1,E2(g)),An!==null)for(g=An.return;g!==null;){var v=g;switch(Vd(v),v.tag){case 1:v=v.type.childContextTypes,v!=null&&Sc();break;case 3:ia(),tn(xr),tn(rr),th();break;case 5:Jd(v);break;case 4:ia();break;case 13:tn(ln);break;case 19:tn(ln);break;case 10:Xd(v.type._context);break;case 22:case 23:Ph()}g=g.return}if(zn=i,An=i=Rs(i.current,null),Kn=Pr=l,Dn=0,Tl=null,_h=qc=po=0,vr=Rl=null,ho!==null){for(l=0;l<ho.length;l++)if(g=ho[l],v=g.interleaved,v!==null){g.interleaved=null;var S=v.next,N=g.pending;if(N!==null){var j=N.next;N.next=S,v.next=j}g.pending=v}ho=null}return i}function Wg(i,l){do{var g=An;try{if(qd(),Mc.current=Uc,Lc){for(var v=cn.memoizedState;v!==null;){var S=v.queue;S!==null&&(S.pending=null),v=v.next}Lc=!1}if(go=0,Un=Pn=cn=null,Cl=!1,Sl=0,Ah.current=null,g===null||g.return===null){Dn=1,Tl=l,An=null;break}e:{var N=i,j=g.return,q=g,ee=l;if(l=Kn,q.flags|=32768,ee!==null&&typeof ee=="object"&&typeof ee.then=="function"){var we=ee,Ie=q,Re=Ie.tag;if((Ie.mode&1)===0&&(Re===0||Re===11||Re===15)){var _e=Ie.alternate;_e?(Ie.updateQueue=_e.updateQueue,Ie.memoizedState=_e.memoizedState,Ie.lanes=_e.lanes):(Ie.updateQueue=null,Ie.memoizedState=null)}var Ue=gg(j);if(Ue!==null){Ue.flags&=-257,pg(Ue,j,q,N,l),Ue.mode&1&&fg(N,we,l),l=Ue,ee=we;var He=l.updateQueue;if(He===null){var Xe=new Set;Xe.add(ee),l.updateQueue=Xe}else He.add(ee);break e}else{if((l&1)===0){fg(N,we,l),Dh();break e}ee=Error(n(426))}}else if(sn&&q.mode&1){var En=gg(j);if(En!==null){(En.flags&65536)===0&&(En.flags|=256),pg(En,j,q,N,l),$d(sa(ee,q));break e}}N=ee=sa(ee,q),Dn!==4&&(Dn=2),Rl===null?Rl=[N]:Rl.push(N),N=j;do{switch(N.tag){case 3:N.flags|=65536,l&=-l,N.lanes|=l;var de=dg(N,ee,l);B1(N,de);break e;case 1:q=ee;var re=N.type,fe=N.stateNode;if((N.flags&128)===0&&(typeof re.getDerivedStateFromError=="function"||fe!==null&&typeof fe.componentDidCatch=="function"&&(_s===null||!_s.has(fe)))){N.flags|=65536,l&=-l,N.lanes|=l;var je=hg(N,q,l);B1(N,je);break e}}N=N.return}while(N!==null)}Gg(g)}catch(Ke){l=Ke,An===g&&g!==null&&(An=g=g.return);continue}break}while(!0)}function Hg(){var i=Gc.current;return Gc.current=Uc,i===null?Uc:i}function Dh(){(Dn===0||Dn===3||Dn===2)&&(Dn=4),zn===null||(po&268435455)===0&&(qc&268435455)===0||Ts(zn,Kn)}function Jc(i,l){var g=Mt;Mt|=2;var v=Hg();(zn!==i||Kn!==l)&&(ts=null,xo(i,l));do try{q2();break}catch(S){Wg(i,S)}while(!0);if(qd(),Mt=g,Gc.current=v,An!==null)throw Error(n(261));return zn=null,Kn=0,Dn}function q2(){for(;An!==null;)$g(An)}function X2(){for(;An!==null&&!Kt();)$g(An)}function $g(i){var l=Kg(i.alternate,i,Pr);i.memoizedProps=i.pendingProps,l===null?Gg(i):An=l,Ah.current=null}function Gg(i){var l=i;do{var g=l.alternate;if(i=l.return,(l.flags&32768)===0){if(g=U2(g,l,Pr),g!==null){An=g;return}}else{if(g=z2(g,l),g!==null){g.flags&=32767,An=g;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Dn=6,An=null;return}}if(l=l.sibling,l!==null){An=l;return}An=l=i}while(l!==null);Dn===0&&(Dn=5)}function wo(i,l,g){var v=bt,S=Kr.transition;try{Kr.transition=null,bt=1,K2(i,l,g,v)}finally{Kr.transition=S,bt=v}return null}function K2(i,l,g,v){do ca();while(Ns!==null);if((Mt&6)!==0)throw Error(n(327));g=i.finishedWork;var S=i.finishedLanes;if(g===null)return null;if(i.finishedWork=null,i.finishedLanes=0,g===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var N=g.lanes|g.childLanes;if(et(i,N),i===zn&&(An=zn=null,Kn=0),(g.subtreeFlags&2064)===0&&(g.flags&2064)===0||Kc||(Kc=!0,Yg($t,function(){return ca(),null})),N=(g.flags&15990)!==0,(g.subtreeFlags&15990)!==0||N){N=Kr.transition,Kr.transition=null;var j=bt;bt=1;var q=Mt;Mt|=4,Ah.current=null,W2(i,g),Mg(g,i),nr(Dd),Si=!!Pd,Dd=Pd=null,i.current=g,H2(g),ic(),Mt=q,bt=j,Kr.transition=N}else i.current=g;if(Kc&&(Kc=!1,Ns=i,Yc=S),N=i.pendingLanes,N===0&&(_s=null),Ot(g.stateNode),br(i,zt()),l!==null)for(v=i.onRecoverableError,g=0;g<l.length;g++)S=l[g],v(S.value,{componentStack:S.stack,digest:S.digest});if(Xc)throw Xc=!1,i=Ih,Ih=null,i;return(Yc&1)!==0&&i.tag!==0&&ca(),N=i.pendingLanes,(N&1)!==0?i===Th?kl++:(kl=0,Th=i):kl=0,Es(),null}function ca(){if(Ns!==null){var i=ac(Yc),l=Kr.transition,g=bt;try{if(Kr.transition=null,bt=16>i?16:i,Ns===null)var v=!1;else{if(i=Ns,Ns=null,Yc=0,(Mt&6)!==0)throw Error(n(331));var S=Mt;for(Mt|=4,Ve=i.current;Ve!==null;){var N=Ve,j=N.child;if((Ve.flags&16)!==0){var q=N.deletions;if(q!==null){for(var ee=0;ee<q.length;ee++){var we=q[ee];for(Ve=we;Ve!==null;){var Ie=Ve;switch(Ie.tag){case 0:case 11:case 15:Il(8,Ie,N)}var Re=Ie.child;if(Re!==null)Re.return=Ie,Ve=Re;else for(;Ve!==null;){Ie=Ve;var _e=Ie.sibling,Ue=Ie.return;if(kg(Ie),Ie===we){Ve=null;break}if(_e!==null){_e.return=Ue,Ve=_e;break}Ve=Ue}}}var He=N.alternate;if(He!==null){var Xe=He.child;if(Xe!==null){He.child=null;do{var En=Xe.sibling;Xe.sibling=null,Xe=En}while(Xe!==null)}}Ve=N}}if((N.subtreeFlags&2064)!==0&&j!==null)j.return=N,Ve=j;else e:for(;Ve!==null;){if(N=Ve,(N.flags&2048)!==0)switch(N.tag){case 0:case 11:case 15:Il(9,N,N.return)}var de=N.sibling;if(de!==null){de.return=N.return,Ve=de;break e}Ve=N.return}}var re=i.current;for(Ve=re;Ve!==null;){j=Ve;var fe=j.child;if((j.subtreeFlags&2064)!==0&&fe!==null)fe.return=j,Ve=fe;else e:for(j=re;Ve!==null;){if(q=Ve,(q.flags&2048)!==0)try{switch(q.tag){case 0:case 11:case 15:$c(9,q)}}catch(Ke){mn(q,q.return,Ke)}if(q===j){Ve=null;break e}var je=q.sibling;if(je!==null){je.return=q.return,Ve=je;break e}Ve=q.return}}if(Mt=S,Es(),vt&&typeof vt.onPostCommitFiberRoot=="function")try{vt.onPostCommitFiberRoot(Dt,i)}catch{}v=!0}return v}finally{bt=g,Kr.transition=l}}return!1}function qg(i,l,g){l=sa(g,l),l=dg(i,l,1),i=Ss(i,l,1),l=dr(),i!==null&&(W(i,1,l),br(i,l))}function mn(i,l,g){if(i.tag===3)qg(i,i,g);else for(;l!==null;){if(l.tag===3){qg(l,i,g);break}else if(l.tag===1){var v=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(_s===null||!_s.has(v))){i=sa(g,i),i=hg(l,i,1),l=Ss(l,i,1),i=dr(),l!==null&&(W(l,1,i),br(l,i));break}}l=l.return}}function Y2(i,l,g){var v=i.pingCache;v!==null&&v.delete(l),l=dr(),i.pingedLanes|=i.suspendedLanes&g,zn===i&&(Kn&g)===g&&(Dn===4||Dn===3&&(Kn&130023424)===Kn&&500>zt()-Nh?xo(i,0):_h|=g),br(i,l)}function Xg(i,l){l===0&&((i.mode&1)===0?l=1:(l=Fo,Fo<<=1,(Fo&130023424)===0&&(Fo=4194304)));var g=dr();i=Qi(i,l),i!==null&&(W(i,l,g),br(i,g))}function Z2(i){var l=i.memoizedState,g=0;l!==null&&(g=l.retryLane),Xg(i,g)}function Q2(i,l){var g=0;switch(i.tag){case 13:var v=i.stateNode,S=i.memoizedState;S!==null&&(g=S.retryLane);break;case 19:v=i.stateNode;break;default:throw Error(n(314))}v!==null&&v.delete(l),Xg(i,g)}var Kg;Kg=function(i,l,g){if(i!==null)if(i.memoizedProps!==l.pendingProps||xr.current)yr=!0;else{if((i.lanes&g)===0&&(l.flags&128)===0)return yr=!1,F2(i,l,g);yr=(i.flags&131072)!==0}else yr=!1,sn&&(l.flags&1048576)!==0&&I1(l,Ic,l.index);switch(l.lanes=0,l.tag){case 2:var v=l.type;Wc(i,l),i=l.pendingProps;var S=Zo(l,rr.current);ra(l,g),S=ih(null,l,v,i,S,g);var N=sh();return l.flags|=1,typeof S=="object"&&S!==null&&typeof S.render=="function"&&S.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,wr(v)?(N=!0,Ac(l)):N=!1,l.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,Zd(l),S.updater=zc,l.stateNode=S,S._reactInternals=l,dh(l,v,i,g),l=ph(null,l,v,!0,N,g)):(l.tag=0,sn&&N&&zd(l),ur(null,l,S,g),l=l.child),l;case 16:v=l.elementType;e:{switch(Wc(i,l),i=l.pendingProps,S=v._init,v=S(v._payload),l.type=v,S=l.tag=eb(v),i=ii(v,i),S){case 0:l=gh(null,l,v,i,g);break e;case 1:l=bg(null,l,v,i,g);break e;case 11:l=mg(null,l,v,i,g);break e;case 14:l=xg(null,l,v,ii(v.type,i),g);break e}throw Error(n(306,v,""))}return l;case 0:return v=l.type,S=l.pendingProps,S=l.elementType===v?S:ii(v,S),gh(i,l,v,S,g);case 1:return v=l.type,S=l.pendingProps,S=l.elementType===v?S:ii(v,S),bg(i,l,v,S,g);case 3:e:{if(Eg(l),i===null)throw Error(n(387));v=l.pendingProps,N=l.memoizedState,S=N.element,L1(i,l),Dc(l,v,null,g);var j=l.memoizedState;if(v=j.element,N.isDehydrated)if(N={element:v,isDehydrated:!1,cache:j.cache,pendingSuspenseBoundaries:j.pendingSuspenseBoundaries,transitions:j.transitions},l.updateQueue.baseState=N,l.memoizedState=N,l.flags&256){S=sa(Error(n(423)),l),l=Cg(i,l,v,g,S);break e}else if(v!==S){S=sa(Error(n(424)),l),l=Cg(i,l,v,g,S);break e}else for(Or=ys(l.stateNode.containerInfo.firstChild),kr=l,sn=!0,ri=null,g=j1(l,null,v,g),l.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(ea(),v===S){l=es(i,l,g);break e}ur(i,l,v,g)}l=l.child}return l;case 5:return U1(l),i===null&&Hd(l),v=l.type,S=l.pendingProps,N=i!==null?i.memoizedProps:null,j=S.children,jd(v,S)?j=null:N!==null&&jd(v,N)&&(l.flags|=32),vg(i,l),ur(i,l,j,g),l.child;case 6:return i===null&&Hd(l),null;case 13:return Sg(i,l,g);case 4:return Qd(l,l.stateNode.containerInfo),v=l.pendingProps,i===null?l.child=ta(l,null,v,g):ur(i,l,v,g),l.child;case 11:return v=l.type,S=l.pendingProps,S=l.elementType===v?S:ii(v,S),mg(i,l,v,S,g);case 7:return ur(i,l,l.pendingProps,g),l.child;case 8:return ur(i,l,l.pendingProps.children,g),l.child;case 12:return ur(i,l,l.pendingProps.children,g),l.child;case 10:e:{if(v=l.type._context,S=l.pendingProps,N=l.memoizedProps,j=S.value,Qt(kc,v._currentValue),v._currentValue=j,N!==null)if(ae(N.value,j)){if(N.children===S.children&&!xr.current){l=es(i,l,g);break e}}else for(N=l.child,N!==null&&(N.return=l);N!==null;){var q=N.dependencies;if(q!==null){j=N.child;for(var ee=q.firstContext;ee!==null;){if(ee.context===v){if(N.tag===1){ee=Ji(-1,g&-g),ee.tag=2;var we=N.updateQueue;if(we!==null){we=we.shared;var Ie=we.pending;Ie===null?ee.next=ee:(ee.next=Ie.next,Ie.next=ee),we.pending=ee}}N.lanes|=g,ee=N.alternate,ee!==null&&(ee.lanes|=g),Kd(N.return,g,l),q.lanes|=g;break}ee=ee.next}}else if(N.tag===10)j=N.type===l.type?null:N.child;else if(N.tag===18){if(j=N.return,j===null)throw Error(n(341));j.lanes|=g,q=j.alternate,q!==null&&(q.lanes|=g),Kd(j,g,l),j=N.sibling}else j=N.child;if(j!==null)j.return=N;else for(j=N;j!==null;){if(j===l){j=null;break}if(N=j.sibling,N!==null){N.return=j.return,j=N;break}j=j.return}N=j}ur(i,l,S.children,g),l=l.child}return l;case 9:return S=l.type,v=l.pendingProps.children,ra(l,g),S=qr(S),v=v(S),l.flags|=1,ur(i,l,v,g),l.child;case 14:return v=l.type,S=ii(v,l.pendingProps),S=ii(v.type,S),xg(i,l,v,S,g);case 15:return wg(i,l,l.type,l.pendingProps,g);case 17:return v=l.type,S=l.pendingProps,S=l.elementType===v?S:ii(v,S),Wc(i,l),l.tag=1,wr(v)?(i=!0,Ac(l)):i=!1,ra(l,g),cg(l,v,S),dh(l,v,S,g),ph(null,l,v,!0,i,g);case 19:return _g(i,l,g);case 22:return yg(i,l,g)}throw Error(n(156,l.tag))};function Yg(i,l){return Ar(i,l)}function J2(i,l,g,v){this.tag=i,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yr(i,l,g,v){return new J2(i,l,g,v)}function jh(i){return i=i.prototype,!(!i||!i.isReactComponent)}function eb(i){if(typeof i=="function")return jh(i)?1:0;if(i!=null){if(i=i.$$typeof,i===ce)return 11;if(i===ie)return 14}return 2}function Rs(i,l){var g=i.alternate;return g===null?(g=Yr(i.tag,l,i.key,i.mode),g.elementType=i.elementType,g.type=i.type,g.stateNode=i.stateNode,g.alternate=i,i.alternate=g):(g.pendingProps=l,g.type=i.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=i.flags&14680064,g.childLanes=i.childLanes,g.lanes=i.lanes,g.child=i.child,g.memoizedProps=i.memoizedProps,g.memoizedState=i.memoizedState,g.updateQueue=i.updateQueue,l=i.dependencies,g.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},g.sibling=i.sibling,g.index=i.index,g.ref=i.ref,g}function eu(i,l,g,v,S,N){var j=2;if(v=i,typeof i=="function")jh(i)&&(j=1);else if(typeof i=="string")j=5;else e:switch(i){case H:return yo(g.children,S,N,l);case K:j=8,S|=8;break;case V:return i=Yr(12,g,l,S|2),i.elementType=V,i.lanes=N,i;case ve:return i=Yr(13,g,l,S),i.elementType=ve,i.lanes=N,i;case Ce:return i=Yr(19,g,l,S),i.elementType=Ce,i.lanes=N,i;case se:return tu(g,S,N,l);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case ge:j=10;break e;case Ee:j=9;break e;case ce:j=11;break e;case ie:j=14;break e;case he:j=16,v=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return l=Yr(j,g,l,S),l.elementType=i,l.type=v,l.lanes=N,l}function yo(i,l,g,v){return i=Yr(7,i,v,l),i.lanes=g,i}function tu(i,l,g,v){return i=Yr(22,i,v,l),i.elementType=se,i.lanes=g,i.stateNode={isHidden:!1},i}function Mh(i,l,g){return i=Yr(6,i,null,l),i.lanes=g,i}function Lh(i,l,g){return l=Yr(4,i.children!==null?i.children:[],i.key,l),l.lanes=g,l.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},l}function tb(i,l,g,v,S){this.tag=l,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ue(0),this.expirationTimes=ue(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ue(0),this.identifierPrefix=v,this.onRecoverableError=S,this.mutableSourceEagerHydrationData=null}function Bh(i,l,g,v,S,N,j,q,ee){return i=new tb(i,l,g,q,ee),l===1?(l=1,N===!0&&(l|=8)):l=0,N=Yr(3,null,null,l),i.current=N,N.stateNode=i,N.memoizedState={element:v,isDehydrated:g,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zd(N),i}function nb(i,l,g){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Z,key:v==null?null:""+v,children:i,containerInfo:l,implementation:g}}function Zg(i){if(!i)return bs;i=i._reactInternals;e:{if(mr(i)!==i||i.tag!==1)throw Error(n(170));var l=i;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(wr(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(n(171))}if(i.tag===1){var g=i.type;if(wr(g))return A1(i,g,l)}return l}function Qg(i,l,g,v,S,N,j,q,ee){return i=Bh(g,v,!0,i,S,N,j,q,ee),i.context=Zg(null),g=i.current,v=dr(),S=Is(g),N=Ji(v,S),N.callback=l??null,Ss(g,N,S),i.current.lanes=S,W(i,S,v),br(i,v),i}function nu(i,l,g,v){var S=l.current,N=dr(),j=Is(S);return g=Zg(g),l.context===null?l.context=g:l.pendingContext=g,l=Ji(N,j),l.payload={element:i},v=v===void 0?null:v,v!==null&&(l.callback=v),i=Ss(S,l,j),i!==null&&(ai(i,S,j,N),Pc(i,S,j)),j}function ru(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function Jg(i,l){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var g=i.retryLane;i.retryLane=g!==0&&g<l?g:l}}function Fh(i,l){Jg(i,l),(i=i.alternate)&&Jg(i,l)}function rb(){return null}var ep=typeof reportError=="function"?reportError:function(i){console.error(i)};function Uh(i){this._internalRoot=i}iu.prototype.render=Uh.prototype.render=function(i){var l=this._internalRoot;if(l===null)throw Error(n(409));nu(i,l,null,null)},iu.prototype.unmount=Uh.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var l=i.containerInfo;mo(function(){nu(null,i,null,null)}),l[Xi]=null}};function iu(i){this._internalRoot=i}iu.prototype.unstable_scheduleHydration=function(i){if(i){var l=Yt();i={blockedOn:null,target:i,priority:l};for(var g=0;g<$n.length&&l!==0&&l<$n[g].priority;g++);$n.splice(g,0,i),g===0&&cc(i)}};function zh(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function su(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function tp(){}function ib(i,l,g,v,S){if(S){if(typeof v=="function"){var N=v;v=function(){var we=ru(j);N.call(we)}}var j=Qg(l,v,i,0,null,!1,!1,"",tp);return i._reactRootContainer=j,i[Xi]=j.current,pl(i.nodeType===8?i.parentNode:i),mo(),j}for(;S=i.lastChild;)i.removeChild(S);if(typeof v=="function"){var q=v;v=function(){var we=ru(ee);q.call(we)}}var ee=Bh(i,0,!1,null,null,!1,!1,"",tp);return i._reactRootContainer=ee,i[Xi]=ee.current,pl(i.nodeType===8?i.parentNode:i),mo(function(){nu(l,ee,g,v)}),ee}function ou(i,l,g,v,S){var N=g._reactRootContainer;if(N){var j=N;if(typeof S=="function"){var q=S;S=function(){var ee=ru(j);q.call(ee)}}nu(l,j,i,S)}else j=ib(g,l,i,S,v);return ru(j)}Uo=function(i){switch(i.tag){case 3:var l=i.stateNode;if(l.current.memoizedState.isDehydrated){var g=Gt(l.pendingLanes);g!==0&&(gn(l,g|1),br(l,zt()),(Mt&6)===0&&(la=zt()+500,Es()))}break;case 13:mo(function(){var v=Qi(i,1);if(v!==null){var S=dr();ai(v,i,1,S)}}),Fh(i,1)}},tr=function(i){if(i.tag===13){var l=Qi(i,134217728);if(l!==null){var g=dr();ai(l,i,134217728,g)}Fh(i,134217728)}},nt=function(i){if(i.tag===13){var l=Is(i),g=Qi(i,l);if(g!==null){var v=dr();ai(g,i,l,v)}Fh(i,l)}},Yt=function(){return bt},tl=function(i,l){var g=bt;try{return bt=i,l()}finally{bt=g}},Lo=function(i,l,g){switch(l){case"input":if(it(i,g),l=g.name,g.type==="radio"&&l!=null){for(g=i;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<g.length;l++){var v=g[l];if(v!==i&&v.form===i.form){var S=Cc(v);if(!S)throw Error(n(90));St(v),it(v,S)}}}break;case"textarea":Zn(i,g);break;case"select":l=g.value,l!=null&&Le(i,!!g.multiple,l,!1)}},Bo=Oh,In=mo;var sb={usingClientEntryPoint:!1,Events:[wl,Ko,Cc,Xa,pr,Oh]},Ol={findFiberByHostInstance:ao,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ob={bundleType:Ol.bundleType,version:Ol.version,rendererPackageName:Ol.rendererPackageName,rendererConfig:Ol.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=nc(i),i===null?null:i.stateNode},findFiberByHostInstance:Ol.findFiberByHostInstance||rb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var au=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!au.isDisabled&&au.supportsFiber)try{Dt=au.inject(ob),vt=au}catch{}}return Er.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sb,Er.createPortal=function(i,l){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zh(l))throw Error(n(200));return nb(i,l,null,g)},Er.createRoot=function(i,l){if(!zh(i))throw Error(n(299));var g=!1,v="",S=ep;return l!=null&&(l.unstable_strictMode===!0&&(g=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onRecoverableError!==void 0&&(S=l.onRecoverableError)),l=Bh(i,1,!1,null,null,g,!1,v,S),i[Xi]=l.current,pl(i.nodeType===8?i.parentNode:i),new Uh(l)},Er.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var l=i._reactInternals;if(l===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=nc(l),i=i===null?null:i.stateNode,i},Er.flushSync=function(i){return mo(i)},Er.hydrate=function(i,l,g){if(!su(l))throw Error(n(200));return ou(null,i,l,!0,g)},Er.hydrateRoot=function(i,l,g){if(!zh(i))throw Error(n(405));var v=g!=null&&g.hydratedSources||null,S=!1,N="",j=ep;if(g!=null&&(g.unstable_strictMode===!0&&(S=!0),g.identifierPrefix!==void 0&&(N=g.identifierPrefix),g.onRecoverableError!==void 0&&(j=g.onRecoverableError)),l=Qg(l,null,i,1,g??null,S,!1,N,j),i[Xi]=l.current,pl(i),v)for(i=0;i<v.length;i++)g=v[i],S=g._getVersion,S=S(g._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[g,S]:l.mutableSourceEagerHydrationData.push(g,S);return new iu(l)},Er.render=function(i,l,g){if(!su(l))throw Error(n(200));return ou(null,i,l,!1,g)},Er.unmountComponentAtNode=function(i){if(!su(i))throw Error(n(40));return i._reactRootContainer?(mo(function(){ou(null,null,i,!1,function(){i._reactRootContainer=null,i[Xi]=null})}),!0):!1},Er.unstable_batchedUpdates=Oh,Er.unstable_renderSubtreeIntoContainer=function(i,l,g,v){if(!su(g))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return ou(i,l,g,!1,v)},Er.version="18.3.1-next-f1338f8080-20240426",Er}var cp;function gx(){if(cp)return Hh.exports;cp=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Hh.exports=gb(),Hh.exports}var up;function pb(){if(up)return cu;up=1;var r=gx();return cu.createRoot=r.createRoot,cu.hydrateRoot=r.hydrateRoot,cu}var mb=pb(),T=w0();const Cn=Yl(T),y0=x0({__proto__:null,default:Cn},[T]);function dp(r,t){if(typeof r=="function")return r(t);r!=null&&(r.current=t)}function Fa(...r){return t=>{let n=!1;const a=r.map(c=>{const d=dp(c,t);return!n&&typeof d=="function"&&(n=!0),d});if(n)return()=>{for(let c=0;c<a.length;c++){const d=a[c];typeof d=="function"?d():dp(r[c],null)}}}}function Ut(...r){return T.useCallback(Fa(...r),r)}var xb=Symbol.for("react.lazy"),Lu=y0[" use ".trim().toString()];function wb(r){return typeof r=="object"&&r!==null&&"then"in r}function px(r){return r!=null&&typeof r=="object"&&"$$typeof"in r&&r.$$typeof===xb&&"_payload"in r&&wb(r._payload)}function mx(r){const t=yb(r),n=T.forwardRef((a,c)=>{let{children:d,...p}=a;px(d)&&typeof Lu=="function"&&(d=Lu(d._payload));const w=T.Children.toArray(d),b=w.find(bb);if(b){const y=b.props.children,A=w.map(_=>_===b?T.Children.count(y)>1?T.Children.only(null):T.isValidElement(y)?y.props.children:null:_);return m.jsx(t,{...p,ref:c,children:T.isValidElement(y)?T.cloneElement(y,void 0,A):null})}return m.jsx(t,{...p,ref:c,children:d})});return n.displayName=`${r}.Slot`,n}var xx=mx("Slot");function yb(r){const t=T.forwardRef((n,a)=>{let{children:c,...d}=n;if(px(c)&&typeof Lu=="function"&&(c=Lu(c._payload)),T.isValidElement(c)){const p=Cb(c),w=Eb(d,c.props);return c.type!==T.Fragment&&(w.ref=a?Fa(a,p):p),T.cloneElement(c,w)}return T.Children.count(c)>1?T.Children.only(null):null});return t.displayName=`${r}.SlotClone`,t}var vb=Symbol("radix.slottable");function bb(r){return T.isValidElement(r)&&typeof r.type=="function"&&"__radixId"in r.type&&r.type.__radixId===vb}function Eb(r,t){const n={...t};for(const a in t){const c=r[a],d=t[a];/^on[A-Z]/.test(a)?c&&d?n[a]=(...w)=>{const b=d(...w);return c(...w),b}:c&&(n[a]=c):a==="style"?n[a]={...c,...d}:a==="className"&&(n[a]=[c,d].filter(Boolean).join(" "))}return{...r,...n}}function Cb(r){let t=Object.getOwnPropertyDescriptor(r.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?r.ref:(t=Object.getOwnPropertyDescriptor(r,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?r.props.ref:r.props.ref||r.ref)}function wx(r){var t,n,a="";if(typeof r=="string"||typeof r=="number")a+=r;else if(typeof r=="object")if(Array.isArray(r)){var c=r.length;for(t=0;t<c;t++)r[t]&&(n=wx(r[t]))&&(a&&(a+=" "),a+=n)}else for(n in r)r[n]&&(a&&(a+=" "),a+=n);return a}function yx(){for(var r,t,n=0,a="",c=arguments.length;n<c;n++)(r=arguments[n])&&(t=wx(r))&&(a&&(a+=" "),a+=t);return a}const hp=r=>typeof r=="boolean"?`${r}`:r===0?"0":r,fp=yx,v0=(r,t)=>n=>{var a;if(t?.variants==null)return fp(r,n?.class,n?.className);const{variants:c,defaultVariants:d}=t,p=Object.keys(c).map(y=>{const A=n?.[y],_=d?.[y];if(A===null)return null;const O=hp(A)||hp(_);return c[y][O]}),w=n&&Object.entries(n).reduce((y,A)=>{let[_,O]=A;return O===void 0||(y[_]=O),y},{}),b=t==null||(a=t.compoundVariants)===null||a===void 0?void 0:a.reduce((y,A)=>{let{class:_,className:O,...R}=A;return Object.entries(R).every(M=>{let[k,L]=M;return Array.isArray(L)?L.includes({...d,...w}[k]):{...d,...w}[k]===L})?[...y,_,O]:y},[]);return fp(r,p,b,n?.class,n?.className)},b0="-",Sb=r=>{const t=_b(r),{conflictingClassGroups:n,conflictingClassGroupModifiers:a}=r;return{getClassGroupId:p=>{const w=p.split(b0);return w[0]===""&&w.length!==1&&w.shift(),vx(w,t)||Ab(p)},getConflictingClassGroupIds:(p,w)=>{const b=n[p]||[];return w&&a[p]?[...b,...a[p]]:b}}},vx=(r,t)=>{if(r.length===0)return t.classGroupId;const n=r[0],a=t.nextPart.get(n),c=a?vx(r.slice(1),a):void 0;if(c)return c;if(t.validators.length===0)return;const d=r.join(b0);return t.validators.find(({validator:p})=>p(d))?.classGroupId},gp=/^\[(.+)\]$/,Ab=r=>{if(gp.test(r)){const t=gp.exec(r)[1],n=t?.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},_b=r=>{const{theme:t,classGroups:n}=r,a={nextPart:new Map,validators:[]};for(const c in n)zf(n[c],a,c,t);return a},zf=(r,t,n,a)=>{r.forEach(c=>{if(typeof c=="string"){const d=c===""?t:pp(t,c);d.classGroupId=n;return}if(typeof c=="function"){if(Nb(c)){zf(c(a),t,n,a);return}t.validators.push({validator:c,classGroupId:n});return}Object.entries(c).forEach(([d,p])=>{zf(p,pp(t,d),n,a)})})},pp=(r,t)=>{let n=r;return t.split(b0).forEach(a=>{n.nextPart.has(a)||n.nextPart.set(a,{nextPart:new Map,validators:[]}),n=n.nextPart.get(a)}),n},Nb=r=>r.isThemeGetter,Ib=r=>{if(r<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,a=new Map;const c=(d,p)=>{n.set(d,p),t++,t>r&&(t=0,a=n,n=new Map)};return{get(d){let p=n.get(d);if(p!==void 0)return p;if((p=a.get(d))!==void 0)return c(d,p),p},set(d,p){n.has(d)?n.set(d,p):c(d,p)}}},Vf="!",Wf=":",Tb=Wf.length,Rb=r=>{const{prefix:t,experimentalParseClassName:n}=r;let a=c=>{const d=[];let p=0,w=0,b=0,y;for(let M=0;M<c.length;M++){let k=c[M];if(p===0&&w===0){if(k===Wf){d.push(c.slice(b,M)),b=M+Tb;continue}if(k==="/"){y=M;continue}}k==="["?p++:k==="]"?p--:k==="("?w++:k===")"&&w--}const A=d.length===0?c:c.substring(b),_=kb(A),O=_!==A,R=y&&y>b?y-b:void 0;return{modifiers:d,hasImportantModifier:O,baseClassName:_,maybePostfixModifierPosition:R}};if(t){const c=t+Wf,d=a;a=p=>p.startsWith(c)?d(p.substring(c.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:p,maybePostfixModifierPosition:void 0}}if(n){const c=a;a=d=>n({className:d,parseClassName:c})}return a},kb=r=>r.endsWith(Vf)?r.substring(0,r.length-1):r.startsWith(Vf)?r.substring(1):r,Ob=r=>{const t=Object.fromEntries(r.orderSensitiveModifiers.map(a=>[a,!0]));return a=>{if(a.length<=1)return a;const c=[];let d=[];return a.forEach(p=>{p[0]==="["||t[p]?(c.push(...d.sort(),p),d=[]):d.push(p)}),c.push(...d.sort()),c}},Pb=r=>({cache:Ib(r.cacheSize),parseClassName:Rb(r),sortModifiers:Ob(r),...Sb(r)}),Db=/\s+/,jb=(r,t)=>{const{parseClassName:n,getClassGroupId:a,getConflictingClassGroupIds:c,sortModifiers:d}=t,p=[],w=r.trim().split(Db);let b="";for(let y=w.length-1;y>=0;y-=1){const A=w[y],{isExternal:_,modifiers:O,hasImportantModifier:R,baseClassName:M,maybePostfixModifierPosition:k}=n(A);if(_){b=A+(b.length>0?" "+b:b);continue}let L=!!k,z=a(L?M.substring(0,k):M);if(!z){if(!L){b=A+(b.length>0?" "+b:b);continue}if(z=a(M),!z){b=A+(b.length>0?" "+b:b);continue}L=!1}const U=d(O).join(":"),F=R?U+Vf:U,$=F+z;if(p.includes($))continue;p.push($);const X=c(z,L);for(let Z=0;Z<X.length;++Z){const H=X[Z];p.push(F+H)}b=A+(b.length>0?" "+b:b)}return b};function Mb(){let r=0,t,n,a="";for(;r<arguments.length;)(t=arguments[r++])&&(n=bx(t))&&(a&&(a+=" "),a+=n);return a}const bx=r=>{if(typeof r=="string")return r;let t,n="";for(let a=0;a<r.length;a++)r[a]&&(t=bx(r[a]))&&(n&&(n+=" "),n+=t);return n};function Lb(r,...t){let n,a,c,d=p;function p(b){const y=t.reduce((A,_)=>_(A),r());return n=Pb(y),a=n.cache.get,c=n.cache.set,d=w,w(b)}function w(b){const y=a(b);if(y)return y;const A=jb(b,n);return c(b,A),A}return function(){return d(Mb.apply(null,arguments))}}const jn=r=>{const t=n=>n[r]||[];return t.isThemeGetter=!0,t},Ex=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Cx=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Bb=/^\d+\/\d+$/,Fb=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Ub=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,zb=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Vb=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Wb=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ua=r=>Bb.test(r),_t=r=>!!r&&!Number.isNaN(Number(r)),Os=r=>!!r&&Number.isInteger(Number(r)),qh=r=>r.endsWith("%")&&_t(r.slice(0,-1)),ns=r=>Fb.test(r),Hb=()=>!0,$b=r=>Ub.test(r)&&!zb.test(r),Sx=()=>!1,Gb=r=>Vb.test(r),qb=r=>Wb.test(r),Xb=r=>!$e(r)&&!Ge(r),Kb=r=>Ua(r,Nx,Sx),$e=r=>Ex.test(r),vo=r=>Ua(r,Ix,$b),Xh=r=>Ua(r,eE,_t),mp=r=>Ua(r,Ax,Sx),Yb=r=>Ua(r,_x,qb),uu=r=>Ua(r,Tx,Gb),Ge=r=>Cx.test(r),Dl=r=>za(r,Ix),Zb=r=>za(r,tE),xp=r=>za(r,Ax),Qb=r=>za(r,Nx),Jb=r=>za(r,_x),du=r=>za(r,Tx,!0),Ua=(r,t,n)=>{const a=Ex.exec(r);return a?a[1]?t(a[1]):n(a[2]):!1},za=(r,t,n=!1)=>{const a=Cx.exec(r);return a?a[1]?t(a[1]):n:!1},Ax=r=>r==="position"||r==="percentage",_x=r=>r==="image"||r==="url",Nx=r=>r==="length"||r==="size"||r==="bg-size",Ix=r=>r==="length",eE=r=>r==="number",tE=r=>r==="family-name",Tx=r=>r==="shadow",nE=()=>{const r=jn("color"),t=jn("font"),n=jn("text"),a=jn("font-weight"),c=jn("tracking"),d=jn("leading"),p=jn("breakpoint"),w=jn("container"),b=jn("spacing"),y=jn("radius"),A=jn("shadow"),_=jn("inset-shadow"),O=jn("text-shadow"),R=jn("drop-shadow"),M=jn("blur"),k=jn("perspective"),L=jn("aspect"),z=jn("ease"),U=jn("animate"),F=()=>["auto","avoid","all","avoid-page","page","left","right","column"],$=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],X=()=>[...$(),Ge,$e],Z=()=>["auto","hidden","clip","visible","scroll"],H=()=>["auto","contain","none"],K=()=>[Ge,$e,b],V=()=>[ua,"full","auto",...K()],ge=()=>[Os,"none","subgrid",Ge,$e],Ee=()=>["auto",{span:["full",Os,Ge,$e]},Os,Ge,$e],ce=()=>[Os,"auto",Ge,$e],ve=()=>["auto","min","max","fr",Ge,$e],Ce=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ie=()=>["start","end","center","stretch","center-safe","end-safe"],he=()=>["auto",...K()],se=()=>[ua,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...K()],J=()=>[r,Ge,$e],ne=()=>[...$(),xp,mp,{position:[Ge,$e]}],oe=()=>["no-repeat",{repeat:["","x","y","space","round"]}],Y=()=>["auto","cover","contain",Qb,Kb,{size:[Ge,$e]}],le=()=>[qh,Dl,vo],Ae=()=>["","none","full",y,Ge,$e],ke=()=>["",_t,Dl,vo],ye=()=>["solid","dashed","dotted","double"],be=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],pe=()=>[_t,qh,xp,mp],Te=()=>["","none",M,Ge,$e],We=()=>["none",_t,Ge,$e],Qe=()=>["none",_t,Ge,$e],st=()=>[_t,Ge,$e],St=()=>[ua,"full",...K()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ns],breakpoint:[ns],color:[Hb],container:[ns],"drop-shadow":[ns],ease:["in","out","in-out"],font:[Xb],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ns],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ns],shadow:[ns],spacing:["px",_t],text:[ns],"text-shadow":[ns],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ua,$e,Ge,L]}],container:["container"],columns:[{columns:[_t,$e,Ge,w]}],"break-after":[{"break-after":F()}],"break-before":[{"break-before":F()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:X()}],overflow:[{overflow:Z()}],"overflow-x":[{"overflow-x":Z()}],"overflow-y":[{"overflow-y":Z()}],overscroll:[{overscroll:H()}],"overscroll-x":[{"overscroll-x":H()}],"overscroll-y":[{"overscroll-y":H()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:V()}],"inset-x":[{"inset-x":V()}],"inset-y":[{"inset-y":V()}],start:[{start:V()}],end:[{end:V()}],top:[{top:V()}],right:[{right:V()}],bottom:[{bottom:V()}],left:[{left:V()}],visibility:["visible","invisible","collapse"],z:[{z:[Os,"auto",Ge,$e]}],basis:[{basis:[ua,"full","auto",w,...K()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[_t,ua,"auto","initial","none",$e]}],grow:[{grow:["",_t,Ge,$e]}],shrink:[{shrink:["",_t,Ge,$e]}],order:[{order:[Os,"first","last","none",Ge,$e]}],"grid-cols":[{"grid-cols":ge()}],"col-start-end":[{col:Ee()}],"col-start":[{"col-start":ce()}],"col-end":[{"col-end":ce()}],"grid-rows":[{"grid-rows":ge()}],"row-start-end":[{row:Ee()}],"row-start":[{"row-start":ce()}],"row-end":[{"row-end":ce()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":ve()}],"auto-rows":[{"auto-rows":ve()}],gap:[{gap:K()}],"gap-x":[{"gap-x":K()}],"gap-y":[{"gap-y":K()}],"justify-content":[{justify:[...Ce(),"normal"]}],"justify-items":[{"justify-items":[...ie(),"normal"]}],"justify-self":[{"justify-self":["auto",...ie()]}],"align-content":[{content:["normal",...Ce()]}],"align-items":[{items:[...ie(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ie(),{baseline:["","last"]}]}],"place-content":[{"place-content":Ce()}],"place-items":[{"place-items":[...ie(),"baseline"]}],"place-self":[{"place-self":["auto",...ie()]}],p:[{p:K()}],px:[{px:K()}],py:[{py:K()}],ps:[{ps:K()}],pe:[{pe:K()}],pt:[{pt:K()}],pr:[{pr:K()}],pb:[{pb:K()}],pl:[{pl:K()}],m:[{m:he()}],mx:[{mx:he()}],my:[{my:he()}],ms:[{ms:he()}],me:[{me:he()}],mt:[{mt:he()}],mr:[{mr:he()}],mb:[{mb:he()}],ml:[{ml:he()}],"space-x":[{"space-x":K()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":K()}],"space-y-reverse":["space-y-reverse"],size:[{size:se()}],w:[{w:[w,"screen",...se()]}],"min-w":[{"min-w":[w,"screen","none",...se()]}],"max-w":[{"max-w":[w,"screen","none","prose",{screen:[p]},...se()]}],h:[{h:["screen","lh",...se()]}],"min-h":[{"min-h":["screen","lh","none",...se()]}],"max-h":[{"max-h":["screen","lh",...se()]}],"font-size":[{text:["base",n,Dl,vo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[a,Ge,Xh]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",qh,$e]}],"font-family":[{font:[Zb,$e,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[c,Ge,$e]}],"line-clamp":[{"line-clamp":[_t,"none",Ge,Xh]}],leading:[{leading:[d,...K()]}],"list-image":[{"list-image":["none",Ge,$e]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ge,$e]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:J()}],"text-color":[{text:J()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ye(),"wavy"]}],"text-decoration-thickness":[{decoration:[_t,"from-font","auto",Ge,vo]}],"text-decoration-color":[{decoration:J()}],"underline-offset":[{"underline-offset":[_t,"auto",Ge,$e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:K()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ge,$e]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ge,$e]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ne()}],"bg-repeat":[{bg:oe()}],"bg-size":[{bg:Y()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Os,Ge,$e],radial:["",Ge,$e],conic:[Os,Ge,$e]},Jb,Yb]}],"bg-color":[{bg:J()}],"gradient-from-pos":[{from:le()}],"gradient-via-pos":[{via:le()}],"gradient-to-pos":[{to:le()}],"gradient-from":[{from:J()}],"gradient-via":[{via:J()}],"gradient-to":[{to:J()}],rounded:[{rounded:Ae()}],"rounded-s":[{"rounded-s":Ae()}],"rounded-e":[{"rounded-e":Ae()}],"rounded-t":[{"rounded-t":Ae()}],"rounded-r":[{"rounded-r":Ae()}],"rounded-b":[{"rounded-b":Ae()}],"rounded-l":[{"rounded-l":Ae()}],"rounded-ss":[{"rounded-ss":Ae()}],"rounded-se":[{"rounded-se":Ae()}],"rounded-ee":[{"rounded-ee":Ae()}],"rounded-es":[{"rounded-es":Ae()}],"rounded-tl":[{"rounded-tl":Ae()}],"rounded-tr":[{"rounded-tr":Ae()}],"rounded-br":[{"rounded-br":Ae()}],"rounded-bl":[{"rounded-bl":Ae()}],"border-w":[{border:ke()}],"border-w-x":[{"border-x":ke()}],"border-w-y":[{"border-y":ke()}],"border-w-s":[{"border-s":ke()}],"border-w-e":[{"border-e":ke()}],"border-w-t":[{"border-t":ke()}],"border-w-r":[{"border-r":ke()}],"border-w-b":[{"border-b":ke()}],"border-w-l":[{"border-l":ke()}],"divide-x":[{"divide-x":ke()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ke()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ye(),"hidden","none"]}],"divide-style":[{divide:[...ye(),"hidden","none"]}],"border-color":[{border:J()}],"border-color-x":[{"border-x":J()}],"border-color-y":[{"border-y":J()}],"border-color-s":[{"border-s":J()}],"border-color-e":[{"border-e":J()}],"border-color-t":[{"border-t":J()}],"border-color-r":[{"border-r":J()}],"border-color-b":[{"border-b":J()}],"border-color-l":[{"border-l":J()}],"divide-color":[{divide:J()}],"outline-style":[{outline:[...ye(),"none","hidden"]}],"outline-offset":[{"outline-offset":[_t,Ge,$e]}],"outline-w":[{outline:["",_t,Dl,vo]}],"outline-color":[{outline:J()}],shadow:[{shadow:["","none",A,du,uu]}],"shadow-color":[{shadow:J()}],"inset-shadow":[{"inset-shadow":["none",_,du,uu]}],"inset-shadow-color":[{"inset-shadow":J()}],"ring-w":[{ring:ke()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:J()}],"ring-offset-w":[{"ring-offset":[_t,vo]}],"ring-offset-color":[{"ring-offset":J()}],"inset-ring-w":[{"inset-ring":ke()}],"inset-ring-color":[{"inset-ring":J()}],"text-shadow":[{"text-shadow":["none",O,du,uu]}],"text-shadow-color":[{"text-shadow":J()}],opacity:[{opacity:[_t,Ge,$e]}],"mix-blend":[{"mix-blend":[...be(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":be()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[_t]}],"mask-image-linear-from-pos":[{"mask-linear-from":pe()}],"mask-image-linear-to-pos":[{"mask-linear-to":pe()}],"mask-image-linear-from-color":[{"mask-linear-from":J()}],"mask-image-linear-to-color":[{"mask-linear-to":J()}],"mask-image-t-from-pos":[{"mask-t-from":pe()}],"mask-image-t-to-pos":[{"mask-t-to":pe()}],"mask-image-t-from-color":[{"mask-t-from":J()}],"mask-image-t-to-color":[{"mask-t-to":J()}],"mask-image-r-from-pos":[{"mask-r-from":pe()}],"mask-image-r-to-pos":[{"mask-r-to":pe()}],"mask-image-r-from-color":[{"mask-r-from":J()}],"mask-image-r-to-color":[{"mask-r-to":J()}],"mask-image-b-from-pos":[{"mask-b-from":pe()}],"mask-image-b-to-pos":[{"mask-b-to":pe()}],"mask-image-b-from-color":[{"mask-b-from":J()}],"mask-image-b-to-color":[{"mask-b-to":J()}],"mask-image-l-from-pos":[{"mask-l-from":pe()}],"mask-image-l-to-pos":[{"mask-l-to":pe()}],"mask-image-l-from-color":[{"mask-l-from":J()}],"mask-image-l-to-color":[{"mask-l-to":J()}],"mask-image-x-from-pos":[{"mask-x-from":pe()}],"mask-image-x-to-pos":[{"mask-x-to":pe()}],"mask-image-x-from-color":[{"mask-x-from":J()}],"mask-image-x-to-color":[{"mask-x-to":J()}],"mask-image-y-from-pos":[{"mask-y-from":pe()}],"mask-image-y-to-pos":[{"mask-y-to":pe()}],"mask-image-y-from-color":[{"mask-y-from":J()}],"mask-image-y-to-color":[{"mask-y-to":J()}],"mask-image-radial":[{"mask-radial":[Ge,$e]}],"mask-image-radial-from-pos":[{"mask-radial-from":pe()}],"mask-image-radial-to-pos":[{"mask-radial-to":pe()}],"mask-image-radial-from-color":[{"mask-radial-from":J()}],"mask-image-radial-to-color":[{"mask-radial-to":J()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":$()}],"mask-image-conic-pos":[{"mask-conic":[_t]}],"mask-image-conic-from-pos":[{"mask-conic-from":pe()}],"mask-image-conic-to-pos":[{"mask-conic-to":pe()}],"mask-image-conic-from-color":[{"mask-conic-from":J()}],"mask-image-conic-to-color":[{"mask-conic-to":J()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ne()}],"mask-repeat":[{mask:oe()}],"mask-size":[{mask:Y()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ge,$e]}],filter:[{filter:["","none",Ge,$e]}],blur:[{blur:Te()}],brightness:[{brightness:[_t,Ge,$e]}],contrast:[{contrast:[_t,Ge,$e]}],"drop-shadow":[{"drop-shadow":["","none",R,du,uu]}],"drop-shadow-color":[{"drop-shadow":J()}],grayscale:[{grayscale:["",_t,Ge,$e]}],"hue-rotate":[{"hue-rotate":[_t,Ge,$e]}],invert:[{invert:["",_t,Ge,$e]}],saturate:[{saturate:[_t,Ge,$e]}],sepia:[{sepia:["",_t,Ge,$e]}],"backdrop-filter":[{"backdrop-filter":["","none",Ge,$e]}],"backdrop-blur":[{"backdrop-blur":Te()}],"backdrop-brightness":[{"backdrop-brightness":[_t,Ge,$e]}],"backdrop-contrast":[{"backdrop-contrast":[_t,Ge,$e]}],"backdrop-grayscale":[{"backdrop-grayscale":["",_t,Ge,$e]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[_t,Ge,$e]}],"backdrop-invert":[{"backdrop-invert":["",_t,Ge,$e]}],"backdrop-opacity":[{"backdrop-opacity":[_t,Ge,$e]}],"backdrop-saturate":[{"backdrop-saturate":[_t,Ge,$e]}],"backdrop-sepia":[{"backdrop-sepia":["",_t,Ge,$e]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":K()}],"border-spacing-x":[{"border-spacing-x":K()}],"border-spacing-y":[{"border-spacing-y":K()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ge,$e]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[_t,"initial",Ge,$e]}],ease:[{ease:["linear","initial",z,Ge,$e]}],delay:[{delay:[_t,Ge,$e]}],animate:[{animate:["none",U,Ge,$e]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[k,Ge,$e]}],"perspective-origin":[{"perspective-origin":X()}],rotate:[{rotate:We()}],"rotate-x":[{"rotate-x":We()}],"rotate-y":[{"rotate-y":We()}],"rotate-z":[{"rotate-z":We()}],scale:[{scale:Qe()}],"scale-x":[{"scale-x":Qe()}],"scale-y":[{"scale-y":Qe()}],"scale-z":[{"scale-z":Qe()}],"scale-3d":["scale-3d"],skew:[{skew:st()}],"skew-x":[{"skew-x":st()}],"skew-y":[{"skew-y":st()}],transform:[{transform:[Ge,$e,"","none","gpu","cpu"]}],"transform-origin":[{origin:X()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:St()}],"translate-x":[{"translate-x":St()}],"translate-y":[{"translate-y":St()}],"translate-z":[{"translate-z":St()}],"translate-none":["translate-none"],accent:[{accent:J()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:J()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ge,$e]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":K()}],"scroll-mx":[{"scroll-mx":K()}],"scroll-my":[{"scroll-my":K()}],"scroll-ms":[{"scroll-ms":K()}],"scroll-me":[{"scroll-me":K()}],"scroll-mt":[{"scroll-mt":K()}],"scroll-mr":[{"scroll-mr":K()}],"scroll-mb":[{"scroll-mb":K()}],"scroll-ml":[{"scroll-ml":K()}],"scroll-p":[{"scroll-p":K()}],"scroll-px":[{"scroll-px":K()}],"scroll-py":[{"scroll-py":K()}],"scroll-ps":[{"scroll-ps":K()}],"scroll-pe":[{"scroll-pe":K()}],"scroll-pt":[{"scroll-pt":K()}],"scroll-pr":[{"scroll-pr":K()}],"scroll-pb":[{"scroll-pb":K()}],"scroll-pl":[{"scroll-pl":K()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ge,$e]}],fill:[{fill:["none",...J()]}],"stroke-w":[{stroke:[_t,Dl,vo,Xh]}],stroke:[{stroke:["none",...J()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},rE=Lb(nE);function yt(...r){return rE(yx(r))}const iE=v0("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),Je=T.forwardRef(({className:r,variant:t,size:n,asChild:a=!1,...c},d)=>{const p=a?xx:"button";return m.jsx(p,{ref:d,"data-slot":"button",className:yt(iE({variant:t,size:n,className:r})),...c})});Je.displayName="Button";function dt({className:r,type:t,...n}){return m.jsx("input",{type:t,"data-slot":"input",className:yt("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",r),...n})}var Va=gx();const sE=Yl(Va);var oE=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],aE=oE.reduce((r,t)=>{const n=mx(`Primitive.${t}`),a=T.forwardRef((c,d)=>{const{asChild:p,...w}=c,b=p?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),m.jsx(b,{...w,ref:d})});return a.displayName=`Primitive.${t}`,{...r,[t]:a}},{}),lE="Label",Rx=T.forwardRef((r,t)=>m.jsx(aE.label,{...r,ref:t,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(r.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Rx.displayName=lE;var cE=Rx;function Ze({className:r,...t}){return m.jsx(cE,{"data-slot":"label",className:yt("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",r),...t})}function fi({className:r,...t}){return m.jsx("div",{"data-slot":"card",className:yt("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",r),...t})}function Bs({className:r,...t}){return m.jsx("div",{"data-slot":"card-header",className:yt("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",r),...t})}function Fs({className:r,...t}){return m.jsx("h4",{"data-slot":"card-title",className:yt("leading-none",r),...t})}function ja({className:r,...t}){return m.jsx("p",{"data-slot":"card-description",className:yt("text-muted-foreground",r),...t})}function Pi({className:r,...t}){return m.jsx("div",{"data-slot":"card-content",className:yt("px-6 [&:last-child]:pb-6",r),...t})}function uE({className:r,...t}){return m.jsx("div",{"data-slot":"card-footer",className:yt("flex items-center px-6 pb-6 [.border-t]:pt-6",r),...t})}const dE=v0("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function hE({className:r,variant:t,...n}){return m.jsx("div",{"data-slot":"alert",role:"alert",className:yt(dE({variant:t}),r),...n})}function fE({className:r,...t}){return m.jsx("div",{"data-slot":"alert-description",className:yt("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",r),...t})}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gE=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),pE=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,a)=>a?a.toUpperCase():n.toLowerCase()),wp=r=>{const t=pE(r);return t.charAt(0).toUpperCase()+t.slice(1)},kx=(...r)=>r.filter((t,n,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var mE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=T.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:c="",children:d,iconNode:p,...w},b)=>T.createElement("svg",{ref:b,...mE,width:t,height:t,stroke:r,strokeWidth:a?Number(n)*24/Number(t):n,className:kx("lucide",c),...w},[...p.map(([y,A])=>T.createElement(y,A)),...Array.isArray(d)?d:[d]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=(r,t)=>{const n=T.forwardRef(({className:a,...c},d)=>T.createElement(xE,{ref:d,iconNode:t,className:kx(`lucide-${gE(wp(r))}`,`lucide-${r}`,a),...c}));return n.displayName=wp(r),n};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wE=[["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 18H5",key:"18s9l3"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],yE=gt("align-center",wE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vE=[["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 18H3",key:"1amg6g"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],bE=gt("align-left",vE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EE=[["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 18H7",key:"1ygte8"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],CE=gt("align-right",EE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SE=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Ox=gt("arrow-left",SE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AE=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],_E=gt("arrow-right",AE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NE=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],IE=gt("bold",NE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TE=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],RE=gt("calendar-days",TE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kE=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Wl=gt("calendar",kE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OE=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],yp=gt("camera",OE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PE=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],DE=gt("chart-column",PE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jE=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Px=gt("check",jE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ME=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],E0=gt("chevron-down",ME);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LE=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],BE=gt("chevron-up",LE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Bu=gt("circle-alert",FE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Ca=gt("circle-check",UE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],VE=gt("circle",zE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Dx=gt("clock",WE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HE=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],$E=gt("download",HE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GE=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],qE=gt("ellipsis-vertical",GE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XE=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],KE=gt("eye",XE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YE=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],ZE=gt("image",YE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QE=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],JE=gt("italic",QE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eC=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],tC=gt("link-2",eC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nC=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Di=gt("loader-circle",nC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rC=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],vp=gt("lock",rC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iC=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],sC=gt("log-in",iC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oC=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],jx=gt("log-out",oC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aC=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],lC=gt("mail",aC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cC=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],C0=gt("map-pin",cC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uC=[["path",{d:"M5 12h14",key:"1ays0h"}]],dC=gt("minus",uC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hC=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]],fC=gt("move",hC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gC=[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]],Mx=gt("palette",gC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],No=gt("plus",pC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mC=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],xC=gt("printer",mC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wC=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],Lx=gt("qr-code",wC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yC=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],vC=gt("refresh-cw",yC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bC=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Bx=gt("save",bC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EC=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Fx=gt("search",EC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CC=[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],SC=gt("settings-2",CC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AC=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],_C=gt("settings",AC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NC=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],bp=gt("shield",NC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IC=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Ux=gt("square-pen",IC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TC=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Zl=gt("trash-2",TC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RC=[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]],hu=gt("type",RC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kC=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],S0=gt("upload",kC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OC=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Fu=gt("users",OC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PC=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],A0=gt("x",PC);var Hf=function(r,t){return Hf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(n[c]=a[c])},Hf(r,t)};function zx(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Hf(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Zr=function(){return Zr=Object.assign||function(t){for(var n,a=1,c=arguments.length;a<c;a++){n=arguments[a];for(var d in n)Object.prototype.hasOwnProperty.call(n,d)&&(t[d]=n[d])}return t},Zr.apply(this,arguments)};function Ws(r,t){var n={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&t.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,a=Object.getOwnPropertySymbols(r);c<a.length;c++)t.indexOf(a[c])<0&&Object.prototype.propertyIsEnumerable.call(r,a[c])&&(n[a[c]]=r[a[c]]);return n}function Vx(r,t,n,a){var c=arguments.length,d=c<3?t:a===null?a=Object.getOwnPropertyDescriptor(t,n):a,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(r,t,n,a);else for(var w=r.length-1;w>=0;w--)(p=r[w])&&(d=(c<3?p(d):c>3?p(t,n,d):p(t,n))||d);return c>3&&d&&Object.defineProperty(t,n,d),d}function Wx(r,t){return function(n,a){t(n,a,r)}}function Hx(r,t,n,a,c,d){function p(z){if(z!==void 0&&typeof z!="function")throw new TypeError("Function expected");return z}for(var w=a.kind,b=w==="getter"?"get":w==="setter"?"set":"value",y=!t&&r?a.static?r:r.prototype:null,A=t||(y?Object.getOwnPropertyDescriptor(y,a.name):{}),_,O=!1,R=n.length-1;R>=0;R--){var M={};for(var k in a)M[k]=k==="access"?{}:a[k];for(var k in a.access)M.access[k]=a.access[k];M.addInitializer=function(z){if(O)throw new TypeError("Cannot add initializers after decoration has completed");d.push(p(z||null))};var L=(0,n[R])(w==="accessor"?{get:A.get,set:A.set}:A[b],M);if(w==="accessor"){if(L===void 0)continue;if(L===null||typeof L!="object")throw new TypeError("Object expected");(_=p(L.get))&&(A.get=_),(_=p(L.set))&&(A.set=_),(_=p(L.init))&&c.unshift(_)}else(_=p(L))&&(w==="field"?c.unshift(_):A[b]=_)}y&&Object.defineProperty(y,a.name,A),O=!0}function $x(r,t,n){for(var a=arguments.length>2,c=0;c<t.length;c++)n=a?t[c].call(r,n):t[c].call(r);return a?n:void 0}function Gx(r){return typeof r=="symbol"?r:"".concat(r)}function qx(r,t,n){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(r,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function Xx(r,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,t)}function Ye(r,t,n,a){function c(d){return d instanceof n?d:new n(function(p){p(d)})}return new(n||(n=Promise))(function(d,p){function w(A){try{y(a.next(A))}catch(_){p(_)}}function b(A){try{y(a.throw(A))}catch(_){p(_)}}function y(A){A.done?d(A.value):c(A.value).then(w,b)}y((a=a.apply(r,t||[])).next())})}function Kx(r,t){var n={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},a,c,d,p=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return p.next=w(0),p.throw=w(1),p.return=w(2),typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function w(y){return function(A){return b([y,A])}}function b(y){if(a)throw new TypeError("Generator is already executing.");for(;p&&(p=0,y[0]&&(n=0)),n;)try{if(a=1,c&&(d=y[0]&2?c.return:y[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,y[1])).done)return d;switch(c=0,d&&(y=[y[0]&2,d.value]),y[0]){case 0:case 1:d=y;break;case 4:return n.label++,{value:y[1],done:!1};case 5:n.label++,c=y[1],y=[0];continue;case 7:y=n.ops.pop(),n.trys.pop();continue;default:if(d=n.trys,!(d=d.length>0&&d[d.length-1])&&(y[0]===6||y[0]===2)){n=0;continue}if(y[0]===3&&(!d||y[1]>d[0]&&y[1]<d[3])){n.label=y[1];break}if(y[0]===6&&n.label<d[1]){n.label=d[1],d=y;break}if(d&&n.label<d[2]){n.label=d[2],n.ops.push(y);break}d[2]&&n.ops.pop(),n.trys.pop();continue}y=t.call(r,n)}catch(A){y=[6,A],c=0}finally{a=d=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}}var ed=Object.create?(function(r,t,n,a){a===void 0&&(a=n);var c=Object.getOwnPropertyDescriptor(t,n);(!c||("get"in c?!t.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(r,a,c)}):(function(r,t,n,a){a===void 0&&(a=n),r[a]=t[n]});function Yx(r,t){for(var n in r)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&ed(t,r,n)}function Uu(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function _0(r,t){var n=typeof Symbol=="function"&&r[Symbol.iterator];if(!n)return r;var a=n.call(r),c,d=[],p;try{for(;(t===void 0||t-- >0)&&!(c=a.next()).done;)d.push(c.value)}catch(w){p={error:w}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(p)throw p.error}}return d}function Zx(){for(var r=[],t=0;t<arguments.length;t++)r=r.concat(_0(arguments[t]));return r}function Qx(){for(var r=0,t=0,n=arguments.length;t<n;t++)r+=arguments[t].length;for(var a=Array(r),c=0,t=0;t<n;t++)for(var d=arguments[t],p=0,w=d.length;p<w;p++,c++)a[c]=d[p];return a}function N0(r,t,n){if(n||arguments.length===2)for(var a=0,c=t.length,d;a<c;a++)(d||!(a in t))&&(d||(d=Array.prototype.slice.call(t,0,a)),d[a]=t[a]);return r.concat(d||Array.prototype.slice.call(t))}function Ma(r){return this instanceof Ma?(this.v=r,this):new Ma(r)}function Jx(r,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=n.apply(r,t||[]),c,d=[];return c=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),w("next"),w("throw"),w("return",p),c[Symbol.asyncIterator]=function(){return this},c;function p(R){return function(M){return Promise.resolve(M).then(R,_)}}function w(R,M){a[R]&&(c[R]=function(k){return new Promise(function(L,z){d.push([R,k,L,z])>1||b(R,k)})},M&&(c[R]=M(c[R])))}function b(R,M){try{y(a[R](M))}catch(k){O(d[0][3],k)}}function y(R){R.value instanceof Ma?Promise.resolve(R.value.v).then(A,_):O(d[0][2],R)}function A(R){b("next",R)}function _(R){b("throw",R)}function O(R,M){R(M),d.shift(),d.length&&b(d[0][0],d[0][1])}}function ew(r){var t,n;return t={},a("next"),a("throw",function(c){throw c}),a("return"),t[Symbol.iterator]=function(){return this},t;function a(c,d){t[c]=r[c]?function(p){return(n=!n)?{value:Ma(r[c](p)),done:!1}:d?d(p):p}:d}}function tw(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=r[Symbol.asyncIterator],n;return t?t.call(r):(r=typeof Uu=="function"?Uu(r):r[Symbol.iterator](),n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n);function a(d){n[d]=r[d]&&function(p){return new Promise(function(w,b){p=r[d](p),c(w,b,p.done,p.value)})}}function c(d,p,w,b){Promise.resolve(b).then(function(y){d({value:y,done:w})},p)}}function nw(r,t){return Object.defineProperty?Object.defineProperty(r,"raw",{value:t}):r.raw=t,r}var DC=Object.create?(function(r,t){Object.defineProperty(r,"default",{enumerable:!0,value:t})}):function(r,t){r.default=t},$f=function(r){return $f=Object.getOwnPropertyNames||function(t){var n=[];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[n.length]=a);return n},$f(r)};function rw(r){if(r&&r.__esModule)return r;var t={};if(r!=null)for(var n=$f(r),a=0;a<n.length;a++)n[a]!=="default"&&ed(t,r,n[a]);return DC(t,r),t}function iw(r){return r&&r.__esModule?r:{default:r}}function sw(r,t,n,a){if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?r!==t||!a:!t.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?a:n==="a"?a.call(r):a?a.value:t.get(r)}function ow(r,t,n,a,c){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!c)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?r!==t||!c:!t.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?c.call(r,n):c?c.value=n:t.set(r,n),n}function aw(r,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof r=="function"?t===r:r.has(t)}function lw(r,t,n){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var a,c;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");a=t[Symbol.asyncDispose]}if(a===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");a=t[Symbol.dispose],n&&(c=a)}if(typeof a!="function")throw new TypeError("Object not disposable.");c&&(a=function(){try{c.call(this)}catch(d){return Promise.reject(d)}}),r.stack.push({value:t,dispose:a,async:n})}else n&&r.stack.push({async:!0});return t}var jC=typeof SuppressedError=="function"?SuppressedError:function(r,t,n){var a=new Error(n);return a.name="SuppressedError",a.error=r,a.suppressed=t,a};function cw(r){function t(d){r.error=r.hasError?new jC(d,r.error,"An error was suppressed during disposal."):d,r.hasError=!0}var n,a=0;function c(){for(;n=r.stack.pop();)try{if(!n.async&&a===1)return a=0,r.stack.push(n),Promise.resolve().then(c);if(n.dispose){var d=n.dispose.call(n.value);if(n.async)return a|=2,Promise.resolve(d).then(c,function(p){return t(p),c()})}else a|=1}catch(p){t(p)}if(a===1)return r.hasError?Promise.reject(r.error):Promise.resolve();if(r.hasError)throw r.error}return c()}function uw(r,t){return typeof r=="string"&&/^\.\.?\//.test(r)?r.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,a,c,d,p){return a?t?".jsx":".js":c&&(!d||!p)?n:c+d+"."+p.toLowerCase()+"js"}):r}const MC={__extends:zx,__assign:Zr,__rest:Ws,__decorate:Vx,__param:Wx,__esDecorate:Hx,__runInitializers:$x,__propKey:Gx,__setFunctionName:qx,__metadata:Xx,__awaiter:Ye,__generator:Kx,__createBinding:ed,__exportStar:Yx,__values:Uu,__read:_0,__spread:Zx,__spreadArrays:Qx,__spreadArray:N0,__await:Ma,__asyncGenerator:Jx,__asyncDelegator:ew,__asyncValues:tw,__makeTemplateObject:nw,__importStar:rw,__importDefault:iw,__classPrivateFieldGet:sw,__classPrivateFieldSet:ow,__classPrivateFieldIn:aw,__addDisposableResource:lw,__disposeResources:cw,__rewriteRelativeImportExtension:uw},LC=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:lw,get __assign(){return Zr},__asyncDelegator:ew,__asyncGenerator:Jx,__asyncValues:tw,__await:Ma,__awaiter:Ye,__classPrivateFieldGet:sw,__classPrivateFieldIn:aw,__classPrivateFieldSet:ow,__createBinding:ed,__decorate:Vx,__disposeResources:cw,__esDecorate:Hx,__exportStar:Yx,__extends:zx,__generator:Kx,__importDefault:iw,__importStar:rw,__makeTemplateObject:nw,__metadata:Xx,__param:Wx,__propKey:Gx,__read:_0,__rest:Ws,__rewriteRelativeImportExtension:uw,__runInitializers:$x,__setFunctionName:qx,__spread:Zx,__spreadArray:N0,__spreadArrays:Qx,__values:Uu,default:MC},Symbol.toStringTag,{value:"Module"})),BC=r=>r?(...t)=>r(...t):(...t)=>fetch(...t);class I0 extends Error{constructor(t,n="FunctionsError",a){super(t),this.name=n,this.context=a}}class Ep extends I0{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Cp extends I0{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Sp extends I0{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Gf;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(Gf||(Gf={}));class FC{constructor(t,{headers:n={},customFetch:a,region:c=Gf.Any}={}){this.url=t,this.headers=n,this.region=c,this.fetch=BC(a)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Ye(this,arguments,void 0,function*(n,a={}){var c;try{const{headers:d,method:p,body:w,signal:b}=a;let y={},{region:A}=a;A||(A=this.region);const _=new URL(`${this.url}/${n}`);A&&A!=="any"&&(y["x-region"]=A,_.searchParams.set("forceFunctionRegion",A));let O;w&&(d&&!Object.prototype.hasOwnProperty.call(d,"Content-Type")||!d)?typeof Blob<"u"&&w instanceof Blob||w instanceof ArrayBuffer?(y["Content-Type"]="application/octet-stream",O=w):typeof w=="string"?(y["Content-Type"]="text/plain",O=w):typeof FormData<"u"&&w instanceof FormData?O=w:(y["Content-Type"]="application/json",O=JSON.stringify(w)):O=w;const R=yield this.fetch(_.toString(),{method:p||"POST",headers:Object.assign(Object.assign(Object.assign({},y),this.headers),d),body:O,signal:b}).catch(z=>{throw z.name==="AbortError"?z:new Ep(z)}),M=R.headers.get("x-relay-error");if(M&&M==="true")throw new Cp(R);if(!R.ok)throw new Sp(R);let k=((c=R.headers.get("Content-Type"))!==null&&c!==void 0?c:"text/plain").split(";")[0].trim(),L;return k==="application/json"?L=yield R.json():k==="application/octet-stream"||k==="application/pdf"?L=yield R.blob():k==="text/event-stream"?L=R:k==="multipart/form-data"?L=yield R.formData():L=yield R.text(),{data:L,error:null,response:R}}catch(d){return d instanceof Error&&d.name==="AbortError"?{data:null,error:new Ep(d)}:{data:null,error:d,response:d instanceof Sp||d instanceof Cp?d.context:void 0}}})}}var ar={};const Wa=lb(LC);var fu={},gu={},pu={},mu={},xu={},wu={},Ap;function dw(){if(Ap)return wu;Ap=1,Object.defineProperty(wu,"__esModule",{value:!0});class r extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return wu.default=r,wu}var _p;function hw(){if(_p)return xu;_p=1,Object.defineProperty(xu,"__esModule",{value:!0});const t=Wa.__importDefault(dw());class n{constructor(c){var d,p;this.shouldThrowOnError=!1,this.method=c.method,this.url=c.url,this.headers=new Headers(c.headers),this.schema=c.schema,this.body=c.body,this.shouldThrowOnError=(d=c.shouldThrowOnError)!==null&&d!==void 0?d:!1,this.signal=c.signal,this.isMaybeSingle=(p=c.isMaybeSingle)!==null&&p!==void 0?p:!1,c.fetch?this.fetch=c.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(c,d){return this.headers=new Headers(this.headers),this.headers.set(c,d),this}then(c,d){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const p=this.fetch;let w=p(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async b=>{var y,A,_,O;let R=null,M=null,k=null,L=b.status,z=b.statusText;if(b.ok){if(this.method!=="HEAD"){const X=await b.text();X===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((y=this.headers.get("Accept"))===null||y===void 0)&&y.includes("application/vnd.pgrst.plan+text"))?M=X:M=JSON.parse(X))}const F=(A=this.headers.get("Prefer"))===null||A===void 0?void 0:A.match(/count=(exact|planned|estimated)/),$=(_=b.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");F&&$&&$.length>1&&(k=parseInt($[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(M)&&(M.length>1?(R={code:"PGRST116",details:`Results contain ${M.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},M=null,k=null,L=406,z="Not Acceptable"):M.length===1?M=M[0]:M=null)}else{const F=await b.text();try{R=JSON.parse(F),Array.isArray(R)&&b.status===404&&(M=[],R=null,L=200,z="OK")}catch{b.status===404&&F===""?(L=204,z="No Content"):R={message:F}}if(R&&this.isMaybeSingle&&(!((O=R?.details)===null||O===void 0)&&O.includes("0 rows"))&&(R=null,L=200,z="OK"),R&&this.shouldThrowOnError)throw new t.default(R)}return{error:R,data:M,count:k,status:L,statusText:z}});return this.shouldThrowOnError||(w=w.catch(b=>{var y,A,_;return{error:{message:`${(y=b?.name)!==null&&y!==void 0?y:"FetchError"}: ${b?.message}`,details:`${(A=b?.stack)!==null&&A!==void 0?A:""}`,hint:"",code:`${(_=b?.code)!==null&&_!==void 0?_:""}`},data:null,count:null,status:0,statusText:""}})),w.then(c,d)}returns(){return this}overrideTypes(){return this}}return xu.default=n,xu}var Np;function fw(){if(Np)return mu;Np=1,Object.defineProperty(mu,"__esModule",{value:!0});const t=Wa.__importDefault(hw());class n extends t.default{select(c){let d=!1;const p=(c??"*").split("").map(w=>/\s/.test(w)&&!d?"":(w==='"'&&(d=!d),w)).join("");return this.url.searchParams.set("select",p),this.headers.append("Prefer","return=representation"),this}order(c,{ascending:d=!0,nullsFirst:p,foreignTable:w,referencedTable:b=w}={}){const y=b?`${b}.order`:"order",A=this.url.searchParams.get(y);return this.url.searchParams.set(y,`${A?`${A},`:""}${c}.${d?"asc":"desc"}${p===void 0?"":p?".nullsfirst":".nullslast"}`),this}limit(c,{foreignTable:d,referencedTable:p=d}={}){const w=typeof p>"u"?"limit":`${p}.limit`;return this.url.searchParams.set(w,`${c}`),this}range(c,d,{foreignTable:p,referencedTable:w=p}={}){const b=typeof w>"u"?"offset":`${w}.offset`,y=typeof w>"u"?"limit":`${w}.limit`;return this.url.searchParams.set(b,`${c}`),this.url.searchParams.set(y,`${d-c+1}`),this}abortSignal(c){return this.signal=c,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:c=!1,verbose:d=!1,settings:p=!1,buffers:w=!1,wal:b=!1,format:y="text"}={}){var A;const _=[c?"analyze":null,d?"verbose":null,p?"settings":null,w?"buffers":null,b?"wal":null].filter(Boolean).join("|"),O=(A=this.headers.get("Accept"))!==null&&A!==void 0?A:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${y}; for="${O}"; options=${_};`),y==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(c){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${c}`),this}}return mu.default=n,mu}var Ip;function T0(){if(Ip)return pu;Ip=1,Object.defineProperty(pu,"__esModule",{value:!0});const t=Wa.__importDefault(fw()),n=new RegExp("[,()]");class a extends t.default{eq(d,p){return this.url.searchParams.append(d,`eq.${p}`),this}neq(d,p){return this.url.searchParams.append(d,`neq.${p}`),this}gt(d,p){return this.url.searchParams.append(d,`gt.${p}`),this}gte(d,p){return this.url.searchParams.append(d,`gte.${p}`),this}lt(d,p){return this.url.searchParams.append(d,`lt.${p}`),this}lte(d,p){return this.url.searchParams.append(d,`lte.${p}`),this}like(d,p){return this.url.searchParams.append(d,`like.${p}`),this}likeAllOf(d,p){return this.url.searchParams.append(d,`like(all).{${p.join(",")}}`),this}likeAnyOf(d,p){return this.url.searchParams.append(d,`like(any).{${p.join(",")}}`),this}ilike(d,p){return this.url.searchParams.append(d,`ilike.${p}`),this}ilikeAllOf(d,p){return this.url.searchParams.append(d,`ilike(all).{${p.join(",")}}`),this}ilikeAnyOf(d,p){return this.url.searchParams.append(d,`ilike(any).{${p.join(",")}}`),this}is(d,p){return this.url.searchParams.append(d,`is.${p}`),this}in(d,p){const w=Array.from(new Set(p)).map(b=>typeof b=="string"&&n.test(b)?`"${b}"`:`${b}`).join(",");return this.url.searchParams.append(d,`in.(${w})`),this}contains(d,p){return typeof p=="string"?this.url.searchParams.append(d,`cs.${p}`):Array.isArray(p)?this.url.searchParams.append(d,`cs.{${p.join(",")}}`):this.url.searchParams.append(d,`cs.${JSON.stringify(p)}`),this}containedBy(d,p){return typeof p=="string"?this.url.searchParams.append(d,`cd.${p}`):Array.isArray(p)?this.url.searchParams.append(d,`cd.{${p.join(",")}}`):this.url.searchParams.append(d,`cd.${JSON.stringify(p)}`),this}rangeGt(d,p){return this.url.searchParams.append(d,`sr.${p}`),this}rangeGte(d,p){return this.url.searchParams.append(d,`nxl.${p}`),this}rangeLt(d,p){return this.url.searchParams.append(d,`sl.${p}`),this}rangeLte(d,p){return this.url.searchParams.append(d,`nxr.${p}`),this}rangeAdjacent(d,p){return this.url.searchParams.append(d,`adj.${p}`),this}overlaps(d,p){return typeof p=="string"?this.url.searchParams.append(d,`ov.${p}`):this.url.searchParams.append(d,`ov.{${p.join(",")}}`),this}textSearch(d,p,{config:w,type:b}={}){let y="";b==="plain"?y="pl":b==="phrase"?y="ph":b==="websearch"&&(y="w");const A=w===void 0?"":`(${w})`;return this.url.searchParams.append(d,`${y}fts${A}.${p}`),this}match(d){return Object.entries(d).forEach(([p,w])=>{this.url.searchParams.append(p,`eq.${w}`)}),this}not(d,p,w){return this.url.searchParams.append(d,`not.${p}.${w}`),this}or(d,{foreignTable:p,referencedTable:w=p}={}){const b=w?`${w}.or`:"or";return this.url.searchParams.append(b,`(${d})`),this}filter(d,p,w){return this.url.searchParams.append(d,`${p}.${w}`),this}}return pu.default=a,pu}var Tp;function gw(){if(Tp)return gu;Tp=1,Object.defineProperty(gu,"__esModule",{value:!0});const t=Wa.__importDefault(T0());class n{constructor(c,{headers:d={},schema:p,fetch:w}){this.url=c,this.headers=new Headers(d),this.schema=p,this.fetch=w}select(c,d){const{head:p=!1,count:w}=d??{},b=p?"HEAD":"GET";let y=!1;const A=(c??"*").split("").map(_=>/\s/.test(_)&&!y?"":(_==='"'&&(y=!y),_)).join("");return this.url.searchParams.set("select",A),w&&this.headers.append("Prefer",`count=${w}`),new t.default({method:b,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(c,{count:d,defaultToNull:p=!0}={}){var w;const b="POST";if(d&&this.headers.append("Prefer",`count=${d}`),p||this.headers.append("Prefer","missing=default"),Array.isArray(c)){const y=c.reduce((A,_)=>A.concat(Object.keys(_)),[]);if(y.length>0){const A=[...new Set(y)].map(_=>`"${_}"`);this.url.searchParams.set("columns",A.join(","))}}return new t.default({method:b,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(w=this.fetch)!==null&&w!==void 0?w:fetch})}upsert(c,{onConflict:d,ignoreDuplicates:p=!1,count:w,defaultToNull:b=!0}={}){var y;const A="POST";if(this.headers.append("Prefer",`resolution=${p?"ignore":"merge"}-duplicates`),d!==void 0&&this.url.searchParams.set("on_conflict",d),w&&this.headers.append("Prefer",`count=${w}`),b||this.headers.append("Prefer","missing=default"),Array.isArray(c)){const _=c.reduce((O,R)=>O.concat(Object.keys(R)),[]);if(_.length>0){const O=[...new Set(_)].map(R=>`"${R}"`);this.url.searchParams.set("columns",O.join(","))}}return new t.default({method:A,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}update(c,{count:d}={}){var p;const w="PATCH";return d&&this.headers.append("Prefer",`count=${d}`),new t.default({method:w,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}delete({count:c}={}){var d;const p="DELETE";return c&&this.headers.append("Prefer",`count=${c}`),new t.default({method:p,url:this.url,headers:this.headers,schema:this.schema,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return gu.default=n,gu}var Rp;function UC(){if(Rp)return fu;Rp=1,Object.defineProperty(fu,"__esModule",{value:!0});const r=Wa,t=r.__importDefault(gw()),n=r.__importDefault(T0());class a{constructor(d,{headers:p={},schema:w,fetch:b}={}){this.url=d,this.headers=new Headers(p),this.schemaName=w,this.fetch=b}from(d){const p=new URL(`${this.url}/${d}`);return new t.default(p,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(d){return new a(this.url,{headers:this.headers,schema:d,fetch:this.fetch})}rpc(d,p={},{head:w=!1,get:b=!1,count:y}={}){var A;let _;const O=new URL(`${this.url}/rpc/${d}`);let R;w||b?(_=w?"HEAD":"GET",Object.entries(p).filter(([k,L])=>L!==void 0).map(([k,L])=>[k,Array.isArray(L)?`{${L.join(",")}}`:`${L}`]).forEach(([k,L])=>{O.searchParams.append(k,L)})):(_="POST",R=p);const M=new Headers(this.headers);return y&&M.set("Prefer",`count=${y}`),new n.default({method:_,url:O,headers:M,schema:this.schemaName,body:R,fetch:(A=this.fetch)!==null&&A!==void 0?A:fetch})}}return fu.default=a,fu}var kp;function zC(){if(kp)return ar;kp=1,Object.defineProperty(ar,"__esModule",{value:!0}),ar.PostgrestError=ar.PostgrestBuilder=ar.PostgrestTransformBuilder=ar.PostgrestFilterBuilder=ar.PostgrestQueryBuilder=ar.PostgrestClient=void 0;const r=Wa,t=r.__importDefault(UC());ar.PostgrestClient=t.default;const n=r.__importDefault(gw());ar.PostgrestQueryBuilder=n.default;const a=r.__importDefault(T0());ar.PostgrestFilterBuilder=a.default;const c=r.__importDefault(fw());ar.PostgrestTransformBuilder=c.default;const d=r.__importDefault(hw());ar.PostgrestBuilder=d.default;const p=r.__importDefault(dw());return ar.PostgrestError=p.default,ar.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:a.default,PostgrestTransformBuilder:c.default,PostgrestBuilder:d.default,PostgrestError:p.default},ar}var pw=zC();const mw=Yl(pw),VC=x0({__proto__:null,default:mw},[pw]),{PostgrestClient:WC,PostgrestQueryBuilder:L8,PostgrestFilterBuilder:B8,PostgrestTransformBuilder:F8,PostgrestBuilder:U8,PostgrestError:z8}=mw||VC;class HC{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const a=n.node,c=parseInt(a.replace(/^v/,"").split(".")[0]);return c>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${c} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${c} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const a=this.getWebSocketConstructor();return new a(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const $C="2.79.0",GC=`realtime-js/${$C}`,qC="1.0.0",qf=1e4,XC=1e3,KC=100;var Ul;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(Ul||(Ul={}));var Mn;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(Mn||(Mn={}));var hi;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(hi||(hi={}));var Xf;(function(r){r.websocket="websocket"})(Xf||(Xf={}));var So;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(So||(So={}));class YC{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),a=new TextDecoder;return this._decodeBroadcast(t,n,a)}_decodeBroadcast(t,n,a){const c=n.getUint8(1),d=n.getUint8(2);let p=this.HEADER_LENGTH+2;const w=a.decode(t.slice(p,p+c));p=p+c;const b=a.decode(t.slice(p,p+d));p=p+d;const y=JSON.parse(a.decode(t.slice(p,t.byteLength)));return{ref:null,topic:w,event:b,payload:y}}}class xw{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Jt;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(Jt||(Jt={}));const Op=(r,t,n={})=>{var a;const c=(a=n.skipTypes)!==null&&a!==void 0?a:[];return t?Object.keys(t).reduce((d,p)=>(d[p]=ZC(p,r,t,c),d),{}):{}},ZC=(r,t,n,a)=>{const c=t.find(w=>w.name===r),d=c?.type,p=n[r];return d&&!a.includes(d)?ww(d,p):Kf(p)},ww=(r,t)=>{if(r.charAt(0)==="_"){const n=r.slice(1,r.length);return tS(t,n)}switch(r){case Jt.bool:return QC(t);case Jt.float4:case Jt.float8:case Jt.int2:case Jt.int4:case Jt.int8:case Jt.numeric:case Jt.oid:return JC(t);case Jt.json:case Jt.jsonb:return eS(t);case Jt.timestamp:return nS(t);case Jt.abstime:case Jt.date:case Jt.daterange:case Jt.int4range:case Jt.int8range:case Jt.money:case Jt.reltime:case Jt.text:case Jt.time:case Jt.timestamptz:case Jt.timetz:case Jt.tsrange:case Jt.tstzrange:return Kf(t);default:return Kf(t)}},Kf=r=>r,QC=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},JC=r=>{if(typeof r=="string"){const t=parseFloat(r);if(!Number.isNaN(t))return t}return r},eS=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(t){return console.log(`JSON parse error: ${t}`),r}return r},tS=(r,t)=>{if(typeof r!="string")return r;const n=r.length-1,a=r[n];if(r[0]==="{"&&a==="}"){let d;const p=r.slice(1,n);try{d=JSON.parse("["+p+"]")}catch{d=p?p.split(","):[]}return d.map(w=>ww(t,w))}return r},nS=r=>typeof r=="string"?r.replace(" ","T"):r,yw=r=>{const t=new URL(r);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Kh{constructor(t,n,a={},c=qf){this.channel=t,this.event=n,this.payload=a,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var a;return this._hasReceived(t)&&n((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(a=>a.status===t).forEach(a=>a.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Pp;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(Pp||(Pp={}));class zl{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},c=>{const{onJoin:d,onLeave:p,onSync:w}=this.caller;this.joinRef=this.channel._joinRef(),this.state=zl.syncState(this.state,c,d,p),this.pendingDiffs.forEach(b=>{this.state=zl.syncDiff(this.state,b,d,p)}),this.pendingDiffs=[],w()}),this.channel._on(a.diff,{},c=>{const{onJoin:d,onLeave:p,onSync:w}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=zl.syncDiff(this.state,c,d,p),w())}),this.onJoin((c,d,p)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:d,newPresences:p})}),this.onLeave((c,d,p)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:d,leftPresences:p})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,a,c){const d=this.cloneDeep(t),p=this.transformState(n),w={},b={};return this.map(d,(y,A)=>{p[y]||(b[y]=A)}),this.map(p,(y,A)=>{const _=d[y];if(_){const O=A.map(L=>L.presence_ref),R=_.map(L=>L.presence_ref),M=A.filter(L=>R.indexOf(L.presence_ref)<0),k=_.filter(L=>O.indexOf(L.presence_ref)<0);M.length>0&&(w[y]=M),k.length>0&&(b[y]=k)}else w[y]=A}),this.syncDiff(d,{joins:w,leaves:b},a,c)}static syncDiff(t,n,a,c){const{joins:d,leaves:p}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return a||(a=()=>{}),c||(c=()=>{}),this.map(d,(w,b)=>{var y;const A=(y=t[w])!==null&&y!==void 0?y:[];if(t[w]=this.cloneDeep(b),A.length>0){const _=t[w].map(R=>R.presence_ref),O=A.filter(R=>_.indexOf(R.presence_ref)<0);t[w].unshift(...O)}a(w,A,b)}),this.map(p,(w,b)=>{let y=t[w];if(!y)return;const A=b.map(_=>_.presence_ref);y=y.filter(_=>A.indexOf(_.presence_ref)<0),t[w]=y,c(w,y,b),y.length===0&&delete t[w]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(a=>n(a,t[a]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,a)=>{const c=t[a];return"metas"in c?n[a]=c.metas.map(d=>(d.presence_ref=d.phx_ref,delete d.phx_ref,delete d.phx_ref_prev,d)):n[a]=c,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Dp;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(Dp||(Dp={}));var Vl;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(Vl||(Vl={}));var is;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(is||(is={}));class R0{constructor(t,n={config:{}},a){var c,d;if(this.topic=t,this.params=n,this.socket=a,this.bindings={},this.state=Mn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Kh(this,hi.join,this.params,this.timeout),this.rejoinTimer=new xw(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Mn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(p=>p.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Mn.closed,this.socket._remove(this)}),this._onError(p=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,p),this.state=Mn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Mn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",p=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,p),this.state=Mn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(hi.reply,{},(p,w)=>{this._trigger(this._replyEventName(w),p)}),this.presence=new zl(this),this.broadcastEndpointURL=yw(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((d=(c=this.params.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var a,c,d;if(this.socket.isConnected()||this.socket.connect(),this.state==Mn.closed){const{config:{broadcast:p,presence:w,private:b}}=this.params,y=(c=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(R=>R.filter))!==null&&c!==void 0?c:[],A=!!this.bindings[Vl.PRESENCE]&&this.bindings[Vl.PRESENCE].length>0||((d=this.params.config.presence)===null||d===void 0?void 0:d.enabled)===!0,_={},O={broadcast:p,presence:Object.assign(Object.assign({},w),{enabled:A}),postgres_changes:y,private:b};this.socket.accessTokenValue&&(_.access_token=this.socket.accessTokenValue),this._onError(R=>t?.(is.CHANNEL_ERROR,R)),this._onClose(()=>t?.(is.CLOSED)),this.updateJoinPayload(Object.assign({config:O},_)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:R})=>{var M;if(this.socket.setAuth(),R===void 0){t?.(is.SUBSCRIBED);return}else{const k=this.bindings.postgres_changes,L=(M=k?.length)!==null&&M!==void 0?M:0,z=[];for(let U=0;U<L;U++){const F=k[U],{filter:{event:$,schema:X,table:Z,filter:H}}=F,K=R&&R[U];if(K&&K.event===$&&K.schema===X&&K.table===Z&&K.filter===H)z.push(Object.assign(Object.assign({},F),{id:K.id}));else{this.unsubscribe(),this.state=Mn.errored,t?.(is.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=z,t&&t(is.SUBSCRIBED);return}}).receive("error",R=>{this.state=Mn.errored,t?.(is.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(R).join(", ")||"error")))}).receive("timeout",()=>{t?.(is.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,a){return this.state===Mn.joined&&t===Vl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,a)}async httpSend(t,n,a={}){var c;const d=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const p={method:"POST",headers:{Authorization:d,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},w=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(c=a.timeout)!==null&&c!==void 0?c:this.timeout);if(w.status===202)return{success:!0};let b=w.statusText;try{const y=await w.json();b=y.error||y.message||b}catch{}return Promise.reject(new Error(b))}async send(t,n={}){var a,c;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:d,payload:p}=t,b={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:d,payload:p,private:this.private}]})};try{const y=await this._fetchWithTimeout(this.broadcastEndpointURL,b,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);return await((c=y.body)===null||c===void 0?void 0:c.cancel()),y.ok?"ok":"error"}catch(y){return y.name==="AbortError"?"timed out":"error"}}else return new Promise(d=>{var p,w,b;const y=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((b=(w=(p=this.params)===null||p===void 0?void 0:p.config)===null||w===void 0?void 0:w.broadcast)===null||b===void 0)&&b.ack)&&d("ok"),y.receive("ok",()=>d("ok")),y.receive("error",()=>d("error")),y.receive("timeout",()=>d("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Mn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(hi.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(c=>{a=new Kh(this,hi.leave,{},t),a.receive("ok",()=>{n(),c("ok")}).receive("timeout",()=>{n(),c("timed out")}).receive("error",()=>{c("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Mn.closed,this.bindings={}}async _fetchWithTimeout(t,n,a){const c=new AbortController,d=setTimeout(()=>c.abort(),a),p=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:c.signal}));return clearTimeout(d),p}_push(t,n,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new Kh(this,t,n,a);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>KC){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,a){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,a){var c,d;const p=t.toLocaleLowerCase(),{close:w,error:b,leave:y,join:A}=hi;if(a&&[w,b,y,A].indexOf(p)>=0&&a!==this._joinRef())return;let O=this._onMessage(p,n,a);if(n&&!O)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(p)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(R=>{var M,k,L;return((M=R.filter)===null||M===void 0?void 0:M.event)==="*"||((L=(k=R.filter)===null||k===void 0?void 0:k.event)===null||L===void 0?void 0:L.toLocaleLowerCase())===p}).map(R=>R.callback(O,a)):(d=this.bindings[p])===null||d===void 0||d.filter(R=>{var M,k,L,z,U,F;if(["broadcast","presence","postgres_changes"].includes(p))if("id"in R){const $=R.id,X=(M=R.filter)===null||M===void 0?void 0:M.event;return $&&((k=n.ids)===null||k===void 0?void 0:k.includes($))&&(X==="*"||X?.toLocaleLowerCase()===((L=n.data)===null||L===void 0?void 0:L.type.toLocaleLowerCase()))}else{const $=(U=(z=R?.filter)===null||z===void 0?void 0:z.event)===null||U===void 0?void 0:U.toLocaleLowerCase();return $==="*"||$===((F=n?.event)===null||F===void 0?void 0:F.toLocaleLowerCase())}else return R.type.toLocaleLowerCase()===p}).map(R=>{if(typeof O=="object"&&"ids"in O){const M=O.data,{schema:k,table:L,commit_timestamp:z,type:U,errors:F}=M;O=Object.assign(Object.assign({},{schema:k,table:L,commit_timestamp:z,eventType:U,new:{},old:{},errors:F}),this._getPayloadRecords(M))}R.callback(O,a)})}_isClosed(){return this.state===Mn.closed}_isJoined(){return this.state===Mn.joined}_isJoining(){return this.state===Mn.joining}_isLeaving(){return this.state===Mn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,a){const c=t.toLocaleLowerCase(),d={type:c,filter:n,callback:a};return this.bindings[c]?this.bindings[c].push(d):this.bindings[c]=[d],this}_off(t,n){const a=t.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(c=>{var d;return!(((d=c.type)===null||d===void 0?void 0:d.toLocaleLowerCase())===a&&R0.isEqual(c.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const a in t)if(t[a]!==n[a])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(hi.close,{},t)}_onError(t){this._on(hi.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Mn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Op(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Op(t.columns,t.old_record)),n}}const Yh=()=>{},yu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},rS=[1e3,2e3,5e3,1e4],iS=1e4,sS=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class oS{constructor(t,n){var a;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=qf,this.transport=null,this.heartbeatIntervalMs=yu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Yh,this.ref=0,this.reconnectTimer=null,this.logger=Yh,this.conn=null,this.sendBuffer=[],this.serializer=new YC,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=c=>c?(...d)=>c(...d):(...d)=>fetch(...d),!(!((a=n?.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Xf.websocket}`,this.httpEndpoint=yw(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=HC.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:qC}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,a){this.logger(t,n,a)}connectionState(){switch(this.conn&&this.conn.readyState){case Ul.connecting:return So.Connecting;case Ul.open:return So.Open;case Ul.closing:return So.Closing;default:return So.Closed}}isConnected(){return this.connectionState()===So.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const a=`realtime:${t}`,c=this.getChannels().find(d=>d.topic===a);if(c)return c;{const d=new R0(`realtime:${t}`,n,this);return this.channels.push(d),d}}push(t){const{topic:n,event:a,payload:c,ref:d}=t,p=()=>{this.encode(t,w=>{var b;(b=this.conn)===null||b===void 0||b.send(w)})};this.log("push",`${n} ${a} (${d})`,c),this.isConnected()?p():this.sendBuffer.push(p)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(XC,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},yu.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(a=>a.topic===t&&(a._isJoined()||a._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(y){this.log("error","error in heartbeat callback",y)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:c,payload:d,ref:p}=n,w=p?`(${p})`:"",b=d.status||"";this.log("receive",`${b} ${a} ${c} ${w}`.trim(),d),this.channels.filter(y=>y._isMember(a)).forEach(y=>y._trigger(c,d,p)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(hi.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const a=t.match(/\?/)?"&":"?",c=new URLSearchParams(n);return`${t}${a}${c}`}_workerObjectUrl(t){let n;if(t)n=t;else{const a=new Blob([sS],{type:"application/javascript"});n=URL.createObjectURL(a)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(a=>{const c={access_token:n,version:GC};n&&a.updateJoinPayload(c),a.joinedOnce&&a._isJoined()&&a._push(hi.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(a=>{try{a(n)}catch(c){this.log("error",`error in ${t} callback`,c)}})}catch(a){this.log("error",`error triggering ${t} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new xw(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},yu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,a,c,d,p,w,b,y,A;if(this.transport=(n=t?.transport)!==null&&n!==void 0?n:null,this.timeout=(a=t?.timeout)!==null&&a!==void 0?a:qf,this.heartbeatIntervalMs=(c=t?.heartbeatIntervalMs)!==null&&c!==void 0?c:yu.HEARTBEAT_INTERVAL,this.worker=(d=t?.worker)!==null&&d!==void 0?d:!1,this.accessToken=(p=t?.accessToken)!==null&&p!==void 0?p:null,this.heartbeatCallback=(w=t?.heartbeatCallback)!==null&&w!==void 0?w:Yh,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(b=t?.reconnectAfterMs)!==null&&b!==void 0?b:(_=>rS[_-1]||iS),this.encode=(y=t?.encode)!==null&&y!==void 0?y:((_,O)=>O(JSON.stringify(_))),this.decode=(A=t?.decode)!==null&&A!==void 0?A:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}class k0 extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function un(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class aS extends k0{constructor(t,n,a){super(t),this.name="StorageApiError",this.status=n,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Yf extends k0{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}const O0=r=>r?(...t)=>r(...t):(...t)=>fetch(...t),lS=()=>Response,Zf=r=>{if(Array.isArray(r))return r.map(n=>Zf(n));if(typeof r=="function"||r!==Object(r))return r;const t={};return Object.entries(r).forEach(([n,a])=>{const c=n.replace(/([-_][a-z])/gi,d=>d.toUpperCase().replace(/[-_]/g,""));t[c]=Zf(a)}),t},cS=r=>{if(typeof r!="object"||r===null)return!1;const t=Object.getPrototypeOf(r);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},Zh=r=>{var t;return r.msg||r.message||r.error_description||(typeof r.error=="string"?r.error:(t=r.error)===null||t===void 0?void 0:t.message)||JSON.stringify(r)},uS=(r,t,n)=>Ye(void 0,void 0,void 0,function*(){const a=yield lS();r instanceof a&&!n?.noResolveJson?r.json().then(c=>{const d=r.status||500,p=c?.statusCode||d+"";t(new aS(Zh(c),d,p))}).catch(c=>{t(new Yf(Zh(c),c))}):t(new Yf(Zh(r),r))}),dS=(r,t,n,a)=>{const c={method:r,headers:t?.headers||{}};return r==="GET"||!a?c:(cS(a)?(c.headers=Object.assign({"Content-Type":"application/json"},t?.headers),c.body=JSON.stringify(a)):c.body=a,t?.duplex&&(c.duplex=t.duplex),Object.assign(Object.assign({},c),n))};function Ql(r,t,n,a,c,d){return Ye(this,void 0,void 0,function*(){return new Promise((p,w)=>{r(n,dS(t,a,c,d)).then(b=>{if(!b.ok)throw b;return a?.noResolveJson?b:b.json()}).then(b=>p(b)).catch(b=>uS(b,w,a))})})}function Hl(r,t,n,a){return Ye(this,void 0,void 0,function*(){return Ql(r,"GET",t,n,a)})}function di(r,t,n,a,c){return Ye(this,void 0,void 0,function*(){return Ql(r,"POST",t,a,c,n)})}function Qf(r,t,n,a,c){return Ye(this,void 0,void 0,function*(){return Ql(r,"PUT",t,a,c,n)})}function hS(r,t,n,a){return Ye(this,void 0,void 0,function*(){return Ql(r,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),a)})}function P0(r,t,n,a,c){return Ye(this,void 0,void 0,function*(){return Ql(r,"DELETE",t,a,c,n)})}class fS{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return Ye(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(un(t))return{data:null,error:t};throw t}})}}var vw;class gS{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n,this[vw]="BlobDownloadBuilder",this.promise=null}asStream(){return new fS(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.getPromise().then(t,n)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Ye(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(un(t))return{data:null,error:t};throw t}})}}vw=Symbol.toStringTag;const pS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},jp={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class mS{constructor(t,n={},a,c){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=a,this.fetch=O0(c)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,a,c){return Ye(this,void 0,void 0,function*(){try{let d;const p=Object.assign(Object.assign({},jp),c);let w=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(p.upsert)});const b=p.metadata;typeof Blob<"u"&&a instanceof Blob?(d=new FormData,d.append("cacheControl",p.cacheControl),b&&d.append("metadata",this.encodeMetadata(b)),d.append("",a)):typeof FormData<"u"&&a instanceof FormData?(d=a,d.has("cacheControl")||d.append("cacheControl",p.cacheControl),b&&!d.has("metadata")&&d.append("metadata",this.encodeMetadata(b))):(d=a,w["cache-control"]=`max-age=${p.cacheControl}`,w["content-type"]=p.contentType,b&&(w["x-metadata"]=this.toBase64(this.encodeMetadata(b))),(typeof ReadableStream<"u"&&d instanceof ReadableStream||d&&typeof d=="object"&&"pipe"in d&&typeof d.pipe=="function")&&!p.duplex&&(p.duplex="half")),c?.headers&&(w=Object.assign(Object.assign({},w),c.headers));const y=this._removeEmptyFolders(n),A=this._getFinalPath(y),_=yield(t=="PUT"?Qf:di)(this.fetch,`${this.url}/object/${A}`,d,Object.assign({headers:w},p?.duplex?{duplex:p.duplex}:{}));return{data:{path:y,id:_.Id,fullPath:_.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(un(d))return{data:null,error:d};throw d}})}upload(t,n,a){return Ye(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,a)})}uploadToSignedUrl(t,n,a,c){return Ye(this,void 0,void 0,function*(){const d=this._removeEmptyFolders(t),p=this._getFinalPath(d),w=new URL(this.url+`/object/upload/sign/${p}`);w.searchParams.set("token",n);try{let b;const y=Object.assign({upsert:jp.upsert},c),A=Object.assign(Object.assign({},this.headers),{"x-upsert":String(y.upsert)});typeof Blob<"u"&&a instanceof Blob?(b=new FormData,b.append("cacheControl",y.cacheControl),b.append("",a)):typeof FormData<"u"&&a instanceof FormData?(b=a,b.append("cacheControl",y.cacheControl)):(b=a,A["cache-control"]=`max-age=${y.cacheControl}`,A["content-type"]=y.contentType);const _=yield Qf(this.fetch,w.toString(),b,{headers:A});return{data:{path:d,fullPath:_.Key},error:null}}catch(b){if(this.shouldThrowOnError)throw b;if(un(b))return{data:null,error:b};throw b}})}createSignedUploadUrl(t,n){return Ye(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t);const c=Object.assign({},this.headers);n?.upsert&&(c["x-upsert"]="true");const d=yield di(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:c}),p=new URL(this.url+d.url),w=p.searchParams.get("token");if(!w)throw new k0("No token returned by API");return{data:{signedUrl:p.toString(),path:t,token:w},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(un(a))return{data:null,error:a};throw a}})}update(t,n,a){return Ye(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,a)})}move(t,n,a){return Ye(this,void 0,void 0,function*(){try{return{data:yield di(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:a?.destinationBucket},{headers:this.headers}),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(un(c))return{data:null,error:c};throw c}})}copy(t,n,a){return Ye(this,void 0,void 0,function*(){try{return{data:{path:(yield di(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:a?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(un(c))return{data:null,error:c};throw c}})}createSignedUrl(t,n,a){return Ye(this,void 0,void 0,function*(){try{let c=this._getFinalPath(t),d=yield di(this.fetch,`${this.url}/object/sign/${c}`,Object.assign({expiresIn:n},a?.transform?{transform:a.transform}:{}),{headers:this.headers});const p=a?.download?`&download=${a.download===!0?"":a.download}`:"";return d={signedUrl:encodeURI(`${this.url}${d.signedURL}${p}`)},{data:d,error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(un(c))return{data:null,error:c};throw c}})}createSignedUrls(t,n,a){return Ye(this,void 0,void 0,function*(){try{const c=yield di(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),d=a?.download?`&download=${a.download===!0?"":a.download}`:"";return{data:c.map(p=>Object.assign(Object.assign({},p),{signedUrl:p.signedURL?encodeURI(`${this.url}${p.signedURL}${d}`):null})),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(un(c))return{data:null,error:c};throw c}})}download(t,n){const c=typeof n?.transform<"u"?"render/image/authenticated":"object",d=this.transformOptsToQueryString(n?.transform||{}),p=d?`?${d}`:"",w=this._getFinalPath(t),b=()=>Hl(this.fetch,`${this.url}/${c}/${w}${p}`,{headers:this.headers,noResolveJson:!0});return new gS(b,this.shouldThrowOnError)}info(t){return Ye(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const a=yield Hl(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Zf(a),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(un(a))return{data:null,error:a};throw a}})}exists(t){return Ye(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield hS(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(un(a)&&a instanceof Yf){const c=a.originalError;if([400,404].includes(c?.status))return{data:!1,error:a}}throw a}})}getPublicUrl(t,n){const a=this._getFinalPath(t),c=[],d=n?.download?`download=${n.download===!0?"":n.download}`:"";d!==""&&c.push(d);const w=typeof n?.transform<"u"?"render/image":"object",b=this.transformOptsToQueryString(n?.transform||{});b!==""&&c.push(b);let y=c.join("&");return y!==""&&(y=`?${y}`),{data:{publicUrl:encodeURI(`${this.url}/${w}/public/${a}${y}`)}}}remove(t){return Ye(this,void 0,void 0,function*(){try{return{data:yield P0(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(un(n))return{data:null,error:n};throw n}})}list(t,n,a){return Ye(this,void 0,void 0,function*(){try{const c=Object.assign(Object.assign(Object.assign({},pS),n),{prefix:t||""});return{data:yield di(this.fetch,`${this.url}/object/list/${this.bucketId}`,c,{headers:this.headers},a),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(un(c))return{data:null,error:c};throw c}})}listV2(t,n){return Ye(this,void 0,void 0,function*(){try{const a=Object.assign({},t);return{data:yield di(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(un(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const bw="2.79.0",Ew={"X-Client-Info":`storage-js/${bw}`};class xS{constructor(t,n={},a,c){this.shouldThrowOnError=!1;const d=new URL(t);c?.useNewHostname&&/supabase\.(co|in|red)$/.test(d.hostname)&&!d.hostname.includes("storage.supabase.")&&(d.hostname=d.hostname.replace("supabase.","storage.supabase.")),this.url=d.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ew),n),this.fetch=O0(a)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return Ye(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(t);return{data:yield Hl(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(un(n))return{data:null,error:n};throw n}})}getBucket(t){return Ye(this,void 0,void 0,function*(){try{return{data:yield Hl(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(un(n))return{data:null,error:n};throw n}})}createBucket(t){return Ye(this,arguments,void 0,function*(n,a={public:!1}){try{return{data:yield di(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(un(c))return{data:null,error:c};throw c}})}updateBucket(t,n){return Ye(this,void 0,void 0,function*(){try{return{data:yield Qf(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(un(a))return{data:null,error:a};throw a}})}emptyBucket(t){return Ye(this,void 0,void 0,function*(){try{return{data:yield di(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(un(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Ye(this,void 0,void 0,function*(){try{return{data:yield P0(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(un(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(t){const n={};return t&&("limit"in t&&(n.limit=String(t.limit)),"offset"in t&&(n.offset=String(t.offset)),t.search&&(n.search=t.search),t.sortColumn&&(n.sortColumn=t.sortColumn),t.sortOrder&&(n.sortOrder=t.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class wS{constructor(t,n={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ew),n),this.fetch=O0(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Ye(this,void 0,void 0,function*(){try{return{data:yield di(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(un(n))return{data:null,error:n};throw n}})}listBuckets(t){return Ye(this,void 0,void 0,function*(){try{const n=new URLSearchParams;t?.limit!==void 0&&n.set("limit",t.limit.toString()),t?.offset!==void 0&&n.set("offset",t.offset.toString()),t?.sortColumn&&n.set("sortColumn",t.sortColumn),t?.sortOrder&&n.set("sortOrder",t.sortOrder),t?.search&&n.set("search",t.search);const a=n.toString(),c=a?`${this.url}/bucket?${a}`:`${this.url}/bucket`;return{data:yield Hl(this.fetch,c,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(un(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Ye(this,void 0,void 0,function*(){try{return{data:yield P0(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(un(n))return{data:null,error:n};throw n}})}}const D0={"X-Client-Info":`storage-js/${bw}`,"Content-Type":"application/json"};class Cw extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Mr(r){return typeof r=="object"&&r!==null&&"__isStorageVectorsError"in r}class Qh extends Cw{constructor(t,n,a){super(t),this.name="StorageVectorsApiError",this.status=n,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class yS extends Cw{constructor(t,n){super(t),this.name="StorageVectorsUnknownError",this.originalError=n}}var Mp;(function(r){r.InternalError="InternalError",r.S3VectorConflictException="S3VectorConflictException",r.S3VectorNotFoundException="S3VectorNotFoundException",r.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",r.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",r.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Mp||(Mp={}));const j0=r=>r?(...t)=>r(...t):(...t)=>fetch(...t),vS=r=>{if(typeof r!="object"||r===null)return!1;const t=Object.getPrototypeOf(r);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},Lp=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),bS=(r,t,n)=>Ye(void 0,void 0,void 0,function*(){if(r&&typeof r=="object"&&"status"in r&&"ok"in r&&typeof r.status=="number"&&!n?.noResolveJson){const c=r.status||500,d=r;if(typeof d.json=="function")d.json().then(p=>{const w=p?.statusCode||p?.code||c+"";t(new Qh(Lp(p),c,w))}).catch(()=>{const p=c+"",w=d.statusText||`HTTP ${c} error`;t(new Qh(w,c,p))});else{const p=c+"",w=d.statusText||`HTTP ${c} error`;t(new Qh(w,c,p))}}else t(new yS(Lp(r),r))}),ES=(r,t,n,a)=>{const c={method:r,headers:t?.headers||{}};return a?(vS(a)?(c.headers=Object.assign({"Content-Type":"application/json"},t?.headers),c.body=JSON.stringify(a)):c.body=a,Object.assign(Object.assign({},c),n)):c};function CS(r,t,n,a,c,d){return Ye(this,void 0,void 0,function*(){return new Promise((p,w)=>{r(n,ES(t,a,c,d)).then(b=>{if(!b.ok)throw b;if(a?.noResolveJson)return b;const y=b.headers.get("content-type");return!y||!y.includes("application/json")?{}:b.json()}).then(b=>p(b)).catch(b=>bS(b,w,a))})})}function Lr(r,t,n,a,c){return Ye(this,void 0,void 0,function*(){return CS(r,"POST",t,a,c,n)})}class SS{constructor(t,n={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},D0),n),this.fetch=j0(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return Ye(this,void 0,void 0,function*(){try{return{data:(yield Lr(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Mr(n))return{data:null,error:n};throw n}})}getIndex(t,n){return Ye(this,void 0,void 0,function*(){try{return{data:yield Lr(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Mr(a))return{data:null,error:a};throw a}})}listIndexes(t){return Ye(this,void 0,void 0,function*(){try{return{data:yield Lr(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Mr(n))return{data:null,error:n};throw n}})}deleteIndex(t,n){return Ye(this,void 0,void 0,function*(){try{return{data:(yield Lr(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Mr(a))return{data:null,error:a};throw a}})}}class AS{constructor(t,n={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},D0),n),this.fetch=j0(a)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return Ye(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Lr(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Mr(n))return{data:null,error:n};throw n}})}getVectors(t){return Ye(this,void 0,void 0,function*(){try{return{data:yield Lr(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Mr(n))return{data:null,error:n};throw n}})}listVectors(t){return Ye(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Lr(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Mr(n))return{data:null,error:n};throw n}})}queryVectors(t){return Ye(this,void 0,void 0,function*(){try{return{data:yield Lr(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Mr(n))return{data:null,error:n};throw n}})}deleteVectors(t){return Ye(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Lr(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Mr(n))return{data:null,error:n};throw n}})}}class _S{constructor(t,n={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},D0),n),this.fetch=j0(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Ye(this,void 0,void 0,function*(){try{return{data:(yield Lr(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Mr(n))return{data:null,error:n};throw n}})}getBucket(t){return Ye(this,void 0,void 0,function*(){try{return{data:yield Lr(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Mr(n))return{data:null,error:n};throw n}})}listBuckets(){return Ye(this,arguments,void 0,function*(t={}){try{return{data:yield Lr(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Mr(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Ye(this,void 0,void 0,function*(){try{return{data:(yield Lr(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Mr(n))return{data:null,error:n};throw n}})}}class NS extends _S{constructor(t,n={}){super(t,n.headers||{},n.fetch)}from(t){return new IS(this.url,this.headers,t,this.fetch)}}class IS extends SS{constructor(t,n,a,c){super(t,n,c),this.vectorBucketName=a}createIndex(t){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Ye(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Ye(this,arguments,void 0,function*(n={}){return t.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Ye(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Ye(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new TS(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class TS extends AS{constructor(t,n,a,c,d){super(t,n,d),this.vectorBucketName=a,this.indexName=c}putVectors(t){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Ye(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Ye(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Ye(this,arguments,void 0,function*(n={}){return t.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Ye(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Ye(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class RS extends xS{constructor(t,n={},a,c){super(t,n,a,c)}from(t){return new mS(this.url,this.headers,t,this.fetch)}get vectors(){return new NS(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new wS(this.url+"/iceberg",this.headers,this.fetch)}}const kS="2.79.0";let Ll="";typeof Deno<"u"?Ll="deno":typeof document<"u"?Ll="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ll="react-native":Ll="node";const OS={"X-Client-Info":`supabase-js-${Ll}/${kS}`},PS={headers:OS},DS={schema:"public"},jS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},MS={},LS=r=>r?(...t)=>r(...t):(...t)=>fetch(...t),BS=()=>Headers,FS=(r,t,n)=>{const a=LS(n),c=BS();return async(d,p)=>{var w;const b=(w=await t())!==null&&w!==void 0?w:r;let y=new c(p?.headers);return y.has("apikey")||y.set("apikey",r),y.has("Authorization")||y.set("Authorization",`Bearer ${b}`),a(d,Object.assign(Object.assign({},p),{headers:y}))}};function US(r){return r.endsWith("/")?r:r+"/"}function zS(r,t){var n,a;const{db:c,auth:d,realtime:p,global:w}=r,{db:b,auth:y,realtime:A,global:_}=t,O={db:Object.assign(Object.assign({},b),c),auth:Object.assign(Object.assign({},y),d),realtime:Object.assign(Object.assign({},A),p),storage:{},global:Object.assign(Object.assign(Object.assign({},_),w),{headers:Object.assign(Object.assign({},(n=_?.headers)!==null&&n!==void 0?n:{}),(a=w?.headers)!==null&&a!==void 0?a:{})}),accessToken:async()=>""};return r.accessToken?O.accessToken=r.accessToken:delete O.accessToken,O}function VS(r){const t=r?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(US(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Sw="2.79.0",ba=30*1e3,Jf=3,Jh=Jf*ba,WS="http://localhost:9999",HS="supabase.auth.token",$S={"X-Client-Info":`gotrue-js/${Sw}`},e0="X-Supabase-Api-Version",Aw={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},GS=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,qS=600*1e3;class $l extends Error{constructor(t,n,a){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=a}}function rt(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class XS extends $l{constructor(t,n,a){super(t,n,a),this.name="AuthApiError",this.status=n,this.code=a}}function KS(r){return rt(r)&&r.name==="AuthApiError"}class Ao extends $l{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Hs extends $l{constructor(t,n,a,c){super(t,a,c),this.name=n,this.status=a}}class li extends Hs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function YS(r){return rt(r)&&r.name==="AuthSessionMissingError"}class da extends Hs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class vu extends Hs{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class bu extends Hs{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function ZS(r){return rt(r)&&r.name==="AuthImplicitGrantRedirectError"}class Bp extends Hs{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class t0 extends Hs{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function ef(r){return rt(r)&&r.name==="AuthRetryableFetchError"}class Fp extends Hs{constructor(t,n,a){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=a}}class n0 extends Hs{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const zu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Up=` 	
\r=`.split(""),QS=(()=>{const r=new Array(128);for(let t=0;t<r.length;t+=1)r[t]=-1;for(let t=0;t<Up.length;t+=1)r[Up[t].charCodeAt(0)]=-2;for(let t=0;t<zu.length;t+=1)r[zu[t].charCodeAt(0)]=t;return r})();function zp(r,t,n){if(r!==null)for(t.queue=t.queue<<8|r,t.queuedBits+=8;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;n(zu[a]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;n(zu[a]),t.queuedBits-=6}}function _w(r,t,n){const a=QS[r];if(a>-1)for(t.queue=t.queue<<6|a,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function Vp(r){const t=[],n=p=>{t.push(String.fromCodePoint(p))},a={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},d=p=>{tA(p,a,n)};for(let p=0;p<r.length;p+=1)_w(r.charCodeAt(p),c,d);return t.join("")}function JS(r,t){if(r<=127){t(r);return}else if(r<=2047){t(192|r>>6),t(128|r&63);return}else if(r<=65535){t(224|r>>12),t(128|r>>6&63),t(128|r&63);return}else if(r<=1114111){t(240|r>>18),t(128|r>>12&63),t(128|r>>6&63),t(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function eA(r,t){for(let n=0;n<r.length;n+=1){let a=r.charCodeAt(n);if(a>55295&&a<=56319){const c=(a-55296)*1024&65535;a=(r.charCodeAt(n+1)-56320&65535|c)+65536,n+=1}JS(a,t)}}function tA(r,t,n){if(t.utf8seq===0){if(r<=127){n(r);return}for(let a=1;a<6;a+=1)if((r>>7-a&1)===0){t.utf8seq=a;break}if(t.utf8seq===2)t.codepoint=r&31;else if(t.utf8seq===3)t.codepoint=r&15;else if(t.utf8seq===4)t.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|r&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Aa(r){const t=[],n={queue:0,queuedBits:0},a=c=>{t.push(c)};for(let c=0;c<r.length;c+=1)_w(r.charCodeAt(c),n,a);return new Uint8Array(t)}function nA(r){const t=[];return eA(r,n=>t.push(n)),new Uint8Array(t)}function _o(r){const t=[],n={queue:0,queuedBits:0},a=c=>{t.push(c)};return r.forEach(c=>zp(c,n,a)),zp(null,n,a),t.join("")}function rA(r){return Math.round(Date.now()/1e3)+r}function iA(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const t=Math.random()*16|0;return(r=="x"?t:t&3|8).toString(16)})}const lr=()=>typeof window<"u"&&typeof document<"u",bo={tested:!1,writable:!1},Nw=()=>{if(!lr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(bo.tested)return bo.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),bo.tested=!0,bo.writable=!0}catch{bo.tested=!0,bo.writable=!1}return bo.writable};function sA(r){const t={},n=new URL(r);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((c,d)=>{t[d]=c})}catch{}return n.searchParams.forEach((a,c)=>{t[c]=a}),t}const Iw=r=>r?(...t)=>r(...t):(...t)=>fetch(...t),oA=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",Ea=async(r,t,n)=>{await r.setItem(t,JSON.stringify(n))},Eo=async(r,t)=>{const n=await r.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ps=async(r,t)=>{await r.removeItem(t)};class td{constructor(){this.promise=new td.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}td.promiseConstructor=Promise;function tf(r){const t=r.split(".");if(t.length!==3)throw new n0("Invalid JWT structure");for(let a=0;a<t.length;a++)if(!GS.test(t[a]))throw new n0("JWT not in base64url format");return{header:JSON.parse(Vp(t[0])),payload:JSON.parse(Vp(t[1])),signature:Aa(t[2]),raw:{header:t[0],payload:t[1]}}}async function aA(r){return await new Promise(t=>{setTimeout(()=>t(null),r)})}function lA(r,t){return new Promise((a,c)=>{(async()=>{for(let d=0;d<1/0;d++)try{const p=await r(d);if(!t(d,null,p)){a(p);return}}catch(p){if(!t(d,p)){c(p);return}}})()})}function cA(r){return("0"+r.toString(16)).substr(-2)}function uA(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=n.length;let c="";for(let d=0;d<56;d++)c+=n.charAt(Math.floor(Math.random()*a));return c}return crypto.getRandomValues(t),Array.from(t,cA).join("")}async function dA(r){const n=new TextEncoder().encode(r),a=await crypto.subtle.digest("SHA-256",n),c=new Uint8Array(a);return Array.from(c).map(d=>String.fromCharCode(d)).join("")}async function hA(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const n=await dA(r);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ha(r,t,n=!1){const a=uA();let c=a;n&&(c+="/PASSWORD_RECOVERY"),await Ea(r,`${t}-code-verifier`,c);const d=await hA(a);return[d,a===d?"plain":"s256"]}const fA=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function gA(r){const t=r.headers.get(e0);if(!t||!t.match(fA))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function pA(r){if(!r)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(r<=t)throw new Error("JWT has expired")}function mA(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const xA=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function fa(r){if(!xA.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function nf(){const r={};return new Proxy(r,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function wA(r,t){return new Proxy(r,{get:(n,a,c)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const d=a.toString();if(d==="Symbol(Symbol.toPrimitive)"||d==="Symbol(Symbol.toStringTag)"||d==="Symbol(util.inspect.custom)"||d==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,a,c)}return!t.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,a,c)}})}function Wp(r){return JSON.parse(JSON.stringify(r))}const Co=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),yA=[502,503,504];async function Hp(r){var t;if(!oA(r))throw new t0(Co(r),0);if(yA.includes(r.status))throw new t0(Co(r),r.status);let n;try{n=await r.json()}catch(d){throw new Ao(Co(d),d)}let a;const c=gA(r);if(c&&c.getTime()>=Aw["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?a=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(a=n.error_code),a){if(a==="weak_password")throw new Fp(Co(n),r.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(a==="session_not_found")throw new li}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((d,p)=>d&&typeof p=="string",!0))throw new Fp(Co(n),r.status,n.weak_password.reasons);throw new XS(Co(n),r.status||500,a)}const vA=(r,t,n,a)=>{const c={method:r,headers:t?.headers||{}};return r==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),c.body=JSON.stringify(a),Object.assign(Object.assign({},c),n))};async function ht(r,t,n,a){var c;const d=Object.assign({},a?.headers);d[e0]||(d[e0]=Aw["2024-01-01"].name),a?.jwt&&(d.Authorization=`Bearer ${a.jwt}`);const p=(c=a?.query)!==null&&c!==void 0?c:{};a?.redirectTo&&(p.redirect_to=a.redirectTo);const w=Object.keys(p).length?"?"+new URLSearchParams(p).toString():"",b=await bA(r,t,n+w,{headers:d,noResolveJson:a?.noResolveJson},{},a?.body);return a?.xform?a?.xform(b):{data:Object.assign({},b),error:null}}async function bA(r,t,n,a,c,d){const p=vA(t,a,c,d);let w;try{w=await r(n,Object.assign({},p))}catch(b){throw console.error(b),new t0(Co(b),0)}if(w.ok||await Hp(w),a?.noResolveJson)return w;try{return await w.json()}catch(b){await Hp(b)}}function ci(r){var t;let n=null;SA(r)&&(n=Object.assign({},r),r.expires_at||(n.expires_at=rA(r.expires_in)));const a=(t=r.user)!==null&&t!==void 0?t:r;return{data:{session:n,user:a},error:null}}function $p(r){const t=ci(r);return!t.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((n,a)=>n&&typeof a=="string",!0)&&(t.data.weak_password=r.weak_password),t}function Ms(r){var t;return{data:{user:(t=r.user)!==null&&t!==void 0?t:r},error:null}}function EA(r){return{data:r,error:null}}function CA(r){const{action_link:t,email_otp:n,hashed_token:a,redirect_to:c,verification_type:d}=r,p=Ws(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),w={action_link:t,email_otp:n,hashed_token:a,redirect_to:c,verification_type:d},b=Object.assign({},p);return{data:{properties:w,user:b},error:null}}function Gp(r){return r}function SA(r){return r.access_token&&r.refresh_token&&r.expires_in}const rf=["global","local","others"];class AA{constructor({url:t="",headers:n={},fetch:a}){this.url=t,this.headers=n,this.fetch=Iw(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=rf[0]){if(rf.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${rf.join(", ")}`);try{return await ht(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(a){if(rt(a))return{data:null,error:a};throw a}}async inviteUserByEmail(t,n={}){try{return await ht(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ms})}catch(a){if(rt(a))return{data:{user:null},error:a};throw a}}async generateLink(t){try{const{options:n}=t,a=Ws(t,["options"]),c=Object.assign(Object.assign({},a),n);return"newEmail"in a&&(c.new_email=a?.newEmail,delete c.newEmail),await ht(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:CA,redirectTo:n?.redirectTo})}catch(n){if(rt(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await ht(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ms})}catch(n){if(rt(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,a,c,d,p,w,b;try{const y={nextPage:null,lastPage:0,total:0},A=await ht(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(d=(c=t?.perPage)===null||c===void 0?void 0:c.toString())!==null&&d!==void 0?d:""},xform:Gp});if(A.error)throw A.error;const _=await A.json(),O=(p=A.headers.get("x-total-count"))!==null&&p!==void 0?p:0,R=(b=(w=A.headers.get("link"))===null||w===void 0?void 0:w.split(","))!==null&&b!==void 0?b:[];return R.length>0&&(R.forEach(M=>{const k=parseInt(M.split(";")[0].split("=")[1].substring(0,1)),L=JSON.parse(M.split(";")[1].split("=")[1]);y[`${L}Page`]=k}),y.total=parseInt(O)),{data:Object.assign(Object.assign({},_),y),error:null}}catch(y){if(rt(y))return{data:{users:[]},error:y};throw y}}async getUserById(t){fa(t);try{return await ht(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ms})}catch(n){if(rt(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){fa(t);try{return await ht(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Ms})}catch(a){if(rt(a))return{data:{user:null},error:a};throw a}}async deleteUser(t,n=!1){fa(t);try{return await ht(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ms})}catch(a){if(rt(a))return{data:{user:null},error:a};throw a}}async _listFactors(t){fa(t.userId);try{const{data:n,error:a}=await ht(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:n,error:a}}catch(n){if(rt(n))return{data:null,error:n};throw n}}async _deleteFactor(t){fa(t.userId),fa(t.id);try{return{data:await ht(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(rt(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,a,c,d,p,w,b;try{const y={nextPage:null,lastPage:0,total:0},A=await ht(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(d=(c=t?.perPage)===null||c===void 0?void 0:c.toString())!==null&&d!==void 0?d:""},xform:Gp});if(A.error)throw A.error;const _=await A.json(),O=(p=A.headers.get("x-total-count"))!==null&&p!==void 0?p:0,R=(b=(w=A.headers.get("link"))===null||w===void 0?void 0:w.split(","))!==null&&b!==void 0?b:[];return R.length>0&&(R.forEach(M=>{const k=parseInt(M.split(";")[0].split("=")[1].substring(0,1)),L=JSON.parse(M.split(";")[1].split("=")[1]);y[`${L}Page`]=k}),y.total=parseInt(O)),{data:Object.assign(Object.assign({},_),y),error:null}}catch(y){if(rt(y))return{data:{clients:[]},error:y};throw y}}async _createOAuthClient(t){try{return await ht(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(rt(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await ht(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(rt(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await ht(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(rt(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(t){try{return await ht(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(rt(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await ht(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(rt(n))return{data:null,error:n};throw n}}}function qp(r={}){return{getItem:t=>r[t]||null,setItem:(t,n)=>{r[t]=n},removeItem:t=>{delete r[t]}}}const ga={debug:!!(globalThis&&Nw()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Tw extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class _A extends Tw{}async function NA(r,t,n){ga.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,t);const a=new globalThis.AbortController;return t>0&&setTimeout(()=>{a.abort(),ga.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async c=>{if(c){ga.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,c.name);try{return await n()}finally{ga.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,c.name)}}else{if(t===0)throw ga.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new _A(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(ga.debug)try{const d=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(d,null,"  "))}catch(d){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",d)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function IA(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Rw(r){if(!/^0x[a-fA-F0-9]{40}$/.test(r))throw new Error(`@supabase/auth-js: Address "${r}" is invalid.`);return r.toLowerCase()}function TA(r){return parseInt(r,16)}function RA(r){const t=new TextEncoder().encode(r);return"0x"+Array.from(t,a=>a.toString(16).padStart(2,"0")).join("")}function kA(r){var t;const{chainId:n,domain:a,expirationTime:c,issuedAt:d=new Date,nonce:p,notBefore:w,requestId:b,resources:y,scheme:A,uri:_,version:O}=r;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(p&&p.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${p}`);if(!_)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(O!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${O}`);if(!((t=r.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${r.statement}`)}const R=Rw(r.address),M=A?`${A}://${a}`:a,k=r.statement?`${r.statement}
`:"",L=`${M} wants you to sign in with your Ethereum account:
${R}

${k}`;let z=`URI: ${_}
Version: ${O}
Chain ID: ${n}${p?`
Nonce: ${p}`:""}
Issued At: ${d.toISOString()}`;if(c&&(z+=`
Expiration Time: ${c.toISOString()}`),w&&(z+=`
Not Before: ${w.toISOString()}`),b&&(z+=`
Request ID: ${b}`),y){let U=`
Resources:`;for(const F of y){if(!F||typeof F!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${F}`);U+=`
- ${F}`}z+=U}return`${L}
${z}`}class Nn extends Error{constructor({message:t,code:n,cause:a,name:c}){var d;super(t,{cause:a}),this.__isWebAuthnError=!0,this.name=(d=c??(a instanceof Error?a.name:void 0))!==null&&d!==void 0?d:"Unknown Error",this.code=n}}class Vu extends Nn{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function OA({error:r,options:t}){var n,a,c;const{publicKey:d}=t;if(!d)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Nn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else if(r.name==="ConstraintError"){if(((n=d.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Nn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:r});if(t.mediation==="conditional"&&((a=d.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Nn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:r});if(((c=d.authenticatorSelection)===null||c===void 0?void 0:c.userVerification)==="required")return new Nn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:r})}else{if(r.name==="InvalidStateError")return new Nn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:r});if(r.name==="NotAllowedError")return new Nn({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="NotSupportedError")return d.pubKeyCredParams.filter(w=>w.type==="public-key").length===0?new Nn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:r}):new Nn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:r});if(r.name==="SecurityError"){const p=window.location.hostname;if(kw(p)){if(d.rp.id!==p)return new Nn({message:`The RP ID "${d.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new Nn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="TypeError"){if(d.user.id.byteLength<1||d.user.id.byteLength>64)return new Nn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:r})}else if(r.name==="UnknownError")return new Nn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new Nn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}function PA({error:r,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Nn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else{if(r.name==="NotAllowedError")return new Nn({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="SecurityError"){const a=window.location.hostname;if(kw(a)){if(n.rpId!==a)return new Nn({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new Nn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="UnknownError")return new Nn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new Nn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}class DA{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const jA=new DA;function MA(r){if(!r)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(r);const{challenge:t,user:n,excludeCredentials:a}=r,c=Ws(r,["challenge","user","excludeCredentials"]),d=Aa(t).buffer,p=Object.assign(Object.assign({},n),{id:Aa(n.id).buffer}),w=Object.assign(Object.assign({},c),{challenge:d,user:p});if(a&&a.length>0){w.excludeCredentials=new Array(a.length);for(let b=0;b<a.length;b++){const y=a[b];w.excludeCredentials[b]=Object.assign(Object.assign({},y),{id:Aa(y.id).buffer,type:y.type||"public-key",transports:y.transports})}}return w}function LA(r){if(!r)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(r);const{challenge:t,allowCredentials:n}=r,a=Ws(r,["challenge","allowCredentials"]),c=Aa(t).buffer,d=Object.assign(Object.assign({},a),{challenge:c});if(n&&n.length>0){d.allowCredentials=new Array(n.length);for(let p=0;p<n.length;p++){const w=n[p];d.allowCredentials[p]=Object.assign(Object.assign({},w),{id:Aa(w.id).buffer,type:w.type||"public-key",transports:w.transports})}}return d}function BA(r){var t;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const n=r;return{id:r.id,rawId:r.id,response:{attestationObject:_o(new Uint8Array(r.response.attestationObject)),clientDataJSON:_o(new Uint8Array(r.response.clientDataJSON))},type:"public-key",clientExtensionResults:r.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function FA(r){var t;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const n=r,a=r.getClientExtensionResults(),c=r.response;return{id:r.id,rawId:r.id,response:{authenticatorData:_o(new Uint8Array(c.authenticatorData)),clientDataJSON:_o(new Uint8Array(c.clientDataJSON)),signature:_o(new Uint8Array(c.signature)),userHandle:c.userHandle?_o(new Uint8Array(c.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function kw(r){return r==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(r)}function Xp(){var r,t;return!!(lr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((r=navigator?.credentials)===null||r===void 0?void 0:r.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function UA(r){try{const t=await navigator.credentials.create(r);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Vu("Browser returned unexpected credential type",t)}:{data:null,error:new Vu("Empty credential response",t)}}catch(t){return{data:null,error:OA({error:t,options:r})}}}async function zA(r){try{const t=await navigator.credentials.get(r);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Vu("Browser returned unexpected credential type",t)}:{data:null,error:new Vu("Empty credential response",t)}}catch(t){return{data:null,error:PA({error:t,options:r})}}}const VA={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},WA={userVerification:"preferred",hints:["security-key"]};function Wu(...r){const t=c=>c!==null&&typeof c=="object"&&!Array.isArray(c),n=c=>c instanceof ArrayBuffer||ArrayBuffer.isView(c),a={};for(const c of r)if(c)for(const d in c){const p=c[d];if(p!==void 0)if(Array.isArray(p))a[d]=p;else if(n(p))a[d]=p;else if(t(p)){const w=a[d];t(w)?a[d]=Wu(w,p):a[d]=Wu(p)}else a[d]=p}return a}function HA(r,t){return Wu(VA,r,t||{})}function $A(r,t){return Wu(WA,r,t||{})}class GA{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:a,signal:c},d){try{const{data:p,error:w}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!p)return{data:null,error:w};const b=c??jA.createNewAbortSignal();if(p.webauthn.type==="create"){const{user:y}=p.webauthn.credential_options.publicKey;y.name||(y.name=`${y.id}:${a}`),y.displayName||(y.displayName=y.name)}switch(p.webauthn.type){case"create":{const y=HA(p.webauthn.credential_options.publicKey,d?.create),{data:A,error:_}=await UA({publicKey:y,signal:b});return A?{data:{factorId:t,challengeId:p.id,webauthn:{type:p.webauthn.type,credential_response:A}},error:null}:{data:null,error:_}}case"request":{const y=$A(p.webauthn.credential_options.publicKey,d?.request),{data:A,error:_}=await zA(Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:y,signal:b}));return A?{data:{factorId:t,challengeId:p.id,webauthn:{type:p.webauthn.type,credential_response:A}},error:null}:{data:null,error:_}}}}catch(p){return rt(p)?{data:null,error:p}:{data:null,error:new Ao("Unexpected error in challenge",p)}}}async _verify({challengeId:t,factorId:n,webauthn:a}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:a})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:c}},d){if(!n)return{data:null,error:new $l("rpId is required for WebAuthn authentication")};try{if(!Xp())return{data:null,error:new Ao("Browser does not support WebAuthn",null)};const{data:p,error:w}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:a},signal:c},{request:d});if(!p)return{data:null,error:w};const{webauthn:b}=p;return this._verify({factorId:t,challengeId:p.challengeId,webauthn:{type:b.type,rpId:n,rpOrigins:a,credential_response:b.credential_response}})}catch(p){return rt(p)?{data:null,error:p}:{data:null,error:new Ao("Unexpected error in authenticate",p)}}}async _register({friendlyName:t,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:c},d){if(!n)return{data:null,error:new $l("rpId is required for WebAuthn registration")};try{if(!Xp())return{data:null,error:new Ao("Browser does not support WebAuthn",null)};const{data:p,error:w}=await this._enroll({friendlyName:t});if(!p)return await this.client.mfa.listFactors().then(A=>{var _;return(_=A.data)===null||_===void 0?void 0:_.all.find(O=>O.factor_type==="webauthn"&&O.friendly_name===t&&O.status!=="unverified")}).then(A=>A?this.client.mfa.unenroll({factorId:A?.id}):void 0),{data:null,error:w};const{data:b,error:y}=await this._challenge({factorId:p.id,friendlyName:p.friendly_name,webauthn:{rpId:n,rpOrigins:a},signal:c},{create:d});return b?this._verify({factorId:p.id,challengeId:b.challengeId,webauthn:{rpId:n,rpOrigins:a,type:b.webauthn.type,credential_response:b.webauthn.credential_response}}):{data:null,error:y}}catch(p){return rt(p)?{data:null,error:p}:{data:null,error:new Ao("Unexpected error in register",p)}}}}IA();const qA={url:WS,storageKey:HS,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:$S,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Kp(r,t,n){return await n()}const pa={};class Gl{get jwks(){var t,n;return(n=(t=pa[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){pa[this.storageKey]=Object.assign(Object.assign({},pa[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=pa[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){pa[this.storageKey]=Object.assign(Object.assign({},pa[this.storageKey]),{cachedAt:t})}constructor(t){var n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Gl.nextInstanceID,Gl.nextInstanceID+=1,this.instanceID>0&&lr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const c=Object.assign(Object.assign({},qA),t);if(this.logDebugMessages=!!c.debug,typeof c.debug=="function"&&(this.logger=c.debug),this.persistSession=c.persistSession,this.storageKey=c.storageKey,this.autoRefreshToken=c.autoRefreshToken,this.admin=new AA({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=Iw(c.fetch),this.lock=c.lock||Kp,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.hasCustomAuthorizationHeader=c.hasCustomAuthorizationHeader,this.throwOnError=c.throwOnError,c.lock?this.lock=c.lock:lr()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=NA:this.lock=Kp,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new GA(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(c.storage?this.storage=c.storage:Nw()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=qp(this.memoryStorage)),c.userStorage&&(this.userStorage=c.userStorage)):(this.memoryStorage={},this.storage=qp(this.memoryStorage)),lr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d),await this._notifyAllSubscribers(d.data.event,d.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Sw}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},a="none";if(lr()&&(n=sA(window.location.href),this._isImplicitGrantCallback(n)?a="implicit":await this._isPKCECallback(n)&&(a="pkce")),lr()&&this.detectSessionInUrl&&a!=="none"){const{data:c,error:d}=await this._getSessionFromURL(n,a);if(d){if(this._debug("#_initialize()","error detecting session from URL",d),ZS(d)){const b=(t=d.details)===null||t===void 0?void 0:t.code;if(b==="identity_already_exists"||b==="identity_not_found"||b==="single_identity_not_deletable")return{error:d}}return await this._removeSession(),{error:d}}const{session:p,redirectType:w}=c;return this._debug("#_initialize()","detected session in URL",p,"redirect type",w),await this._saveSession(p),setTimeout(async()=>{w==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",p):await this._notifyAllSubscribers("SIGNED_IN",p)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return rt(n)?this._returnResult({error:n}):this._returnResult({error:new Ao("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,a,c;try{const d=await ht(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(n=t?.options)===null||n===void 0?void 0:n.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(c=t?.options)===null||c===void 0?void 0:c.captchaToken}},xform:ci}),{data:p,error:w}=d;if(w||!p)return this._returnResult({data:{user:null,session:null},error:w});const b=p.session,y=p.user;return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",b)),this._returnResult({data:{user:y,session:b},error:null})}catch(d){if(rt(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signUp(t){var n,a,c;try{let d;if("email"in t){const{email:A,password:_,options:O}=t;let R=null,M=null;this.flowType==="pkce"&&([R,M]=await ha(this.storage,this.storageKey)),d=await ht(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:O?.emailRedirectTo,body:{email:A,password:_,data:(n=O?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:O?.captchaToken},code_challenge:R,code_challenge_method:M},xform:ci})}else if("phone"in t){const{phone:A,password:_,options:O}=t;d=await ht(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:A,password:_,data:(a=O?.data)!==null&&a!==void 0?a:{},channel:(c=O?.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:O?.captchaToken}},xform:ci})}else throw new vu("You must provide either an email or phone number and a password");const{data:p,error:w}=d;if(w||!p)return this._returnResult({data:{user:null,session:null},error:w});const b=p.session,y=p.user;return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",b)),this._returnResult({data:{user:y,session:b},error:null})}catch(d){if(rt(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signInWithPassword(t){try{let n;if("email"in t){const{email:d,password:p,options:w}=t;n=await ht(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:d,password:p,gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:$p})}else if("phone"in t){const{phone:d,password:p,options:w}=t;n=await ht(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:d,password:p,gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:$p})}else throw new vu("You must provide either an email or phone number and a password");const{data:a,error:c}=n;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!a||!a.session||!a.user){const d=new da;return this._returnResult({data:{user:null,session:null},error:d})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:c})}catch(n){if(rt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,a,c,d;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(d=t.options)===null||d===void 0?void 0:d.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,a,c,d,p,w,b,y,A,_,O;let R,M;if("message"in t)R=t.message,M=t.signature;else{const{chain:k,wallet:L,statement:z,options:U}=t;let F;if(lr())if(typeof L=="object")F=L;else{const V=window;if("ethereum"in V&&typeof V.ethereum=="object"&&"request"in V.ethereum&&typeof V.ethereum.request=="function")F=V.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof L!="object"||!U?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");F=L}const $=new URL((n=U?.url)!==null&&n!==void 0?n:window.location.href),X=await F.request({method:"eth_requestAccounts"}).then(V=>V).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!X||X.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const Z=Rw(X[0]);let H=(a=U?.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!H){const V=await F.request({method:"eth_chainId"});H=TA(V)}const K={domain:$.host,address:Z,statement:z,uri:$.href,version:"1",chainId:H,nonce:(c=U?.signInWithEthereum)===null||c===void 0?void 0:c.nonce,issuedAt:(p=(d=U?.signInWithEthereum)===null||d===void 0?void 0:d.issuedAt)!==null&&p!==void 0?p:new Date,expirationTime:(w=U?.signInWithEthereum)===null||w===void 0?void 0:w.expirationTime,notBefore:(b=U?.signInWithEthereum)===null||b===void 0?void 0:b.notBefore,requestId:(y=U?.signInWithEthereum)===null||y===void 0?void 0:y.requestId,resources:(A=U?.signInWithEthereum)===null||A===void 0?void 0:A.resources};R=kA(K),M=await F.request({method:"personal_sign",params:[RA(R),Z]})}try{const{data:k,error:L}=await ht(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:R,signature:M},!((_=t.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(O=t.options)===null||O===void 0?void 0:O.captchaToken}}:null),xform:ci});if(L)throw L;if(!k||!k.session||!k.user){const z=new da;return this._returnResult({data:{user:null,session:null},error:z})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:L})}catch(k){if(rt(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async signInWithSolana(t){var n,a,c,d,p,w,b,y,A,_,O,R;let M,k;if("message"in t)M=t.message,k=t.signature;else{const{chain:L,wallet:z,statement:U,options:F}=t;let $;if(lr())if(typeof z=="object")$=z;else{const Z=window;if("solana"in Z&&typeof Z.solana=="object"&&("signIn"in Z.solana&&typeof Z.solana.signIn=="function"||"signMessage"in Z.solana&&typeof Z.solana.signMessage=="function"))$=Z.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof z!="object"||!F?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");$=z}const X=new URL((n=F?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in $&&$.signIn){const Z=await $.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},F?.signInWithSolana),{version:"1",domain:X.host,uri:X.href}),U?{statement:U}:null));let H;if(Array.isArray(Z)&&Z[0]&&typeof Z[0]=="object")H=Z[0];else if(Z&&typeof Z=="object"&&"signedMessage"in Z&&"signature"in Z)H=Z;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in H&&"signature"in H&&(typeof H.signedMessage=="string"||H.signedMessage instanceof Uint8Array)&&H.signature instanceof Uint8Array)M=typeof H.signedMessage=="string"?H.signedMessage:new TextDecoder().decode(H.signedMessage),k=H.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in $)||typeof $.signMessage!="function"||!("publicKey"in $)||typeof $!="object"||!$.publicKey||!("toBase58"in $.publicKey)||typeof $.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");M=[`${X.host} wants you to sign in with your Solana account:`,$.publicKey.toBase58(),...U?["",U,""]:[""],"Version: 1",`URI: ${X.href}`,`Issued At: ${(c=(a=F?.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((d=F?.signInWithSolana)===null||d===void 0)&&d.notBefore?[`Not Before: ${F.signInWithSolana.notBefore}`]:[],...!((p=F?.signInWithSolana)===null||p===void 0)&&p.expirationTime?[`Expiration Time: ${F.signInWithSolana.expirationTime}`]:[],...!((w=F?.signInWithSolana)===null||w===void 0)&&w.chainId?[`Chain ID: ${F.signInWithSolana.chainId}`]:[],...!((b=F?.signInWithSolana)===null||b===void 0)&&b.nonce?[`Nonce: ${F.signInWithSolana.nonce}`]:[],...!((y=F?.signInWithSolana)===null||y===void 0)&&y.requestId?[`Request ID: ${F.signInWithSolana.requestId}`]:[],...!((_=(A=F?.signInWithSolana)===null||A===void 0?void 0:A.resources)===null||_===void 0)&&_.length?["Resources",...F.signInWithSolana.resources.map(H=>`- ${H}`)]:[]].join(`
`);const Z=await $.signMessage(new TextEncoder().encode(M),"utf8");if(!Z||!(Z instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");k=Z}}try{const{data:L,error:z}=await ht(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:M,signature:_o(k)},!((O=t.options)===null||O===void 0)&&O.captchaToken?{gotrue_meta_security:{captcha_token:(R=t.options)===null||R===void 0?void 0:R.captchaToken}}:null),xform:ci});if(z)throw z;if(!L||!L.session||!L.user){const U=new da;return this._returnResult({data:{user:null,session:null},error:U})}return L.session&&(await this._saveSession(L.session),await this._notifyAllSubscribers("SIGNED_IN",L.session)),this._returnResult({data:Object.assign({},L),error:z})}catch(L){if(rt(L))return this._returnResult({data:{user:null,session:null},error:L});throw L}}async _exchangeCodeForSession(t){const n=await Eo(this.storage,`${this.storageKey}-code-verifier`),[a,c]=(n??"").split("/");try{const{data:d,error:p}=await ht(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:a},xform:ci});if(await Ps(this.storage,`${this.storageKey}-code-verifier`),p)throw p;if(!d||!d.session||!d.user){const w=new da;return this._returnResult({data:{user:null,session:null,redirectType:null},error:w})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:Object.assign(Object.assign({},d),{redirectType:c??null}),error:p})}catch(d){if(rt(d))return this._returnResult({data:{user:null,session:null,redirectType:null},error:d});throw d}}async signInWithIdToken(t){try{const{options:n,provider:a,token:c,access_token:d,nonce:p}=t,w=await ht(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:c,access_token:d,nonce:p,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:ci}),{data:b,error:y}=w;if(y)return this._returnResult({data:{user:null,session:null},error:y});if(!b||!b.session||!b.user){const A=new da;return this._returnResult({data:{user:null,session:null},error:A})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:b,error:y})}catch(n){if(rt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,a,c,d,p;try{if("email"in t){const{email:w,options:b}=t;let y=null,A=null;this.flowType==="pkce"&&([y,A]=await ha(this.storage,this.storageKey));const{error:_}=await ht(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:w,data:(n=b?.data)!==null&&n!==void 0?n:{},create_user:(a=b?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:b?.captchaToken},code_challenge:y,code_challenge_method:A},redirectTo:b?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:_})}if("phone"in t){const{phone:w,options:b}=t,{data:y,error:A}=await ht(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:w,data:(c=b?.data)!==null&&c!==void 0?c:{},create_user:(d=b?.shouldCreateUser)!==null&&d!==void 0?d:!0,gotrue_meta_security:{captcha_token:b?.captchaToken},channel:(p=b?.channel)!==null&&p!==void 0?p:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:y?.message_id},error:A})}throw new vu("You must provide either an email or phone number.")}catch(w){if(rt(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async verifyOtp(t){var n,a;try{let c,d;"options"in t&&(c=(n=t.options)===null||n===void 0?void 0:n.redirectTo,d=(a=t.options)===null||a===void 0?void 0:a.captchaToken);const{data:p,error:w}=await ht(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:d}}),redirectTo:c,xform:ci});if(w)throw w;if(!p)throw new Error("An error occurred on token verification.");const b=p.session,y=p.user;return b?.access_token&&(await this._saveSession(b),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",b)),this._returnResult({data:{user:y,session:b},error:null})}catch(c){if(rt(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithSSO(t){var n,a,c;try{let d=null,p=null;this.flowType==="pkce"&&([d,p]=await ha(this.storage,this.storageKey));const w=await ht(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(a=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&a!==void 0?a:void 0}),!((c=t?.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:p}),headers:this.headers,xform:EA});return this._returnResult(w)}catch(d){if(rt(d))return this._returnResult({data:null,error:d});throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:a}=t;if(a)throw a;if(!n)throw new li;const{error:c}=await ht(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:c})})}catch(t){if(rt(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:a,type:c,options:d}=t,{error:p}=await ht(this.fetch,"POST",n,{headers:this.headers,body:{email:a,type:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},redirectTo:d?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}else if("phone"in t){const{phone:a,type:c,options:d}=t,{data:p,error:w}=await ht(this.fetch,"POST",n,{headers:this.headers,body:{phone:a,type:c,gotrue_meta_security:{captcha_token:d?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:p?.message_id},error:w})}throw new vu("You must provide either an email or phone number and a type")}catch(n){if(rt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await a,await n()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=n();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Eo(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const a=t.expires_at?t.expires_at*1e3-Date.now()<Jh:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",t.expires_at),!a){if(this.userStorage){const p=await Eo(this.userStorage,this.storageKey+"-user");p?.user?t.user=p.user:t.user=nf()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const p={value:this.suppressGetSessionWarning};t.user=wA(t.user,p),p.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:c,error:d}=await this._callRefreshToken(t.refresh_token);return d?this._returnResult({data:{session:null},error:d}):this._returnResult({data:{session:c},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ht(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ms}):await this._useSession(async n=>{var a,c,d;const{data:p,error:w}=n;if(w)throw w;return!(!((a=p.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new li}:await ht(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(d=(c=p.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0,xform:Ms})})}catch(n){if(rt(n))return YS(n)&&(await this._removeSession(),await Ps(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async a=>{const{data:c,error:d}=a;if(d)throw d;if(!c.session)throw new li;const p=c.session;let w=null,b=null;this.flowType==="pkce"&&t.email!=null&&([w,b]=await ha(this.storage,this.storageKey));const{data:y,error:A}=await ht(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:w,code_challenge_method:b}),jwt:p.access_token,xform:Ms});if(A)throw A;return p.user=y.user,await this._saveSession(p),await this._notifyAllSubscribers("USER_UPDATED",p),this._returnResult({data:{user:p.user},error:null})})}catch(a){if(rt(a))return this._returnResult({data:{user:null},error:a});throw a}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new li;const n=Date.now()/1e3;let a=n,c=!0,d=null;const{payload:p}=tf(t.access_token);if(p.exp&&(a=p.exp,c=a<=n),c){const{data:w,error:b}=await this._callRefreshToken(t.refresh_token);if(b)return this._returnResult({data:{user:null,session:null},error:b});if(!w)return{data:{user:null,session:null},error:null};d=w}else{const{data:w,error:b}=await this._getUser(t.access_token);if(b)throw b;d={access_token:t.access_token,refresh_token:t.refresh_token,user:w.user,token_type:"bearer",expires_in:a-n,expires_at:a},await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)}return this._returnResult({data:{user:d.user,session:d},error:null})}catch(n){if(rt(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var a;if(!t){const{data:p,error:w}=n;if(w)throw w;t=(a=p.session)!==null&&a!==void 0?a:void 0}if(!t?.refresh_token)throw new li;const{data:c,error:d}=await this._callRefreshToken(t.refresh_token);return d?this._returnResult({data:{user:null,session:null},error:d}):c?this._returnResult({data:{user:c.user,session:c},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(rt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!lr())throw new bu("No browser detected.");if(t.error||t.error_description||t.error_code)throw new bu(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Bp("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new bu("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Bp("No code detected.");const{data:U,error:F}=await this._exchangeCodeForSession(t.code);if(F)throw F;const $=new URL(window.location.href);return $.searchParams.delete("code"),window.history.replaceState(window.history.state,"",$.toString()),{data:{session:U.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:c,access_token:d,refresh_token:p,expires_in:w,expires_at:b,token_type:y}=t;if(!d||!w||!p||!y)throw new bu("No session defined in URL");const A=Math.round(Date.now()/1e3),_=parseInt(w);let O=A+_;b&&(O=parseInt(b));const R=O-A;R*1e3<=ba&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${R}s, should have been closer to ${_}s`);const M=O-_;A-M>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",M,O,A):A-M<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",M,O,A);const{data:k,error:L}=await this._getUser(d);if(L)throw L;const z={provider_token:a,provider_refresh_token:c,access_token:d,expires_in:_,expires_at:O,refresh_token:p,token_type:y,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:z,redirectType:t.type},error:null})}catch(a){if(rt(a))return this._returnResult({data:{session:null,redirectType:null},error:a});throw a}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Eo(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var a;const{data:c,error:d}=n;if(d)return this._returnResult({error:d});const p=(a=c.session)===null||a===void 0?void 0:a.access_token;if(p){const{error:w}=await this.admin.signOut(p,t);if(w&&!(KS(w)&&(w.status===404||w.status===401||w.status===403)))return this._returnResult({error:w})}return t!=="others"&&(await this._removeSession(),await Ps(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=iA(),a={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:a}}}async _emitInitialSession(t){return await this._useSession(async n=>{var a,c;try{const{data:{session:d},error:p}=n;if(p)throw p;await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",d)),this._debug("INITIAL_SESSION","callback id",t,"session",d)}catch(d){await((c=this.stateChangeEmitters.get(t))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",d),console.error(d)}})}async resetPasswordForEmail(t,n={}){let a=null,c=null;this.flowType==="pkce"&&([a,c]=await ha(this.storage,this.storageKey,!0));try{return await ht(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:a,code_challenge_method:c,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(d){if(rt(d))return this._returnResult({data:null,error:d});throw d}}async getUserIdentities(){var t;try{const{data:n,error:a}=await this.getUser();if(a)throw a;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(rt(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:a,error:c}=await this._useSession(async d=>{var p,w,b,y,A;const{data:_,error:O}=d;if(O)throw O;const R=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(p=t.options)===null||p===void 0?void 0:p.redirectTo,scopes:(w=t.options)===null||w===void 0?void 0:w.scopes,queryParams:(b=t.options)===null||b===void 0?void 0:b.queryParams,skipBrowserRedirect:!0});return await ht(this.fetch,"GET",R,{headers:this.headers,jwt:(A=(y=_.session)===null||y===void 0?void 0:y.access_token)!==null&&A!==void 0?A:void 0})});if(c)throw c;return lr()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(a?.url),this._returnResult({data:{provider:t.provider,url:a?.url},error:null})}catch(a){if(rt(a))return this._returnResult({data:{provider:t.provider,url:null},error:a});throw a}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var a;try{const{error:c,data:{session:d}}=n;if(c)throw c;const{options:p,provider:w,token:b,access_token:y,nonce:A}=t,_=await ht(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=d?.access_token)!==null&&a!==void 0?a:void 0,body:{provider:w,id_token:b,access_token:y,nonce:A,link_identity:!0,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:ci}),{data:O,error:R}=_;return R?this._returnResult({data:{user:null,session:null},error:R}):!O||!O.session||!O.user?this._returnResult({data:{user:null,session:null},error:new da}):(O.session&&(await this._saveSession(O.session),await this._notifyAllSubscribers("USER_UPDATED",O.session)),this._returnResult({data:O,error:R}))}catch(c){if(rt(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var a,c;const{data:d,error:p}=n;if(p)throw p;return await ht(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(c=(a=d.session)===null||a===void 0?void 0:a.access_token)!==null&&c!==void 0?c:void 0})})}catch(n){if(rt(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const a=Date.now();return await lA(async c=>(c>0&&await aA(200*Math.pow(2,c-1)),this._debug(n,"refreshing attempt",c),await ht(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ci})),(c,d)=>{const p=200*Math.pow(2,c);return d&&ef(d)&&Date.now()+p-a<ba})}catch(a){if(this._debug(n,"error",a),rt(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const a=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",a),lr()&&!n.skipBrowserRedirect&&window.location.assign(a),{data:{provider:t,url:a},error:null}}async _recoverAndRefresh(){var t,n;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const c=await Eo(this.storage,this.storageKey);if(c&&this.userStorage){let p=await Eo(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!p&&(p={user:c.user},await Ea(this.userStorage,this.storageKey+"-user",p)),c.user=(t=p?.user)!==null&&t!==void 0?t:nf()}else if(c&&!c.user&&!c.user){const p=await Eo(this.storage,this.storageKey+"-user");p&&p?.user?(c.user=p.user,await Ps(this.storage,this.storageKey+"-user"),await Ea(this.storage,this.storageKey,c)):c.user=nf()}if(this._debug(a,"session from storage",c),!this._isValidSession(c)){this._debug(a,"session is not valid"),c!==null&&await this._removeSession();return}const d=((n=c.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Jh;if(this._debug(a,`session has${d?"":" not"} expired with margin of ${Jh}s`),d){if(this.autoRefreshToken&&c.refresh_token){const{error:p}=await this._callRefreshToken(c.refresh_token);p&&(console.error(p),ef(p)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",p),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:p,error:w}=await this._getUser(c.access_token);!w&&p?.user?(c.user=p.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(p){console.error("Error getting user data:",p),this._debug(a,"error getting user data, skipping SIGNED_IN notification",p)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(a,"error",c),console.error(c);return}finally{this._debug(a,"end")}}async _callRefreshToken(t){var n,a;if(!t)throw new li;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new td;const{data:d,error:p}=await this._refreshAccessToken(t);if(p)throw p;if(!d.session)throw new li;await this._saveSession(d.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",d.session);const w={data:d.session,error:null};return this.refreshingDeferred.resolve(w),w}catch(d){if(this._debug(c,"error",d),rt(d)){const p={data:null,error:d};return ef(d)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(p),p}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(d),d}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(t,n,a=!0){const c=`#_notifyAllSubscribers(${t})`;this._debug(c,"begin",n,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:t,session:n});const d=[],p=Array.from(this.stateChangeEmitters.values()).map(async w=>{try{await w.callback(t,n)}catch(b){d.push(b)}});if(await Promise.all(p),d.length>0){for(let w=0;w<d.length;w+=1)console.error(d[w]);throw d[0]}}finally{this._debug(c,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),a=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&n.user&&await Ea(this.userStorage,this.storageKey+"-user",{user:n.user});const c=Object.assign({},n);delete c.user;const d=Wp(c);await Ea(this.storage,this.storageKey,d)}else{const c=Wp(n);await Ea(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),await Ps(this.storage,this.storageKey),await Ps(this.storage,this.storageKey+"-code-verifier"),await Ps(this.storage,this.storageKey+"-user"),this.userStorage&&await Ps(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&lr()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ba);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:a}}=n;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((a.expires_at*1e3-t)/ba);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${ba}ms, refresh threshold is ${Jf} ticks`),c<=Jf&&await this._callRefreshToken(a.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Tw)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!lr()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,a){const c=[`provider=${encodeURIComponent(n)}`];if(a?.redirectTo&&c.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a?.scopes&&c.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[d,p]=await ha(this.storage,this.storageKey),w=new URLSearchParams({code_challenge:`${encodeURIComponent(d)}`,code_challenge_method:`${encodeURIComponent(p)}`});c.push(w.toString())}if(a?.queryParams){const d=new URLSearchParams(a.queryParams);c.push(d.toString())}return a?.skipBrowserRedirect&&c.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${t}?${c.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var a;const{data:c,error:d}=n;return d?this._returnResult({data:null,error:d}):await ht(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(a=c?.session)===null||a===void 0?void 0:a.access_token})})}catch(n){if(rt(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var a,c;const{data:d,error:p}=n;if(p)return this._returnResult({data:null,error:p});const w=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:b,error:y}=await ht(this.fetch,"POST",`${this.url}/factors`,{body:w,headers:this.headers,jwt:(a=d?.session)===null||a===void 0?void 0:a.access_token});return y?this._returnResult({data:null,error:y}):(t.factorType==="totp"&&b.type==="totp"&&(!((c=b?.totp)===null||c===void 0)&&c.qr_code)&&(b.totp.qr_code=`data:image/svg+xml;utf-8,${b.totp.qr_code}`),this._returnResult({data:b,error:null}))})}catch(n){if(rt(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:c,error:d}=n;if(d)return this._returnResult({data:null,error:d});const p=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?BA(t.webauthn.credential_response):FA(t.webauthn.credential_response)})}:{code:t.code}),{data:w,error:b}=await ht(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:p,headers:this.headers,jwt:(a=c?.session)===null||a===void 0?void 0:a.access_token});return b?this._returnResult({data:null,error:b}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+w.expires_in},w)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",w),this._returnResult({data:w,error:b}))})}catch(n){if(rt(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:c,error:d}=n;if(d)return this._returnResult({data:null,error:d});const p=await ht(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(a=c?.session)===null||a===void 0?void 0:a.access_token});if(p.error)return p;const{data:w}=p;if(w.type!=="webauthn")return{data:w,error:null};switch(w.webauthn.type){case"create":return{data:Object.assign(Object.assign({},w),{webauthn:Object.assign(Object.assign({},w.webauthn),{credential_options:Object.assign(Object.assign({},w.webauthn.credential_options),{publicKey:MA(w.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},w),{webauthn:Object.assign(Object.assign({},w.webauthn),{credential_options:Object.assign(Object.assign({},w.webauthn.credential_options),{publicKey:LA(w.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(rt(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:a}=await this._challenge({factorId:t.factorId});return a?this._returnResult({data:null,error:a}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:a}=await this.getUser();if(a)return{data:null,error:a};const c={all:[],phone:[],totp:[],webauthn:[]};for(const d of(t=n?.factors)!==null&&t!==void 0?t:[])c.all.push(d),d.status==="verified"&&c[d.factor_type].push(d);return{data:c,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:a},error:c}=await this.getSession();if(c)return this._returnResult({data:null,error:c});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=tf(a.access_token);let p=null;d.aal&&(p=d.aal);let w=p;((n=(t=a.user.factors)===null||t===void 0?void 0:t.filter(A=>A.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(w="aal2");const y=d.amr||[];return{data:{currentLevel:p,nextLevel:w,currentAuthenticationMethods:y},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:a},error:c}=n;return c?this._returnResult({data:null,error:c}):a?await ht(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:a.access_token,xform:d=>({data:d,error:null})}):this._returnResult({data:null,error:new li})})}catch(n){if(rt(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async a=>{const{data:{session:c},error:d}=a;if(d)return this._returnResult({data:null,error:d});if(!c)return this._returnResult({data:null,error:new li});const p=await ht(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"approve"},xform:w=>({data:w,error:null})});return p.data&&p.data.redirect_url&&lr()&&!n?.skipBrowserRedirect&&window.location.assign(p.data.redirect_url),p})}catch(a){if(rt(a))return this._returnResult({data:null,error:a});throw a}}async _denyAuthorization(t,n){try{return await this._useSession(async a=>{const{data:{session:c},error:d}=a;if(d)return this._returnResult({data:null,error:d});if(!c)return this._returnResult({data:null,error:new li});const p=await ht(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"deny"},xform:w=>({data:w,error:null})});return p.data&&p.data.redirect_url&&lr()&&!n?.skipBrowserRedirect&&window.location.assign(p.data.redirect_url),p})}catch(a){if(rt(a))return this._returnResult({data:null,error:a});throw a}}async fetchJwk(t,n={keys:[]}){let a=n.keys.find(w=>w.kid===t);if(a)return a;const c=Date.now();if(a=this.jwks.keys.find(w=>w.kid===t),a&&this.jwks_cached_at+qS>c)return a;const{data:d,error:p}=await ht(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(p)throw p;return!d.keys||d.keys.length===0||(this.jwks=d,this.jwks_cached_at=c,a=d.keys.find(w=>w.kid===t),!a)?null:a}async getClaims(t,n={}){try{let a=t;if(!a){const{data:R,error:M}=await this.getSession();if(M||!R.session)return this._returnResult({data:null,error:M});a=R.session.access_token}const{header:c,payload:d,signature:p,raw:{header:w,payload:b}}=tf(a);n?.allowExpired||pA(d.exp);const y=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!y){const{error:R}=await this.getUser(a);if(R)throw R;return{data:{claims:d,header:c,signature:p},error:null}}const A=mA(c.alg),_=await crypto.subtle.importKey("jwk",y,A,!0,["verify"]);if(!await crypto.subtle.verify(A,_,p,nA(`${w}.${b}`)))throw new n0("Invalid JWT signature");return{data:{claims:d,header:c,signature:p},error:null}}catch(a){if(rt(a))return this._returnResult({data:null,error:a});throw a}}}Gl.nextInstanceID=0;const XA=Gl;class KA extends XA{constructor(t){super(t)}}class YA{constructor(t,n,a){var c,d,p;this.supabaseUrl=t,this.supabaseKey=n;const w=VS(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",w),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",w),this.storageUrl=new URL("storage/v1",w),this.functionsUrl=new URL("functions/v1",w);const b=`sb-${w.hostname.split(".")[0]}-auth-token`,y={db:DS,realtime:MS,auth:Object.assign(Object.assign({},jS),{storageKey:b}),global:PS},A=zS(a??{},y);this.storageKey=(c=A.auth.storageKey)!==null&&c!==void 0?c:"",this.headers=(d=A.global.headers)!==null&&d!==void 0?d:{},A.accessToken?(this.accessToken=A.accessToken,this.auth=new Proxy({},{get:(_,O)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(O)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((p=A.auth)!==null&&p!==void 0?p:{},this.headers,A.global.fetch),this.fetch=FS(n,this._getAccessToken.bind(this),A.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},A.realtime)),this.rest=new WC(new URL("rest/v1",w).href,{headers:this.headers,schema:A.db.schema,fetch:this.fetch}),this.storage=new RS(this.storageUrl.href,this.headers,this.fetch,a?.storage),A.accessToken||this._listenForAuthEvents()}get functions(){return new FC(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},a={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,n,a)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,n;if(this.accessToken)return await this.accessToken();const{data:a}=await this.auth.getSession();return(n=(t=a.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:a,storage:c,userStorage:d,storageKey:p,flowType:w,lock:b,debug:y,throwOnError:A},_,O){const R={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new KA({url:this.authUrl.href,headers:Object.assign(Object.assign({},R),_),storageKey:p,autoRefreshToken:t,persistSession:n,detectSessionInUrl:a,storage:c,userStorage:d,flowType:w,lock:b,debug:y,throwOnError:A,fetch:O,hasCustomAuthorizationHeader:Object.keys(this.headers).some(M=>M.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new oS(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,a)=>{this._handleTokenChanged(n,"CLIENT",a?.access_token)})}_handleTokenChanged(t,n,a){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==a?(this.changedAccessToken=a,this.realtime.setAuth(a)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const ZA=(r,t,n)=>new YA(r,t,n);function QA(){if(typeof window<"u"||typeof process>"u")return!1;const r=process.version;if(r==null)return!1;const t=r.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}QA()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const JA="https://xtrognfmzyzqhsfvtgne.supabase.co",e_="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inh0cm9nbmZtenl6cWhzZnZ0Z25lIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjExMjE1NDcsImV4cCI6MjA3NjY5NzU0N30.eHPZYU7pHDzseAF4UDtjHCqJO6_MYMZy8UpqL-YViCU",qt=ZA(JA,e_);function t_({onAuthenticated:r,onBackToHome:t}){const[n,a]=T.useState(!1),[c,d]=T.useState(""),[p,w]=T.useState({email:"",password:""}),b=async y=>{y.preventDefault(),a(!0),d("");try{const{data:A,error:_}=await qt.auth.signInWithPassword({email:p.email,password:p.password});if(_||!A.session)throw new Error(_?.message||"Login failed");r(A.session.access_token)}catch(A){console.error("Login error:",A),d(A.message||"Invalid email or password. Please try again.")}finally{a(!1)}};return m.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 relative overflow-hidden",children:[m.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-50 via-purple-50 to-pink-50"}),m.jsx("div",{className:"absolute top-0 left-0 w-96 h-96 bg-gradient-to-br from-violet-400/30 to-purple-400/30 rounded-full blur-3xl animate-pulse"}),m.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-gradient-to-br from-pink-400/30 to-purple-400/30 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}}),m.jsxs("div",{className:"w-full max-w-md relative z-10 animate-in fade-in slide-in-from-bottom-4 duration-700",children:[t&&m.jsxs("button",{onClick:t,className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-6 transition-colors focus:outline-none focus:ring-2 focus:ring-primary/50 rounded-lg px-3 py-2 bg-white/60 backdrop-blur-sm","aria-label":"Go back to home page",children:[m.jsx(Ox,{className:"h-4 w-4"}),"Back to Home"]}),m.jsxs(fi,{className:"shadow-xl border-0 glass-effect",children:[m.jsxs(Bs,{className:"space-y-6 pb-6",children:[m.jsx("div",{className:"flex justify-center",children:m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"w-20 h-20 gradient-primary rounded-3xl flex items-center justify-center shadow-lg shadow-purple-500/30",children:m.jsx(bp,{className:"h-10 w-10 text-white"})}),m.jsx("div",{className:"absolute -bottom-2 -right-2 w-8 h-8 bg-gradient-to-br from-emerald-400 to-emerald-500 rounded-full border-4 border-white flex items-center justify-center shadow-md",children:m.jsx(vp,{className:"h-4 w-4 text-white"})})]})}),m.jsxs("div",{className:"text-center space-y-2",children:[m.jsx(Fs,{className:"text-3xl bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"Admin Portal"}),m.jsx(ja,{className:"text-base text-gray-600",children:"Sign in to manage events and registrations"})]})]}),m.jsx(Pi,{children:m.jsxs("form",{onSubmit:b,className:"space-y-5",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsxs(Ze,{htmlFor:"email",className:"flex items-center gap-2",children:[m.jsx(lC,{className:"h-4 w-4 text-muted-foreground"}),"Email Address"]}),m.jsx(dt,{id:"email",type:"email",placeholder:"admin@example.com",value:p.email,onChange:y=>w(A=>({...A,email:y.target.value})),required:!0,className:"h-11",autoComplete:"email",autoFocus:!0})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs(Ze,{htmlFor:"password",className:"flex items-center gap-2",children:[m.jsx(vp,{className:"h-4 w-4 text-muted-foreground"}),"Password"]}),m.jsx(dt,{id:"password",type:"password",placeholder:"Enter your password",value:p.password,onChange:y=>w(A=>({...A,password:y.target.value})),required:!0,className:"h-11",autoComplete:"current-password"})]}),c&&m.jsx(hE,{variant:"destructive",children:m.jsx(fE,{children:c})}),m.jsx(Je,{type:"submit",className:"w-full h-12 text-base gradient-primary hover:opacity-90 shadow-lg shadow-purple-500/30 transition-all duration-300 hover:shadow-xl hover:shadow-purple-500/40",disabled:n,children:n?m.jsxs(m.Fragment,{children:[m.jsx(Di,{className:"mr-2 h-5 w-5 animate-spin"}),"Signing in..."]}):m.jsxs(m.Fragment,{children:[m.jsx(bp,{className:"mr-2 h-5 w-5"}),"Sign In"]})})]})}),m.jsxs(uE,{className:"flex flex-col space-y-4 border-t pt-6",children:[m.jsx("div",{className:"w-full p-4 gradient-primary-soft border border-purple-200 rounded-xl",children:m.jsxs("p",{className:"text-sm text-purple-900 text-center",children:[m.jsx("span",{className:"font-semibold",children:"First time?"})," Contact your system administrator to set up your account."]})}),m.jsx("p",{className:"text-xs text-center text-gray-500",children:" This is a secure admin-only area. Unauthorized access is prohibited."})]})]}),m.jsx("div",{className:"mt-8 text-center",children:m.jsx("p",{className:"text-sm text-gray-600 bg-white/60 backdrop-blur-sm px-4 py-2 rounded-full inline-block",children:"Event Registration Management System"})})]})]})}function Et(r,t,{checkForDefaultPrevented:n=!0}={}){return function(c){if(r?.(c),n===!1||!c.defaultPrevented)return t?.(c)}}function n_(r,t){const n=T.createContext(t),a=d=>{const{children:p,...w}=d,b=T.useMemo(()=>w,Object.values(w));return m.jsx(n.Provider,{value:b,children:p})};a.displayName=r+"Provider";function c(d){const p=T.useContext(n);if(p)return p;if(t!==void 0)return t;throw new Error(`\`${d}\` must be used within \`${r}\``)}return[a,c]}function Qr(r,t=[]){let n=[];function a(d,p){const w=T.createContext(p),b=n.length;n=[...n,p];const y=_=>{const{scope:O,children:R,...M}=_,k=O?.[r]?.[b]||w,L=T.useMemo(()=>M,Object.values(M));return m.jsx(k.Provider,{value:L,children:R})};y.displayName=d+"Provider";function A(_,O){const R=O?.[r]?.[b]||w,M=T.useContext(R);if(M)return M;if(p!==void 0)return p;throw new Error(`\`${_}\` must be used within \`${d}\``)}return[y,A]}const c=()=>{const d=n.map(p=>T.createContext(p));return function(w){const b=w?.[r]||d;return T.useMemo(()=>({[`__scope${r}`]:{...w,[r]:b}}),[w,b])}};return c.scopeName=r,[a,r_(c,...t)]}function r_(...r){const t=r[0];if(r.length===1)return t;const n=()=>{const a=r.map(c=>({useScope:c(),scopeName:c.scopeName}));return function(d){const p=a.reduce((w,{useScope:b,scopeName:y})=>{const _=b(d)[`__scope${y}`];return{...w,..._}},{});return T.useMemo(()=>({[`__scope${t.scopeName}`]:p}),[p])}};return n.scopeName=t.scopeName,n}function Yp(r){const t=i_(r),n=T.forwardRef((a,c)=>{const{children:d,...p}=a,w=T.Children.toArray(d),b=w.find(o_);if(b){const y=b.props.children,A=w.map(_=>_===b?T.Children.count(y)>1?T.Children.only(null):T.isValidElement(y)?y.props.children:null:_);return m.jsx(t,{...p,ref:c,children:T.isValidElement(y)?T.cloneElement(y,void 0,A):null})}return m.jsx(t,{...p,ref:c,children:d})});return n.displayName=`${r}.Slot`,n}function i_(r){const t=T.forwardRef((n,a)=>{const{children:c,...d}=n;if(T.isValidElement(c)){const p=l_(c),w=a_(d,c.props);return c.type!==T.Fragment&&(w.ref=a?Fa(a,p):p),T.cloneElement(c,w)}return T.Children.count(c)>1?T.Children.only(null):null});return t.displayName=`${r}.SlotClone`,t}var s_=Symbol("radix.slottable");function o_(r){return T.isValidElement(r)&&typeof r.type=="function"&&"__radixId"in r.type&&r.type.__radixId===s_}function a_(r,t){const n={...t};for(const a in t){const c=r[a],d=t[a];/^on[A-Z]/.test(a)?c&&d?n[a]=(...w)=>{const b=d(...w);return c(...w),b}:c&&(n[a]=c):a==="style"?n[a]={...c,...d}:a==="className"&&(n[a]=[c,d].filter(Boolean).join(" "))}return{...r,...n}}function l_(r){let t=Object.getOwnPropertyDescriptor(r.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?r.ref:(t=Object.getOwnPropertyDescriptor(r,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?r.props.ref:r.props.ref||r.ref)}function M0(r){const t=r+"CollectionProvider",[n,a]=Qr(t),[c,d]=n(t,{collectionRef:{current:null},itemMap:new Map}),p=k=>{const{scope:L,children:z}=k,U=Cn.useRef(null),F=Cn.useRef(new Map).current;return m.jsx(c,{scope:L,itemMap:F,collectionRef:U,children:z})};p.displayName=t;const w=r+"CollectionSlot",b=Yp(w),y=Cn.forwardRef((k,L)=>{const{scope:z,children:U}=k,F=d(w,z),$=Ut(L,F.collectionRef);return m.jsx(b,{ref:$,children:U})});y.displayName=w;const A=r+"CollectionItemSlot",_="data-radix-collection-item",O=Yp(A),R=Cn.forwardRef((k,L)=>{const{scope:z,children:U,...F}=k,$=Cn.useRef(null),X=Ut(L,$),Z=d(A,z);return Cn.useEffect(()=>(Z.itemMap.set($,{ref:$,...F}),()=>void Z.itemMap.delete($))),m.jsx(O,{[_]:"",ref:X,children:U})});R.displayName=A;function M(k){const L=d(r+"CollectionConsumer",k);return Cn.useCallback(()=>{const U=L.collectionRef.current;if(!U)return[];const F=Array.from(U.querySelectorAll(`[${_}]`));return Array.from(L.itemMap.values()).sort((Z,H)=>F.indexOf(Z.ref.current)-F.indexOf(H.ref.current))},[L.collectionRef,L.itemMap])}return[{Provider:p,Slot:y,ItemSlot:R},M,a]}var Yn=globalThis?.document?T.useLayoutEffect:()=>{},c_=y0[" useId ".trim().toString()]||(()=>{}),u_=0;function ji(r){const[t,n]=T.useState(c_());return Yn(()=>{n(a=>a??String(u_++))},[r]),r||(t?`radix-${t}`:"")}function d_(r){const t=h_(r),n=T.forwardRef((a,c)=>{const{children:d,...p}=a,w=T.Children.toArray(d),b=w.find(g_);if(b){const y=b.props.children,A=w.map(_=>_===b?T.Children.count(y)>1?T.Children.only(null):T.isValidElement(y)?y.props.children:null:_);return m.jsx(t,{...p,ref:c,children:T.isValidElement(y)?T.cloneElement(y,void 0,A):null})}return m.jsx(t,{...p,ref:c,children:d})});return n.displayName=`${r}.Slot`,n}function h_(r){const t=T.forwardRef((n,a)=>{const{children:c,...d}=n;if(T.isValidElement(c)){const p=m_(c),w=p_(d,c.props);return c.type!==T.Fragment&&(w.ref=a?Fa(a,p):p),T.cloneElement(c,w)}return T.Children.count(c)>1?T.Children.only(null):null});return t.displayName=`${r}.SlotClone`,t}var f_=Symbol("radix.slottable");function g_(r){return T.isValidElement(r)&&typeof r.type=="function"&&"__radixId"in r.type&&r.type.__radixId===f_}function p_(r,t){const n={...t};for(const a in t){const c=r[a],d=t[a];/^on[A-Z]/.test(a)?c&&d?n[a]=(...w)=>{const b=d(...w);return c(...w),b}:c&&(n[a]=c):a==="style"?n[a]={...c,...d}:a==="className"&&(n[a]=[c,d].filter(Boolean).join(" "))}return{...r,...n}}function m_(r){let t=Object.getOwnPropertyDescriptor(r.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?r.ref:(t=Object.getOwnPropertyDescriptor(r,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?r.props.ref:r.props.ref||r.ref)}var x_=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],xt=x_.reduce((r,t)=>{const n=d_(`Primitive.${t}`),a=T.forwardRef((c,d)=>{const{asChild:p,...w}=c,b=p?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),m.jsx(b,{...w,ref:d})});return a.displayName=`Primitive.${t}`,{...r,[t]:a}},{});function w_(r,t){r&&Va.flushSync(()=>r.dispatchEvent(t))}function Us(r){const t=T.useRef(r);return T.useEffect(()=>{t.current=r}),T.useMemo(()=>(...n)=>t.current?.(...n),[])}var y_=y0[" useInsertionEffect ".trim().toString()]||Yn;function mi({prop:r,defaultProp:t,onChange:n=()=>{},caller:a}){const[c,d,p]=v_({defaultProp:t,onChange:n}),w=r!==void 0,b=w?r:c;{const A=T.useRef(r!==void 0);T.useEffect(()=>{const _=A.current;_!==w&&console.warn(`${a} is changing from ${_?"controlled":"uncontrolled"} to ${w?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),A.current=w},[w,a])}const y=T.useCallback(A=>{if(w){const _=b_(A)?A(r):A;_!==r&&p.current?.(_)}else d(A)},[w,r,d,p]);return[b,y]}function v_({defaultProp:r,onChange:t}){const[n,a]=T.useState(r),c=T.useRef(n),d=T.useRef(t);return y_(()=>{d.current=t},[t]),T.useEffect(()=>{c.current!==n&&(d.current?.(n),c.current=n)},[n,c]),[n,a,d]}function b_(r){return typeof r=="function"}var E_=T.createContext(void 0);function Jl(r){const t=T.useContext(E_);return r||t||"ltr"}var sf="rovingFocusGroup.onEntryFocus",C_={bubbles:!1,cancelable:!0},ec="RovingFocusGroup",[r0,Ow,S_]=M0(ec),[A_,nd]=Qr(ec,[S_]),[__,N_]=A_(ec),Pw=T.forwardRef((r,t)=>m.jsx(r0.Provider,{scope:r.__scopeRovingFocusGroup,children:m.jsx(r0.Slot,{scope:r.__scopeRovingFocusGroup,children:m.jsx(I_,{...r,ref:t})})}));Pw.displayName=ec;var I_=T.forwardRef((r,t)=>{const{__scopeRovingFocusGroup:n,orientation:a,loop:c=!1,dir:d,currentTabStopId:p,defaultCurrentTabStopId:w,onCurrentTabStopIdChange:b,onEntryFocus:y,preventScrollOnEntryFocus:A=!1,..._}=r,O=T.useRef(null),R=Ut(t,O),M=Jl(d),[k,L]=mi({prop:p,defaultProp:w??null,onChange:b,caller:ec}),[z,U]=T.useState(!1),F=Us(y),$=Ow(n),X=T.useRef(!1),[Z,H]=T.useState(0);return T.useEffect(()=>{const K=O.current;if(K)return K.addEventListener(sf,F),()=>K.removeEventListener(sf,F)},[F]),m.jsx(__,{scope:n,orientation:a,dir:M,loop:c,currentTabStopId:k,onItemFocus:T.useCallback(K=>L(K),[L]),onItemShiftTab:T.useCallback(()=>U(!0),[]),onFocusableItemAdd:T.useCallback(()=>H(K=>K+1),[]),onFocusableItemRemove:T.useCallback(()=>H(K=>K-1),[]),children:m.jsx(xt.div,{tabIndex:z||Z===0?-1:0,"data-orientation":a,..._,ref:R,style:{outline:"none",...r.style},onMouseDown:Et(r.onMouseDown,()=>{X.current=!0}),onFocus:Et(r.onFocus,K=>{const V=!X.current;if(K.target===K.currentTarget&&V&&!z){const ge=new CustomEvent(sf,C_);if(K.currentTarget.dispatchEvent(ge),!ge.defaultPrevented){const Ee=$().filter(he=>he.focusable),ce=Ee.find(he=>he.active),ve=Ee.find(he=>he.id===k),ie=[ce,ve,...Ee].filter(Boolean).map(he=>he.ref.current);Mw(ie,A)}}X.current=!1}),onBlur:Et(r.onBlur,()=>U(!1))})})}),Dw="RovingFocusGroupItem",jw=T.forwardRef((r,t)=>{const{__scopeRovingFocusGroup:n,focusable:a=!0,active:c=!1,tabStopId:d,children:p,...w}=r,b=ji(),y=d||b,A=N_(Dw,n),_=A.currentTabStopId===y,O=Ow(n),{onFocusableItemAdd:R,onFocusableItemRemove:M,currentTabStopId:k}=A;return T.useEffect(()=>{if(a)return R(),()=>M()},[a,R,M]),m.jsx(r0.ItemSlot,{scope:n,id:y,focusable:a,active:c,children:m.jsx(xt.span,{tabIndex:_?0:-1,"data-orientation":A.orientation,...w,ref:t,onMouseDown:Et(r.onMouseDown,L=>{a?A.onItemFocus(y):L.preventDefault()}),onFocus:Et(r.onFocus,()=>A.onItemFocus(y)),onKeyDown:Et(r.onKeyDown,L=>{if(L.key==="Tab"&&L.shiftKey){A.onItemShiftTab();return}if(L.target!==L.currentTarget)return;const z=k_(L,A.orientation,A.dir);if(z!==void 0){if(L.metaKey||L.ctrlKey||L.altKey||L.shiftKey)return;L.preventDefault();let F=O().filter($=>$.focusable).map($=>$.ref.current);if(z==="last")F.reverse();else if(z==="prev"||z==="next"){z==="prev"&&F.reverse();const $=F.indexOf(L.currentTarget);F=A.loop?O_(F,$+1):F.slice($+1)}setTimeout(()=>Mw(F))}}),children:typeof p=="function"?p({isCurrentTabStop:_,hasTabStop:k!=null}):p})})});jw.displayName=Dw;var T_={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function R_(r,t){return t!=="rtl"?r:r==="ArrowLeft"?"ArrowRight":r==="ArrowRight"?"ArrowLeft":r}function k_(r,t,n){const a=R_(r.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(a))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(a)))return T_[a]}function Mw(r,t=!1){const n=document.activeElement;for(const a of r)if(a===n||(a.focus({preventScroll:t}),document.activeElement!==n))return}function O_(r,t){return r.map((n,a)=>r[(t+a)%r.length])}var Lw=Pw,Bw=jw;function P_(r,t){return T.useReducer((n,a)=>t[n][a]??n,r)}var $s=r=>{const{present:t,children:n}=r,a=D_(t),c=typeof n=="function"?n({present:a.isPresent}):T.Children.only(n),d=Ut(a.ref,j_(c));return typeof n=="function"||a.isPresent?T.cloneElement(c,{ref:d}):null};$s.displayName="Presence";function D_(r){const[t,n]=T.useState(),a=T.useRef(null),c=T.useRef(r),d=T.useRef("none"),p=r?"mounted":"unmounted",[w,b]=P_(p,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return T.useEffect(()=>{const y=Eu(a.current);d.current=w==="mounted"?y:"none"},[w]),Yn(()=>{const y=a.current,A=c.current;if(A!==r){const O=d.current,R=Eu(y);r?b("MOUNT"):R==="none"||y?.display==="none"?b("UNMOUNT"):b(A&&O!==R?"ANIMATION_OUT":"UNMOUNT"),c.current=r}},[r,b]),Yn(()=>{if(t){let y;const A=t.ownerDocument.defaultView??window,_=R=>{const k=Eu(a.current).includes(CSS.escape(R.animationName));if(R.target===t&&k&&(b("ANIMATION_END"),!c.current)){const L=t.style.animationFillMode;t.style.animationFillMode="forwards",y=A.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=L)})}},O=R=>{R.target===t&&(d.current=Eu(a.current))};return t.addEventListener("animationstart",O),t.addEventListener("animationcancel",_),t.addEventListener("animationend",_),()=>{A.clearTimeout(y),t.removeEventListener("animationstart",O),t.removeEventListener("animationcancel",_),t.removeEventListener("animationend",_)}}else b("ANIMATION_END")},[t,b]),{isPresent:["mounted","unmountSuspended"].includes(w),ref:T.useCallback(y=>{a.current=y?getComputedStyle(y):null,n(y)},[])}}function Eu(r){return r?.animationName||"none"}function j_(r){let t=Object.getOwnPropertyDescriptor(r.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?r.ref:(t=Object.getOwnPropertyDescriptor(r,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?r.props.ref:r.props.ref||r.ref)}var rd="Tabs",[M_]=Qr(rd,[nd]),Fw=nd(),[L_,L0]=M_(rd),Uw=T.forwardRef((r,t)=>{const{__scopeTabs:n,value:a,onValueChange:c,defaultValue:d,orientation:p="horizontal",dir:w,activationMode:b="automatic",...y}=r,A=Jl(w),[_,O]=mi({prop:a,onChange:c,defaultProp:d??"",caller:rd});return m.jsx(L_,{scope:n,baseId:ji(),value:_,onValueChange:O,orientation:p,dir:A,activationMode:b,children:m.jsx(xt.div,{dir:A,"data-orientation":p,...y,ref:t})})});Uw.displayName=rd;var zw="TabsList",Vw=T.forwardRef((r,t)=>{const{__scopeTabs:n,loop:a=!0,...c}=r,d=L0(zw,n),p=Fw(n);return m.jsx(Lw,{asChild:!0,...p,orientation:d.orientation,dir:d.dir,loop:a,children:m.jsx(xt.div,{role:"tablist","aria-orientation":d.orientation,...c,ref:t})})});Vw.displayName=zw;var Ww="TabsTrigger",Hw=T.forwardRef((r,t)=>{const{__scopeTabs:n,value:a,disabled:c=!1,...d}=r,p=L0(Ww,n),w=Fw(n),b=qw(p.baseId,a),y=Xw(p.baseId,a),A=a===p.value;return m.jsx(Bw,{asChild:!0,...w,focusable:!c,active:A,children:m.jsx(xt.button,{type:"button",role:"tab","aria-selected":A,"aria-controls":y,"data-state":A?"active":"inactive","data-disabled":c?"":void 0,disabled:c,id:b,...d,ref:t,onMouseDown:Et(r.onMouseDown,_=>{!c&&_.button===0&&_.ctrlKey===!1?p.onValueChange(a):_.preventDefault()}),onKeyDown:Et(r.onKeyDown,_=>{[" ","Enter"].includes(_.key)&&p.onValueChange(a)}),onFocus:Et(r.onFocus,()=>{const _=p.activationMode!=="manual";!A&&!c&&_&&p.onValueChange(a)})})})});Hw.displayName=Ww;var $w="TabsContent",Gw=T.forwardRef((r,t)=>{const{__scopeTabs:n,value:a,forceMount:c,children:d,...p}=r,w=L0($w,n),b=qw(w.baseId,a),y=Xw(w.baseId,a),A=a===w.value,_=T.useRef(A);return T.useEffect(()=>{const O=requestAnimationFrame(()=>_.current=!1);return()=>cancelAnimationFrame(O)},[]),m.jsx($s,{present:c||A,children:({present:O})=>m.jsx(xt.div,{"data-state":A?"active":"inactive","data-orientation":w.orientation,role:"tabpanel","aria-labelledby":b,hidden:!O,id:y,tabIndex:0,...p,ref:t,style:{...r.style,animationDuration:_.current?"0s":void 0},children:O&&d})})});Gw.displayName=$w;function qw(r,t){return`${r}-trigger-${t}`}function Xw(r,t){return`${r}-content-${t}`}var B_=Uw,F_=Vw,U_=Hw,z_=Gw;function V_({className:r,...t}){return m.jsx(B_,{"data-slot":"tabs",className:yt("flex flex-col gap-2",r),...t})}function W_({className:r,...t}){return m.jsx(F_,{"data-slot":"tabs-list",className:yt("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",r),...t})}function of({className:r,...t}){return m.jsx(U_,{"data-slot":"tabs-trigger",className:yt("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",r),...t})}function af({className:r,...t}){return m.jsx(z_,{"data-slot":"tabs-content",className:yt("flex-1 outline-none",r),...t})}function Io({className:r,...t}){return m.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:m.jsx("table",{"data-slot":"table",className:yt("w-full caption-bottom text-sm",r),...t})})}function To({className:r,...t}){return m.jsx("thead",{"data-slot":"table-header",className:yt("[&_tr]:border-b",r),...t})}function Ro({className:r,...t}){return m.jsx("tbody",{"data-slot":"table-body",className:yt("[&_tr:last-child]:border-0",r),...t})}function hr({className:r,...t}){return m.jsx("tr",{"data-slot":"table-row",className:yt("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",r),...t})}function kt({className:r,...t}){return m.jsx("th",{"data-slot":"table-head",className:yt("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",r),...t})}function Nt({className:r,...t}){return m.jsx("td",{"data-slot":"table-cell",className:yt("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",r),...t})}function H_(r,t=globalThis?.document){const n=Us(r);T.useEffect(()=>{const a=c=>{c.key==="Escape"&&n(c)};return t.addEventListener("keydown",a,{capture:!0}),()=>t.removeEventListener("keydown",a,{capture:!0})},[n,t])}var $_="DismissableLayer",i0="dismissableLayer.update",G_="dismissableLayer.pointerDownOutside",q_="dismissableLayer.focusOutside",Zp,Kw=T.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),B0=T.forwardRef((r,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:p,onDismiss:w,...b}=r,y=T.useContext(Kw),[A,_]=T.useState(null),O=A?.ownerDocument??globalThis?.document,[,R]=T.useState({}),M=Ut(t,H=>_(H)),k=Array.from(y.layers),[L]=[...y.layersWithOutsidePointerEventsDisabled].slice(-1),z=k.indexOf(L),U=A?k.indexOf(A):-1,F=y.layersWithOutsidePointerEventsDisabled.size>0,$=U>=z,X=Y_(H=>{const K=H.target,V=[...y.branches].some(ge=>ge.contains(K));!$||V||(c?.(H),p?.(H),H.defaultPrevented||w?.())},O),Z=Z_(H=>{const K=H.target;[...y.branches].some(ge=>ge.contains(K))||(d?.(H),p?.(H),H.defaultPrevented||w?.())},O);return H_(H=>{U===y.layers.size-1&&(a?.(H),!H.defaultPrevented&&w&&(H.preventDefault(),w()))},O),T.useEffect(()=>{if(A)return n&&(y.layersWithOutsidePointerEventsDisabled.size===0&&(Zp=O.body.style.pointerEvents,O.body.style.pointerEvents="none"),y.layersWithOutsidePointerEventsDisabled.add(A)),y.layers.add(A),Qp(),()=>{n&&y.layersWithOutsidePointerEventsDisabled.size===1&&(O.body.style.pointerEvents=Zp)}},[A,O,n,y]),T.useEffect(()=>()=>{A&&(y.layers.delete(A),y.layersWithOutsidePointerEventsDisabled.delete(A),Qp())},[A,y]),T.useEffect(()=>{const H=()=>R({});return document.addEventListener(i0,H),()=>document.removeEventListener(i0,H)},[]),m.jsx(xt.div,{...b,ref:M,style:{pointerEvents:F?$?"auto":"none":void 0,...r.style},onFocusCapture:Et(r.onFocusCapture,Z.onFocusCapture),onBlurCapture:Et(r.onBlurCapture,Z.onBlurCapture),onPointerDownCapture:Et(r.onPointerDownCapture,X.onPointerDownCapture)})});B0.displayName=$_;var X_="DismissableLayerBranch",K_=T.forwardRef((r,t)=>{const n=T.useContext(Kw),a=T.useRef(null),c=Ut(t,a);return T.useEffect(()=>{const d=a.current;if(d)return n.branches.add(d),()=>{n.branches.delete(d)}},[n.branches]),m.jsx(xt.div,{...r,ref:c})});K_.displayName=X_;function Y_(r,t=globalThis?.document){const n=Us(r),a=T.useRef(!1),c=T.useRef(()=>{});return T.useEffect(()=>{const d=w=>{if(w.target&&!a.current){let b=function(){Yw(G_,n,y,{discrete:!0})};const y={originalEvent:w};w.pointerType==="touch"?(t.removeEventListener("click",c.current),c.current=b,t.addEventListener("click",c.current,{once:!0})):b()}else t.removeEventListener("click",c.current);a.current=!1},p=window.setTimeout(()=>{t.addEventListener("pointerdown",d)},0);return()=>{window.clearTimeout(p),t.removeEventListener("pointerdown",d),t.removeEventListener("click",c.current)}},[t,n]),{onPointerDownCapture:()=>a.current=!0}}function Z_(r,t=globalThis?.document){const n=Us(r),a=T.useRef(!1);return T.useEffect(()=>{const c=d=>{d.target&&!a.current&&Yw(q_,n,{originalEvent:d},{discrete:!1})};return t.addEventListener("focusin",c),()=>t.removeEventListener("focusin",c)},[t,n]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function Qp(){const r=new CustomEvent(i0);document.dispatchEvent(r)}function Yw(r,t,n,{discrete:a}){const c=n.originalEvent.target,d=new CustomEvent(r,{bubbles:!1,cancelable:!0,detail:n});t&&c.addEventListener(r,t,{once:!0}),a?w_(c,d):c.dispatchEvent(d)}var lf="focusScope.autoFocusOnMount",cf="focusScope.autoFocusOnUnmount",Jp={bubbles:!1,cancelable:!0},Q_="FocusScope",F0=T.forwardRef((r,t)=>{const{loop:n=!1,trapped:a=!1,onMountAutoFocus:c,onUnmountAutoFocus:d,...p}=r,[w,b]=T.useState(null),y=Us(c),A=Us(d),_=T.useRef(null),O=Ut(t,k=>b(k)),R=T.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;T.useEffect(()=>{if(a){let k=function(F){if(R.paused||!w)return;const $=F.target;w.contains($)?_.current=$:js(_.current,{select:!0})},L=function(F){if(R.paused||!w)return;const $=F.relatedTarget;$!==null&&(w.contains($)||js(_.current,{select:!0}))},z=function(F){if(document.activeElement===document.body)for(const X of F)X.removedNodes.length>0&&js(w)};document.addEventListener("focusin",k),document.addEventListener("focusout",L);const U=new MutationObserver(z);return w&&U.observe(w,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",k),document.removeEventListener("focusout",L),U.disconnect()}}},[a,w,R.paused]),T.useEffect(()=>{if(w){tm.add(R);const k=document.activeElement;if(!w.contains(k)){const z=new CustomEvent(lf,Jp);w.addEventListener(lf,y),w.dispatchEvent(z),z.defaultPrevented||(J_(i3(Zw(w)),{select:!0}),document.activeElement===k&&js(w))}return()=>{w.removeEventListener(lf,y),setTimeout(()=>{const z=new CustomEvent(cf,Jp);w.addEventListener(cf,A),w.dispatchEvent(z),z.defaultPrevented||js(k??document.body,{select:!0}),w.removeEventListener(cf,A),tm.remove(R)},0)}}},[w,y,A,R]);const M=T.useCallback(k=>{if(!n&&!a||R.paused)return;const L=k.key==="Tab"&&!k.altKey&&!k.ctrlKey&&!k.metaKey,z=document.activeElement;if(L&&z){const U=k.currentTarget,[F,$]=e3(U);F&&$?!k.shiftKey&&z===$?(k.preventDefault(),n&&js(F,{select:!0})):k.shiftKey&&z===F&&(k.preventDefault(),n&&js($,{select:!0})):z===U&&k.preventDefault()}},[n,a,R.paused]);return m.jsx(xt.div,{tabIndex:-1,...p,ref:O,onKeyDown:M})});F0.displayName=Q_;function J_(r,{select:t=!1}={}){const n=document.activeElement;for(const a of r)if(js(a,{select:t}),document.activeElement!==n)return}function e3(r){const t=Zw(r),n=em(t,r),a=em(t.reverse(),r);return[n,a]}function Zw(r){const t=[],n=document.createTreeWalker(r,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const c=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||c?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function em(r,t){for(const n of r)if(!t3(n,{upTo:t}))return n}function t3(r,{upTo:t}){if(getComputedStyle(r).visibility==="hidden")return!0;for(;r;){if(t!==void 0&&r===t)return!1;if(getComputedStyle(r).display==="none")return!0;r=r.parentElement}return!1}function n3(r){return r instanceof HTMLInputElement&&"select"in r}function js(r,{select:t=!1}={}){if(r&&r.focus){const n=document.activeElement;r.focus({preventScroll:!0}),r!==n&&n3(r)&&t&&r.select()}}var tm=r3();function r3(){let r=[];return{add(t){const n=r[0];t!==n&&n?.pause(),r=nm(r,t),r.unshift(t)},remove(t){r=nm(r,t),r[0]?.resume()}}}function nm(r,t){const n=[...r],a=n.indexOf(t);return a!==-1&&n.splice(a,1),n}function i3(r){return r.filter(t=>t.tagName!=="A")}var s3="Portal",U0=T.forwardRef((r,t)=>{const{container:n,...a}=r,[c,d]=T.useState(!1);Yn(()=>d(!0),[]);const p=n||c&&globalThis?.document?.body;return p?sE.createPortal(m.jsx(xt.div,{...a,ref:t}),p):null});U0.displayName=s3;var uf=0;function Qw(){T.useEffect(()=>{const r=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",r[0]??rm()),document.body.insertAdjacentElement("beforeend",r[1]??rm()),uf++,()=>{uf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),uf--}},[])}function rm(){const r=document.createElement("span");return r.setAttribute("data-radix-focus-guard",""),r.tabIndex=0,r.style.outline="none",r.style.opacity="0",r.style.position="fixed",r.style.pointerEvents="none",r}var Pu="right-scroll-bar-position",Du="width-before-scroll-bar",o3="with-scroll-bars-hidden",a3="--removed-body-scroll-bar-size";function df(r,t){return typeof r=="function"?r(t):r&&(r.current=t),r}function l3(r,t){var n=T.useState(function(){return{value:r,callback:t,facade:{get current(){return n.value},set current(a){var c=n.value;c!==a&&(n.value=a,n.callback(a,c))}}}})[0];return n.callback=t,n.facade}var c3=typeof window<"u"?T.useLayoutEffect:T.useEffect,im=new WeakMap;function u3(r,t){var n=l3(null,function(a){return r.forEach(function(c){return df(c,a)})});return c3(function(){var a=im.get(n);if(a){var c=new Set(a),d=new Set(r),p=n.current;c.forEach(function(w){d.has(w)||df(w,null)}),d.forEach(function(w){c.has(w)||df(w,p)})}im.set(n,r)},[r]),n}function d3(r){return r}function h3(r,t){t===void 0&&(t=d3);var n=[],a=!1,c={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:r},useMedium:function(d){var p=t(d,a);return n.push(p),function(){n=n.filter(function(w){return w!==p})}},assignSyncMedium:function(d){for(a=!0;n.length;){var p=n;n=[],p.forEach(d)}n={push:function(w){return d(w)},filter:function(){return n}}},assignMedium:function(d){a=!0;var p=[];if(n.length){var w=n;n=[],w.forEach(d),p=n}var b=function(){var A=p;p=[],A.forEach(d)},y=function(){return Promise.resolve().then(b)};y(),n={push:function(A){p.push(A),y()},filter:function(A){return p=p.filter(A),n}}}};return c}function f3(r){r===void 0&&(r={});var t=h3(null);return t.options=Zr({async:!0,ssr:!1},r),t}var Jw=function(r){var t=r.sideCar,n=Ws(r,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=t.read();if(!a)throw new Error("Sidecar medium not found");return T.createElement(a,Zr({},n))};Jw.isSideCarExport=!0;function g3(r,t){return r.useMedium(t),Jw}var ey=f3(),hf=function(){},id=T.forwardRef(function(r,t){var n=T.useRef(null),a=T.useState({onScrollCapture:hf,onWheelCapture:hf,onTouchMoveCapture:hf}),c=a[0],d=a[1],p=r.forwardProps,w=r.children,b=r.className,y=r.removeScrollBar,A=r.enabled,_=r.shards,O=r.sideCar,R=r.noRelative,M=r.noIsolation,k=r.inert,L=r.allowPinchZoom,z=r.as,U=z===void 0?"div":z,F=r.gapMode,$=Ws(r,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),X=O,Z=u3([n,t]),H=Zr(Zr({},$),c);return T.createElement(T.Fragment,null,A&&T.createElement(X,{sideCar:ey,removeScrollBar:y,shards:_,noRelative:R,noIsolation:M,inert:k,setCallbacks:d,allowPinchZoom:!!L,lockRef:n,gapMode:F}),p?T.cloneElement(T.Children.only(w),Zr(Zr({},H),{ref:Z})):T.createElement(U,Zr({},H,{className:b,ref:Z}),w))});id.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};id.classNames={fullWidth:Du,zeroRight:Pu};var p3=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function m3(){if(!document)return null;var r=document.createElement("style");r.type="text/css";var t=p3();return t&&r.setAttribute("nonce",t),r}function x3(r,t){r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}function w3(r){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(r)}var y3=function(){var r=0,t=null;return{add:function(n){r==0&&(t=m3())&&(x3(t,n),w3(t)),r++},remove:function(){r--,!r&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},v3=function(){var r=y3();return function(t,n){T.useEffect(function(){return r.add(t),function(){r.remove()}},[t&&n])}},ty=function(){var r=v3(),t=function(n){var a=n.styles,c=n.dynamic;return r(a,c),null};return t},b3={left:0,top:0,right:0,gap:0},ff=function(r){return parseInt(r||"",10)||0},E3=function(r){var t=window.getComputedStyle(document.body),n=t[r==="padding"?"paddingLeft":"marginLeft"],a=t[r==="padding"?"paddingTop":"marginTop"],c=t[r==="padding"?"paddingRight":"marginRight"];return[ff(n),ff(a),ff(c)]},C3=function(r){if(r===void 0&&(r="margin"),typeof window>"u")return b3;var t=E3(r),n=document.documentElement.clientWidth,a=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,a-n+t[2]-t[0])}},S3=ty(),_a="data-scroll-locked",A3=function(r,t,n,a){var c=r.left,d=r.top,p=r.right,w=r.gap;return n===void 0&&(n="margin"),`
  .`.concat(o3,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(w,"px ").concat(a,`;
  }
  body[`).concat(_a,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(a,";"),n==="margin"&&`
    padding-left: `.concat(c,`px;
    padding-top: `).concat(d,`px;
    padding-right: `).concat(p,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(w,"px ").concat(a,`;
    `),n==="padding"&&"padding-right: ".concat(w,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Pu,` {
    right: `).concat(w,"px ").concat(a,`;
  }
  
  .`).concat(Du,` {
    margin-right: `).concat(w,"px ").concat(a,`;
  }
  
  .`).concat(Pu," .").concat(Pu,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(Du," .").concat(Du,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(_a,`] {
    `).concat(a3,": ").concat(w,`px;
  }
`)},sm=function(){var r=parseInt(document.body.getAttribute(_a)||"0",10);return isFinite(r)?r:0},_3=function(){T.useEffect(function(){return document.body.setAttribute(_a,(sm()+1).toString()),function(){var r=sm()-1;r<=0?document.body.removeAttribute(_a):document.body.setAttribute(_a,r.toString())}},[])},N3=function(r){var t=r.noRelative,n=r.noImportant,a=r.gapMode,c=a===void 0?"margin":a;_3();var d=T.useMemo(function(){return C3(c)},[c]);return T.createElement(S3,{styles:A3(d,!t,c,n?"":"!important")})},s0=!1;if(typeof window<"u")try{var Cu=Object.defineProperty({},"passive",{get:function(){return s0=!0,!0}});window.addEventListener("test",Cu,Cu),window.removeEventListener("test",Cu,Cu)}catch{s0=!1}var ma=s0?{passive:!1}:!1,I3=function(r){return r.tagName==="TEXTAREA"},ny=function(r,t){if(!(r instanceof Element))return!1;var n=window.getComputedStyle(r);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!I3(r)&&n[t]==="visible")},T3=function(r){return ny(r,"overflowY")},R3=function(r){return ny(r,"overflowX")},om=function(r,t){var n=t.ownerDocument,a=t;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var c=ry(r,a);if(c){var d=iy(r,a),p=d[1],w=d[2];if(p>w)return!0}a=a.parentNode}while(a&&a!==n.body);return!1},k3=function(r){var t=r.scrollTop,n=r.scrollHeight,a=r.clientHeight;return[t,n,a]},O3=function(r){var t=r.scrollLeft,n=r.scrollWidth,a=r.clientWidth;return[t,n,a]},ry=function(r,t){return r==="v"?T3(t):R3(t)},iy=function(r,t){return r==="v"?k3(t):O3(t)},P3=function(r,t){return r==="h"&&t==="rtl"?-1:1},D3=function(r,t,n,a,c){var d=P3(r,window.getComputedStyle(t).direction),p=d*a,w=n.target,b=t.contains(w),y=!1,A=p>0,_=0,O=0;do{if(!w)break;var R=iy(r,w),M=R[0],k=R[1],L=R[2],z=k-L-d*M;(M||z)&&ry(r,w)&&(_+=z,O+=M);var U=w.parentNode;w=U&&U.nodeType===Node.DOCUMENT_FRAGMENT_NODE?U.host:U}while(!b&&w!==document.body||b&&(t.contains(w)||t===w));return(A&&Math.abs(_)<1||!A&&Math.abs(O)<1)&&(y=!0),y},Su=function(r){return"changedTouches"in r?[r.changedTouches[0].clientX,r.changedTouches[0].clientY]:[0,0]},am=function(r){return[r.deltaX,r.deltaY]},lm=function(r){return r&&"current"in r?r.current:r},j3=function(r,t){return r[0]===t[0]&&r[1]===t[1]},M3=function(r){return`
  .block-interactivity-`.concat(r,` {pointer-events: none;}
  .allow-interactivity-`).concat(r,` {pointer-events: all;}
`)},L3=0,xa=[];function B3(r){var t=T.useRef([]),n=T.useRef([0,0]),a=T.useRef(),c=T.useState(L3++)[0],d=T.useState(ty)[0],p=T.useRef(r);T.useEffect(function(){p.current=r},[r]),T.useEffect(function(){if(r.inert){document.body.classList.add("block-interactivity-".concat(c));var k=N0([r.lockRef.current],(r.shards||[]).map(lm),!0).filter(Boolean);return k.forEach(function(L){return L.classList.add("allow-interactivity-".concat(c))}),function(){document.body.classList.remove("block-interactivity-".concat(c)),k.forEach(function(L){return L.classList.remove("allow-interactivity-".concat(c))})}}},[r.inert,r.lockRef.current,r.shards]);var w=T.useCallback(function(k,L){if("touches"in k&&k.touches.length===2||k.type==="wheel"&&k.ctrlKey)return!p.current.allowPinchZoom;var z=Su(k),U=n.current,F="deltaX"in k?k.deltaX:U[0]-z[0],$="deltaY"in k?k.deltaY:U[1]-z[1],X,Z=k.target,H=Math.abs(F)>Math.abs($)?"h":"v";if("touches"in k&&H==="h"&&Z.type==="range")return!1;var K=om(H,Z);if(!K)return!0;if(K?X=H:(X=H==="v"?"h":"v",K=om(H,Z)),!K)return!1;if(!a.current&&"changedTouches"in k&&(F||$)&&(a.current=X),!X)return!0;var V=a.current||X;return D3(V,L,k,V==="h"?F:$)},[]),b=T.useCallback(function(k){var L=k;if(!(!xa.length||xa[xa.length-1]!==d)){var z="deltaY"in L?am(L):Su(L),U=t.current.filter(function(X){return X.name===L.type&&(X.target===L.target||L.target===X.shadowParent)&&j3(X.delta,z)})[0];if(U&&U.should){L.cancelable&&L.preventDefault();return}if(!U){var F=(p.current.shards||[]).map(lm).filter(Boolean).filter(function(X){return X.contains(L.target)}),$=F.length>0?w(L,F[0]):!p.current.noIsolation;$&&L.cancelable&&L.preventDefault()}}},[]),y=T.useCallback(function(k,L,z,U){var F={name:k,delta:L,target:z,should:U,shadowParent:F3(z)};t.current.push(F),setTimeout(function(){t.current=t.current.filter(function($){return $!==F})},1)},[]),A=T.useCallback(function(k){n.current=Su(k),a.current=void 0},[]),_=T.useCallback(function(k){y(k.type,am(k),k.target,w(k,r.lockRef.current))},[]),O=T.useCallback(function(k){y(k.type,Su(k),k.target,w(k,r.lockRef.current))},[]);T.useEffect(function(){return xa.push(d),r.setCallbacks({onScrollCapture:_,onWheelCapture:_,onTouchMoveCapture:O}),document.addEventListener("wheel",b,ma),document.addEventListener("touchmove",b,ma),document.addEventListener("touchstart",A,ma),function(){xa=xa.filter(function(k){return k!==d}),document.removeEventListener("wheel",b,ma),document.removeEventListener("touchmove",b,ma),document.removeEventListener("touchstart",A,ma)}},[]);var R=r.removeScrollBar,M=r.inert;return T.createElement(T.Fragment,null,M?T.createElement(d,{styles:M3(c)}):null,R?T.createElement(N3,{noRelative:r.noRelative,gapMode:r.gapMode}):null)}function F3(r){for(var t=null;r!==null;)r instanceof ShadowRoot&&(t=r.host,r=r.host),r=r.parentNode;return t}const U3=g3(ey,B3);var z0=T.forwardRef(function(r,t){return T.createElement(id,Zr({},r,{ref:t,sideCar:U3}))});z0.classNames=id.classNames;var z3=function(r){if(typeof document>"u")return null;var t=Array.isArray(r)?r[0]:r;return t.ownerDocument.body},wa=new WeakMap,Au=new WeakMap,_u={},gf=0,sy=function(r){return r&&(r.host||sy(r.parentNode))},V3=function(r,t){return t.map(function(n){if(r.contains(n))return n;var a=sy(n);return a&&r.contains(a)?a:(console.error("aria-hidden",n,"in not contained inside",r,". Doing nothing"),null)}).filter(function(n){return!!n})},W3=function(r,t,n,a){var c=V3(t,Array.isArray(r)?r:[r]);_u[n]||(_u[n]=new WeakMap);var d=_u[n],p=[],w=new Set,b=new Set(c),y=function(_){!_||w.has(_)||(w.add(_),y(_.parentNode))};c.forEach(y);var A=function(_){!_||b.has(_)||Array.prototype.forEach.call(_.children,function(O){if(w.has(O))A(O);else try{var R=O.getAttribute(a),M=R!==null&&R!=="false",k=(wa.get(O)||0)+1,L=(d.get(O)||0)+1;wa.set(O,k),d.set(O,L),p.push(O),k===1&&M&&Au.set(O,!0),L===1&&O.setAttribute(n,"true"),M||O.setAttribute(a,"true")}catch(z){console.error("aria-hidden: cannot operate on ",O,z)}})};return A(t),w.clear(),gf++,function(){p.forEach(function(_){var O=wa.get(_)-1,R=d.get(_)-1;wa.set(_,O),d.set(_,R),O||(Au.has(_)||_.removeAttribute(a),Au.delete(_)),R||_.removeAttribute(n)}),gf--,gf||(wa=new WeakMap,wa=new WeakMap,Au=new WeakMap,_u={})}},oy=function(r,t,n){n===void 0&&(n="data-aria-hidden");var a=Array.from(Array.isArray(r)?r:[r]),c=z3(r);return c?(a.push.apply(a,Array.from(c.querySelectorAll("[aria-live], script"))),W3(a,c,n,"aria-hidden")):function(){return null}};function H3(r){const t=$3(r),n=T.forwardRef((a,c)=>{const{children:d,...p}=a,w=T.Children.toArray(d),b=w.find(q3);if(b){const y=b.props.children,A=w.map(_=>_===b?T.Children.count(y)>1?T.Children.only(null):T.isValidElement(y)?y.props.children:null:_);return m.jsx(t,{...p,ref:c,children:T.isValidElement(y)?T.cloneElement(y,void 0,A):null})}return m.jsx(t,{...p,ref:c,children:d})});return n.displayName=`${r}.Slot`,n}function $3(r){const t=T.forwardRef((n,a)=>{const{children:c,...d}=n;if(T.isValidElement(c)){const p=K3(c),w=X3(d,c.props);return c.type!==T.Fragment&&(w.ref=a?Fa(a,p):p),T.cloneElement(c,w)}return T.Children.count(c)>1?T.Children.only(null):null});return t.displayName=`${r}.SlotClone`,t}var G3=Symbol("radix.slottable");function q3(r){return T.isValidElement(r)&&typeof r.type=="function"&&"__radixId"in r.type&&r.type.__radixId===G3}function X3(r,t){const n={...t};for(const a in t){const c=r[a],d=t[a];/^on[A-Z]/.test(a)?c&&d?n[a]=(...w)=>{const b=d(...w);return c(...w),b}:c&&(n[a]=c):a==="style"?n[a]={...c,...d}:a==="className"&&(n[a]=[c,d].filter(Boolean).join(" "))}return{...r,...n}}function K3(r){let t=Object.getOwnPropertyDescriptor(r.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?r.ref:(t=Object.getOwnPropertyDescriptor(r,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?r.props.ref:r.props.ref||r.ref)}var sd="Dialog",[ay]=Qr(sd),[Y3,yi]=ay(sd),ly=r=>{const{__scopeDialog:t,children:n,open:a,defaultOpen:c,onOpenChange:d,modal:p=!0}=r,w=T.useRef(null),b=T.useRef(null),[y,A]=mi({prop:a,defaultProp:c??!1,onChange:d,caller:sd});return m.jsx(Y3,{scope:t,triggerRef:w,contentRef:b,contentId:ji(),titleId:ji(),descriptionId:ji(),open:y,onOpenChange:A,onOpenToggle:T.useCallback(()=>A(_=>!_),[A]),modal:p,children:n})};ly.displayName=sd;var cy="DialogTrigger",uy=T.forwardRef((r,t)=>{const{__scopeDialog:n,...a}=r,c=yi(cy,n),d=Ut(t,c.triggerRef);return m.jsx(xt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":c.open,"aria-controls":c.contentId,"data-state":H0(c.open),...a,ref:d,onClick:Et(r.onClick,c.onOpenToggle)})});uy.displayName=cy;var V0="DialogPortal",[Z3,dy]=ay(V0,{forceMount:void 0}),hy=r=>{const{__scopeDialog:t,forceMount:n,children:a,container:c}=r,d=yi(V0,t);return m.jsx(Z3,{scope:t,forceMount:n,children:T.Children.map(a,p=>m.jsx($s,{present:n||d.open,children:m.jsx(U0,{asChild:!0,container:c,children:p})}))})};hy.displayName=V0;var Hu="DialogOverlay",fy=T.forwardRef((r,t)=>{const n=dy(Hu,r.__scopeDialog),{forceMount:a=n.forceMount,...c}=r,d=yi(Hu,r.__scopeDialog);return d.modal?m.jsx($s,{present:a||d.open,children:m.jsx(J3,{...c,ref:t})}):null});fy.displayName=Hu;var Q3=H3("DialogOverlay.RemoveScroll"),J3=T.forwardRef((r,t)=>{const{__scopeDialog:n,...a}=r,c=yi(Hu,n);return m.jsx(z0,{as:Q3,allowPinchZoom:!0,shards:[c.contentRef],children:m.jsx(xt.div,{"data-state":H0(c.open),...a,ref:t,style:{pointerEvents:"auto",...a.style}})})}),ko="DialogContent",gy=T.forwardRef((r,t)=>{const n=dy(ko,r.__scopeDialog),{forceMount:a=n.forceMount,...c}=r,d=yi(ko,r.__scopeDialog);return m.jsx($s,{present:a||d.open,children:d.modal?m.jsx(eN,{...c,ref:t}):m.jsx(tN,{...c,ref:t})})});gy.displayName=ko;var eN=T.forwardRef((r,t)=>{const n=yi(ko,r.__scopeDialog),a=T.useRef(null),c=Ut(t,n.contentRef,a);return T.useEffect(()=>{const d=a.current;if(d)return oy(d)},[]),m.jsx(py,{...r,ref:c,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Et(r.onCloseAutoFocus,d=>{d.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:Et(r.onPointerDownOutside,d=>{const p=d.detail.originalEvent,w=p.button===0&&p.ctrlKey===!0;(p.button===2||w)&&d.preventDefault()}),onFocusOutside:Et(r.onFocusOutside,d=>d.preventDefault())})}),tN=T.forwardRef((r,t)=>{const n=yi(ko,r.__scopeDialog),a=T.useRef(!1),c=T.useRef(!1);return m.jsx(py,{...r,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:d=>{r.onCloseAutoFocus?.(d),d.defaultPrevented||(a.current||n.triggerRef.current?.focus(),d.preventDefault()),a.current=!1,c.current=!1},onInteractOutside:d=>{r.onInteractOutside?.(d),d.defaultPrevented||(a.current=!0,d.detail.originalEvent.type==="pointerdown"&&(c.current=!0));const p=d.target;n.triggerRef.current?.contains(p)&&d.preventDefault(),d.detail.originalEvent.type==="focusin"&&c.current&&d.preventDefault()}})}),py=T.forwardRef((r,t)=>{const{__scopeDialog:n,trapFocus:a,onOpenAutoFocus:c,onCloseAutoFocus:d,...p}=r,w=yi(ko,n),b=T.useRef(null),y=Ut(t,b);return Qw(),m.jsxs(m.Fragment,{children:[m.jsx(F0,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:c,onUnmountAutoFocus:d,children:m.jsx(B0,{role:"dialog",id:w.contentId,"aria-describedby":w.descriptionId,"aria-labelledby":w.titleId,"data-state":H0(w.open),...p,ref:y,onDismiss:()=>w.onOpenChange(!1)})}),m.jsxs(m.Fragment,{children:[m.jsx(nN,{titleId:w.titleId}),m.jsx(iN,{contentRef:b,descriptionId:w.descriptionId})]})]})}),W0="DialogTitle",my=T.forwardRef((r,t)=>{const{__scopeDialog:n,...a}=r,c=yi(W0,n);return m.jsx(xt.h2,{id:c.titleId,...a,ref:t})});my.displayName=W0;var xy="DialogDescription",wy=T.forwardRef((r,t)=>{const{__scopeDialog:n,...a}=r,c=yi(xy,n);return m.jsx(xt.p,{id:c.descriptionId,...a,ref:t})});wy.displayName=xy;var yy="DialogClose",vy=T.forwardRef((r,t)=>{const{__scopeDialog:n,...a}=r,c=yi(yy,n);return m.jsx(xt.button,{type:"button",...a,ref:t,onClick:Et(r.onClick,()=>c.onOpenChange(!1))})});vy.displayName=yy;function H0(r){return r?"open":"closed"}var by="DialogTitleWarning",[V8,Ey]=n_(by,{contentName:ko,titleName:W0,docsSlug:"dialog"}),nN=({titleId:r})=>{const t=Ey(by),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return T.useEffect(()=>{r&&(document.getElementById(r)||console.error(n))},[n,r]),null},rN="DialogDescriptionWarning",iN=({contentRef:r,descriptionId:t})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Ey(rN).contentName}}.`;return T.useEffect(()=>{const c=r.current?.getAttribute("aria-describedby");t&&c&&(document.getElementById(t)||console.warn(a))},[a,r,t]),null},sN=ly,oN=uy,aN=hy,lN=fy,cN=gy,uN=my,dN=wy,hN=vy;function gi({...r}){return m.jsx(sN,{"data-slot":"dialog",...r})}function Cy({...r}){return m.jsx(oN,{"data-slot":"dialog-trigger",...r})}function fN({...r}){return m.jsx(aN,{"data-slot":"dialog-portal",...r})}const Sy=T.forwardRef(({className:r,...t},n)=>m.jsx(lN,{ref:n,"data-slot":"dialog-overlay",className:yt("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",r),...t}));Sy.displayName="DialogOverlay";function pi({className:r,children:t,...n}){return m.jsxs(fN,{"data-slot":"dialog-portal",children:[m.jsx(Sy,{}),m.jsxs(cN,{"data-slot":"dialog-content",className:yt("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",r),...n,children:[t,m.jsxs(hN,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[m.jsx(A0,{}),m.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Mi({className:r,...t}){return m.jsx("div",{"data-slot":"dialog-header",className:yt("flex flex-col gap-2 text-center sm:text-left",r),...t})}function o0({className:r,...t}){return m.jsx("div",{"data-slot":"dialog-footer",className:yt("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",r),...t})}function Li({className:r,...t}){return m.jsx(uN,{"data-slot":"dialog-title",className:yt("text-lg leading-none font-semibold",r),...t})}function La({className:r,...t}){return m.jsx(dN,{"data-slot":"dialog-description",className:yt("text-muted-foreground text-sm",r),...t})}const gN=v0("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function pN({className:r,variant:t,asChild:n=!1,...a}){const c=n?xx:"span";return m.jsx(c,{"data-slot":"badge",className:yt(gN({variant:t}),r),...a})}function cm(r,[t,n]){return Math.min(n,Math.max(t,r))}const mN=["top","right","bottom","left"],zs=Math.min,jr=Math.max,$u=Math.round,Nu=Math.floor,Bi=r=>({x:r,y:r}),xN={left:"right",right:"left",bottom:"top",top:"bottom"},wN={start:"end",end:"start"};function a0(r,t,n){return jr(r,zs(t,n))}function ss(r,t){return typeof r=="function"?r(t):r}function os(r){return r.split("-")[0]}function Ha(r){return r.split("-")[1]}function $0(r){return r==="x"?"y":"x"}function G0(r){return r==="y"?"height":"width"}const yN=new Set(["top","bottom"]);function Oi(r){return yN.has(os(r))?"y":"x"}function q0(r){return $0(Oi(r))}function vN(r,t,n){n===void 0&&(n=!1);const a=Ha(r),c=q0(r),d=G0(c);let p=c==="x"?a===(n?"end":"start")?"right":"left":a==="start"?"bottom":"top";return t.reference[d]>t.floating[d]&&(p=Gu(p)),[p,Gu(p)]}function bN(r){const t=Gu(r);return[l0(r),t,l0(t)]}function l0(r){return r.replace(/start|end/g,t=>wN[t])}const um=["left","right"],dm=["right","left"],EN=["top","bottom"],CN=["bottom","top"];function SN(r,t,n){switch(r){case"top":case"bottom":return n?t?dm:um:t?um:dm;case"left":case"right":return t?EN:CN;default:return[]}}function AN(r,t,n,a){const c=Ha(r);let d=SN(os(r),n==="start",a);return c&&(d=d.map(p=>p+"-"+c),t&&(d=d.concat(d.map(l0)))),d}function Gu(r){return r.replace(/left|right|bottom|top/g,t=>xN[t])}function _N(r){return{top:0,right:0,bottom:0,left:0,...r}}function Ay(r){return typeof r!="number"?_N(r):{top:r,right:r,bottom:r,left:r}}function qu(r){const{x:t,y:n,width:a,height:c}=r;return{width:a,height:c,top:n,left:t,right:t+a,bottom:n+c,x:t,y:n}}function hm(r,t,n){let{reference:a,floating:c}=r;const d=Oi(t),p=q0(t),w=G0(p),b=os(t),y=d==="y",A=a.x+a.width/2-c.width/2,_=a.y+a.height/2-c.height/2,O=a[w]/2-c[w]/2;let R;switch(b){case"top":R={x:A,y:a.y-c.height};break;case"bottom":R={x:A,y:a.y+a.height};break;case"right":R={x:a.x+a.width,y:_};break;case"left":R={x:a.x-c.width,y:_};break;default:R={x:a.x,y:a.y}}switch(Ha(t)){case"start":R[p]-=O*(n&&y?-1:1);break;case"end":R[p]+=O*(n&&y?-1:1);break}return R}const NN=async(r,t,n)=>{const{placement:a="bottom",strategy:c="absolute",middleware:d=[],platform:p}=n,w=d.filter(Boolean),b=await(p.isRTL==null?void 0:p.isRTL(t));let y=await p.getElementRects({reference:r,floating:t,strategy:c}),{x:A,y:_}=hm(y,a,b),O=a,R={},M=0;for(let k=0;k<w.length;k++){const{name:L,fn:z}=w[k],{x:U,y:F,data:$,reset:X}=await z({x:A,y:_,initialPlacement:a,placement:O,strategy:c,middlewareData:R,rects:y,platform:p,elements:{reference:r,floating:t}});A=U??A,_=F??_,R={...R,[L]:{...R[L],...$}},X&&M<=50&&(M++,typeof X=="object"&&(X.placement&&(O=X.placement),X.rects&&(y=X.rects===!0?await p.getElementRects({reference:r,floating:t,strategy:c}):X.rects),{x:A,y:_}=hm(y,O,b)),k=-1)}return{x:A,y:_,placement:O,strategy:c,middlewareData:R}};async function ql(r,t){var n;t===void 0&&(t={});const{x:a,y:c,platform:d,rects:p,elements:w,strategy:b}=r,{boundary:y="clippingAncestors",rootBoundary:A="viewport",elementContext:_="floating",altBoundary:O=!1,padding:R=0}=ss(t,r),M=Ay(R),L=w[O?_==="floating"?"reference":"floating":_],z=qu(await d.getClippingRect({element:(n=await(d.isElement==null?void 0:d.isElement(L)))==null||n?L:L.contextElement||await(d.getDocumentElement==null?void 0:d.getDocumentElement(w.floating)),boundary:y,rootBoundary:A,strategy:b})),U=_==="floating"?{x:a,y:c,width:p.floating.width,height:p.floating.height}:p.reference,F=await(d.getOffsetParent==null?void 0:d.getOffsetParent(w.floating)),$=await(d.isElement==null?void 0:d.isElement(F))?await(d.getScale==null?void 0:d.getScale(F))||{x:1,y:1}:{x:1,y:1},X=qu(d.convertOffsetParentRelativeRectToViewportRelativeRect?await d.convertOffsetParentRelativeRectToViewportRelativeRect({elements:w,rect:U,offsetParent:F,strategy:b}):U);return{top:(z.top-X.top+M.top)/$.y,bottom:(X.bottom-z.bottom+M.bottom)/$.y,left:(z.left-X.left+M.left)/$.x,right:(X.right-z.right+M.right)/$.x}}const IN=r=>({name:"arrow",options:r,async fn(t){const{x:n,y:a,placement:c,rects:d,platform:p,elements:w,middlewareData:b}=t,{element:y,padding:A=0}=ss(r,t)||{};if(y==null)return{};const _=Ay(A),O={x:n,y:a},R=q0(c),M=G0(R),k=await p.getDimensions(y),L=R==="y",z=L?"top":"left",U=L?"bottom":"right",F=L?"clientHeight":"clientWidth",$=d.reference[M]+d.reference[R]-O[R]-d.floating[M],X=O[R]-d.reference[R],Z=await(p.getOffsetParent==null?void 0:p.getOffsetParent(y));let H=Z?Z[F]:0;(!H||!await(p.isElement==null?void 0:p.isElement(Z)))&&(H=w.floating[F]||d.floating[M]);const K=$/2-X/2,V=H/2-k[M]/2-1,ge=zs(_[z],V),Ee=zs(_[U],V),ce=ge,ve=H-k[M]-Ee,Ce=H/2-k[M]/2+K,ie=a0(ce,Ce,ve),he=!b.arrow&&Ha(c)!=null&&Ce!==ie&&d.reference[M]/2-(Ce<ce?ge:Ee)-k[M]/2<0,se=he?Ce<ce?Ce-ce:Ce-ve:0;return{[R]:O[R]+se,data:{[R]:ie,centerOffset:Ce-ie-se,...he&&{alignmentOffset:se}},reset:he}}}),TN=function(r){return r===void 0&&(r={}),{name:"flip",options:r,async fn(t){var n,a;const{placement:c,middlewareData:d,rects:p,initialPlacement:w,platform:b,elements:y}=t,{mainAxis:A=!0,crossAxis:_=!0,fallbackPlacements:O,fallbackStrategy:R="bestFit",fallbackAxisSideDirection:M="none",flipAlignment:k=!0,...L}=ss(r,t);if((n=d.arrow)!=null&&n.alignmentOffset)return{};const z=os(c),U=Oi(w),F=os(w)===w,$=await(b.isRTL==null?void 0:b.isRTL(y.floating)),X=O||(F||!k?[Gu(w)]:bN(w)),Z=M!=="none";!O&&Z&&X.push(...AN(w,k,M,$));const H=[w,...X],K=await ql(t,L),V=[];let ge=((a=d.flip)==null?void 0:a.overflows)||[];if(A&&V.push(K[z]),_){const Ce=vN(c,p,$);V.push(K[Ce[0]],K[Ce[1]])}if(ge=[...ge,{placement:c,overflows:V}],!V.every(Ce=>Ce<=0)){var Ee,ce;const Ce=(((Ee=d.flip)==null?void 0:Ee.index)||0)+1,ie=H[Ce];if(ie&&(!(_==="alignment"?U!==Oi(ie):!1)||ge.every(J=>Oi(J.placement)===U?J.overflows[0]>0:!0)))return{data:{index:Ce,overflows:ge},reset:{placement:ie}};let he=(ce=ge.filter(se=>se.overflows[0]<=0).sort((se,J)=>se.overflows[1]-J.overflows[1])[0])==null?void 0:ce.placement;if(!he)switch(R){case"bestFit":{var ve;const se=(ve=ge.filter(J=>{if(Z){const ne=Oi(J.placement);return ne===U||ne==="y"}return!0}).map(J=>[J.placement,J.overflows.filter(ne=>ne>0).reduce((ne,oe)=>ne+oe,0)]).sort((J,ne)=>J[1]-ne[1])[0])==null?void 0:ve[0];se&&(he=se);break}case"initialPlacement":he=w;break}if(c!==he)return{reset:{placement:he}}}return{}}}};function fm(r,t){return{top:r.top-t.height,right:r.right-t.width,bottom:r.bottom-t.height,left:r.left-t.width}}function gm(r){return mN.some(t=>r[t]>=0)}const RN=function(r){return r===void 0&&(r={}),{name:"hide",options:r,async fn(t){const{rects:n}=t,{strategy:a="referenceHidden",...c}=ss(r,t);switch(a){case"referenceHidden":{const d=await ql(t,{...c,elementContext:"reference"}),p=fm(d,n.reference);return{data:{referenceHiddenOffsets:p,referenceHidden:gm(p)}}}case"escaped":{const d=await ql(t,{...c,altBoundary:!0}),p=fm(d,n.floating);return{data:{escapedOffsets:p,escaped:gm(p)}}}default:return{}}}}},_y=new Set(["left","top"]);async function kN(r,t){const{placement:n,platform:a,elements:c}=r,d=await(a.isRTL==null?void 0:a.isRTL(c.floating)),p=os(n),w=Ha(n),b=Oi(n)==="y",y=_y.has(p)?-1:1,A=d&&b?-1:1,_=ss(t,r);let{mainAxis:O,crossAxis:R,alignmentAxis:M}=typeof _=="number"?{mainAxis:_,crossAxis:0,alignmentAxis:null}:{mainAxis:_.mainAxis||0,crossAxis:_.crossAxis||0,alignmentAxis:_.alignmentAxis};return w&&typeof M=="number"&&(R=w==="end"?M*-1:M),b?{x:R*A,y:O*y}:{x:O*y,y:R*A}}const ON=function(r){return r===void 0&&(r=0),{name:"offset",options:r,async fn(t){var n,a;const{x:c,y:d,placement:p,middlewareData:w}=t,b=await kN(t,r);return p===((n=w.offset)==null?void 0:n.placement)&&(a=w.arrow)!=null&&a.alignmentOffset?{}:{x:c+b.x,y:d+b.y,data:{...b,placement:p}}}}},PN=function(r){return r===void 0&&(r={}),{name:"shift",options:r,async fn(t){const{x:n,y:a,placement:c}=t,{mainAxis:d=!0,crossAxis:p=!1,limiter:w={fn:L=>{let{x:z,y:U}=L;return{x:z,y:U}}},...b}=ss(r,t),y={x:n,y:a},A=await ql(t,b),_=Oi(os(c)),O=$0(_);let R=y[O],M=y[_];if(d){const L=O==="y"?"top":"left",z=O==="y"?"bottom":"right",U=R+A[L],F=R-A[z];R=a0(U,R,F)}if(p){const L=_==="y"?"top":"left",z=_==="y"?"bottom":"right",U=M+A[L],F=M-A[z];M=a0(U,M,F)}const k=w.fn({...t,[O]:R,[_]:M});return{...k,data:{x:k.x-n,y:k.y-a,enabled:{[O]:d,[_]:p}}}}}},DN=function(r){return r===void 0&&(r={}),{options:r,fn(t){const{x:n,y:a,placement:c,rects:d,middlewareData:p}=t,{offset:w=0,mainAxis:b=!0,crossAxis:y=!0}=ss(r,t),A={x:n,y:a},_=Oi(c),O=$0(_);let R=A[O],M=A[_];const k=ss(w,t),L=typeof k=="number"?{mainAxis:k,crossAxis:0}:{mainAxis:0,crossAxis:0,...k};if(b){const F=O==="y"?"height":"width",$=d.reference[O]-d.floating[F]+L.mainAxis,X=d.reference[O]+d.reference[F]-L.mainAxis;R<$?R=$:R>X&&(R=X)}if(y){var z,U;const F=O==="y"?"width":"height",$=_y.has(os(c)),X=d.reference[_]-d.floating[F]+($&&((z=p.offset)==null?void 0:z[_])||0)+($?0:L.crossAxis),Z=d.reference[_]+d.reference[F]+($?0:((U=p.offset)==null?void 0:U[_])||0)-($?L.crossAxis:0);M<X?M=X:M>Z&&(M=Z)}return{[O]:R,[_]:M}}}},jN=function(r){return r===void 0&&(r={}),{name:"size",options:r,async fn(t){var n,a;const{placement:c,rects:d,platform:p,elements:w}=t,{apply:b=()=>{},...y}=ss(r,t),A=await ql(t,y),_=os(c),O=Ha(c),R=Oi(c)==="y",{width:M,height:k}=d.floating;let L,z;_==="top"||_==="bottom"?(L=_,z=O===(await(p.isRTL==null?void 0:p.isRTL(w.floating))?"start":"end")?"left":"right"):(z=_,L=O==="end"?"top":"bottom");const U=k-A.top-A.bottom,F=M-A.left-A.right,$=zs(k-A[L],U),X=zs(M-A[z],F),Z=!t.middlewareData.shift;let H=$,K=X;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(K=F),(a=t.middlewareData.shift)!=null&&a.enabled.y&&(H=U),Z&&!O){const ge=jr(A.left,0),Ee=jr(A.right,0),ce=jr(A.top,0),ve=jr(A.bottom,0);R?K=M-2*(ge!==0||Ee!==0?ge+Ee:jr(A.left,A.right)):H=k-2*(ce!==0||ve!==0?ce+ve:jr(A.top,A.bottom))}await b({...t,availableWidth:K,availableHeight:H});const V=await p.getDimensions(w.floating);return M!==V.width||k!==V.height?{reset:{rects:!0}}:{}}}};function od(){return typeof window<"u"}function $a(r){return Ny(r)?(r.nodeName||"").toLowerCase():"#document"}function Br(r){var t;return(r==null||(t=r.ownerDocument)==null?void 0:t.defaultView)||window}function Ui(r){var t;return(t=(Ny(r)?r.ownerDocument:r.document)||window.document)==null?void 0:t.documentElement}function Ny(r){return od()?r instanceof Node||r instanceof Br(r).Node:!1}function xi(r){return od()?r instanceof Element||r instanceof Br(r).Element:!1}function Fi(r){return od()?r instanceof HTMLElement||r instanceof Br(r).HTMLElement:!1}function pm(r){return!od()||typeof ShadowRoot>"u"?!1:r instanceof ShadowRoot||r instanceof Br(r).ShadowRoot}const MN=new Set(["inline","contents"]);function tc(r){const{overflow:t,overflowX:n,overflowY:a,display:c}=wi(r);return/auto|scroll|overlay|hidden|clip/.test(t+a+n)&&!MN.has(c)}const LN=new Set(["table","td","th"]);function BN(r){return LN.has($a(r))}const FN=[":popover-open",":modal"];function ad(r){return FN.some(t=>{try{return r.matches(t)}catch{return!1}})}const UN=["transform","translate","scale","rotate","perspective"],zN=["transform","translate","scale","rotate","perspective","filter"],VN=["paint","layout","strict","content"];function X0(r){const t=K0(),n=xi(r)?wi(r):r;return UN.some(a=>n[a]?n[a]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||zN.some(a=>(n.willChange||"").includes(a))||VN.some(a=>(n.contain||"").includes(a))}function WN(r){let t=Vs(r);for(;Fi(t)&&!Ba(t);){if(X0(t))return t;if(ad(t))return null;t=Vs(t)}return null}function K0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const HN=new Set(["html","body","#document"]);function Ba(r){return HN.has($a(r))}function wi(r){return Br(r).getComputedStyle(r)}function ld(r){return xi(r)?{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}:{scrollLeft:r.scrollX,scrollTop:r.scrollY}}function Vs(r){if($a(r)==="html")return r;const t=r.assignedSlot||r.parentNode||pm(r)&&r.host||Ui(r);return pm(t)?t.host:t}function Iy(r){const t=Vs(r);return Ba(t)?r.ownerDocument?r.ownerDocument.body:r.body:Fi(t)&&tc(t)?t:Iy(t)}function Xl(r,t,n){var a;t===void 0&&(t=[]),n===void 0&&(n=!0);const c=Iy(r),d=c===((a=r.ownerDocument)==null?void 0:a.body),p=Br(c);if(d){const w=c0(p);return t.concat(p,p.visualViewport||[],tc(c)?c:[],w&&n?Xl(w):[])}return t.concat(c,Xl(c,[],n))}function c0(r){return r.parent&&Object.getPrototypeOf(r.parent)?r.frameElement:null}function Ty(r){const t=wi(r);let n=parseFloat(t.width)||0,a=parseFloat(t.height)||0;const c=Fi(r),d=c?r.offsetWidth:n,p=c?r.offsetHeight:a,w=$u(n)!==d||$u(a)!==p;return w&&(n=d,a=p),{width:n,height:a,$:w}}function Y0(r){return xi(r)?r:r.contextElement}function Na(r){const t=Y0(r);if(!Fi(t))return Bi(1);const n=t.getBoundingClientRect(),{width:a,height:c,$:d}=Ty(t);let p=(d?$u(n.width):n.width)/a,w=(d?$u(n.height):n.height)/c;return(!p||!Number.isFinite(p))&&(p=1),(!w||!Number.isFinite(w))&&(w=1),{x:p,y:w}}const $N=Bi(0);function Ry(r){const t=Br(r);return!K0()||!t.visualViewport?$N:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function GN(r,t,n){return t===void 0&&(t=!1),!n||t&&n!==Br(r)?!1:t}function Oo(r,t,n,a){t===void 0&&(t=!1),n===void 0&&(n=!1);const c=r.getBoundingClientRect(),d=Y0(r);let p=Bi(1);t&&(a?xi(a)&&(p=Na(a)):p=Na(r));const w=GN(d,n,a)?Ry(d):Bi(0);let b=(c.left+w.x)/p.x,y=(c.top+w.y)/p.y,A=c.width/p.x,_=c.height/p.y;if(d){const O=Br(d),R=a&&xi(a)?Br(a):a;let M=O,k=c0(M);for(;k&&a&&R!==M;){const L=Na(k),z=k.getBoundingClientRect(),U=wi(k),F=z.left+(k.clientLeft+parseFloat(U.paddingLeft))*L.x,$=z.top+(k.clientTop+parseFloat(U.paddingTop))*L.y;b*=L.x,y*=L.y,A*=L.x,_*=L.y,b+=F,y+=$,M=Br(k),k=c0(M)}}return qu({width:A,height:_,x:b,y})}function cd(r,t){const n=ld(r).scrollLeft;return t?t.left+n:Oo(Ui(r)).left+n}function ky(r,t){const n=r.getBoundingClientRect(),a=n.left+t.scrollLeft-cd(r,n),c=n.top+t.scrollTop;return{x:a,y:c}}function qN(r){let{elements:t,rect:n,offsetParent:a,strategy:c}=r;const d=c==="fixed",p=Ui(a),w=t?ad(t.floating):!1;if(a===p||w&&d)return n;let b={scrollLeft:0,scrollTop:0},y=Bi(1);const A=Bi(0),_=Fi(a);if((_||!_&&!d)&&(($a(a)!=="body"||tc(p))&&(b=ld(a)),Fi(a))){const R=Oo(a);y=Na(a),A.x=R.x+a.clientLeft,A.y=R.y+a.clientTop}const O=p&&!_&&!d?ky(p,b):Bi(0);return{width:n.width*y.x,height:n.height*y.y,x:n.x*y.x-b.scrollLeft*y.x+A.x+O.x,y:n.y*y.y-b.scrollTop*y.y+A.y+O.y}}function XN(r){return Array.from(r.getClientRects())}function KN(r){const t=Ui(r),n=ld(r),a=r.ownerDocument.body,c=jr(t.scrollWidth,t.clientWidth,a.scrollWidth,a.clientWidth),d=jr(t.scrollHeight,t.clientHeight,a.scrollHeight,a.clientHeight);let p=-n.scrollLeft+cd(r);const w=-n.scrollTop;return wi(a).direction==="rtl"&&(p+=jr(t.clientWidth,a.clientWidth)-c),{width:c,height:d,x:p,y:w}}const mm=25;function YN(r,t){const n=Br(r),a=Ui(r),c=n.visualViewport;let d=a.clientWidth,p=a.clientHeight,w=0,b=0;if(c){d=c.width,p=c.height;const A=K0();(!A||A&&t==="fixed")&&(w=c.offsetLeft,b=c.offsetTop)}const y=cd(a);if(y<=0){const A=a.ownerDocument,_=A.body,O=getComputedStyle(_),R=A.compatMode==="CSS1Compat"&&parseFloat(O.marginLeft)+parseFloat(O.marginRight)||0,M=Math.abs(a.clientWidth-_.clientWidth-R);M<=mm&&(d-=M)}else y<=mm&&(d+=y);return{width:d,height:p,x:w,y:b}}const ZN=new Set(["absolute","fixed"]);function QN(r,t){const n=Oo(r,!0,t==="fixed"),a=n.top+r.clientTop,c=n.left+r.clientLeft,d=Fi(r)?Na(r):Bi(1),p=r.clientWidth*d.x,w=r.clientHeight*d.y,b=c*d.x,y=a*d.y;return{width:p,height:w,x:b,y}}function xm(r,t,n){let a;if(t==="viewport")a=YN(r,n);else if(t==="document")a=KN(Ui(r));else if(xi(t))a=QN(t,n);else{const c=Ry(r);a={x:t.x-c.x,y:t.y-c.y,width:t.width,height:t.height}}return qu(a)}function Oy(r,t){const n=Vs(r);return n===t||!xi(n)||Ba(n)?!1:wi(n).position==="fixed"||Oy(n,t)}function JN(r,t){const n=t.get(r);if(n)return n;let a=Xl(r,[],!1).filter(w=>xi(w)&&$a(w)!=="body"),c=null;const d=wi(r).position==="fixed";let p=d?Vs(r):r;for(;xi(p)&&!Ba(p);){const w=wi(p),b=X0(p);!b&&w.position==="fixed"&&(c=null),(d?!b&&!c:!b&&w.position==="static"&&!!c&&ZN.has(c.position)||tc(p)&&!b&&Oy(r,p))?a=a.filter(A=>A!==p):c=w,p=Vs(p)}return t.set(r,a),a}function eI(r){let{element:t,boundary:n,rootBoundary:a,strategy:c}=r;const p=[...n==="clippingAncestors"?ad(t)?[]:JN(t,this._c):[].concat(n),a],w=p[0],b=p.reduce((y,A)=>{const _=xm(t,A,c);return y.top=jr(_.top,y.top),y.right=zs(_.right,y.right),y.bottom=zs(_.bottom,y.bottom),y.left=jr(_.left,y.left),y},xm(t,w,c));return{width:b.right-b.left,height:b.bottom-b.top,x:b.left,y:b.top}}function tI(r){const{width:t,height:n}=Ty(r);return{width:t,height:n}}function nI(r,t,n){const a=Fi(t),c=Ui(t),d=n==="fixed",p=Oo(r,!0,d,t);let w={scrollLeft:0,scrollTop:0};const b=Bi(0);function y(){b.x=cd(c)}if(a||!a&&!d)if(($a(t)!=="body"||tc(c))&&(w=ld(t)),a){const R=Oo(t,!0,d,t);b.x=R.x+t.clientLeft,b.y=R.y+t.clientTop}else c&&y();d&&!a&&c&&y();const A=c&&!a&&!d?ky(c,w):Bi(0),_=p.left+w.scrollLeft-b.x-A.x,O=p.top+w.scrollTop-b.y-A.y;return{x:_,y:O,width:p.width,height:p.height}}function pf(r){return wi(r).position==="static"}function wm(r,t){if(!Fi(r)||wi(r).position==="fixed")return null;if(t)return t(r);let n=r.offsetParent;return Ui(r)===n&&(n=n.ownerDocument.body),n}function Py(r,t){const n=Br(r);if(ad(r))return n;if(!Fi(r)){let c=Vs(r);for(;c&&!Ba(c);){if(xi(c)&&!pf(c))return c;c=Vs(c)}return n}let a=wm(r,t);for(;a&&BN(a)&&pf(a);)a=wm(a,t);return a&&Ba(a)&&pf(a)&&!X0(a)?n:a||WN(r)||n}const rI=async function(r){const t=this.getOffsetParent||Py,n=this.getDimensions,a=await n(r.floating);return{reference:nI(r.reference,await t(r.floating),r.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function iI(r){return wi(r).direction==="rtl"}const sI={convertOffsetParentRelativeRectToViewportRelativeRect:qN,getDocumentElement:Ui,getClippingRect:eI,getOffsetParent:Py,getElementRects:rI,getClientRects:XN,getDimensions:tI,getScale:Na,isElement:xi,isRTL:iI};function Dy(r,t){return r.x===t.x&&r.y===t.y&&r.width===t.width&&r.height===t.height}function oI(r,t){let n=null,a;const c=Ui(r);function d(){var w;clearTimeout(a),(w=n)==null||w.disconnect(),n=null}function p(w,b){w===void 0&&(w=!1),b===void 0&&(b=1),d();const y=r.getBoundingClientRect(),{left:A,top:_,width:O,height:R}=y;if(w||t(),!O||!R)return;const M=Nu(_),k=Nu(c.clientWidth-(A+O)),L=Nu(c.clientHeight-(_+R)),z=Nu(A),F={rootMargin:-M+"px "+-k+"px "+-L+"px "+-z+"px",threshold:jr(0,zs(1,b))||1};let $=!0;function X(Z){const H=Z[0].intersectionRatio;if(H!==b){if(!$)return p();H?p(!1,H):a=setTimeout(()=>{p(!1,1e-7)},1e3)}H===1&&!Dy(y,r.getBoundingClientRect())&&p(),$=!1}try{n=new IntersectionObserver(X,{...F,root:c.ownerDocument})}catch{n=new IntersectionObserver(X,F)}n.observe(r)}return p(!0),d}function aI(r,t,n,a){a===void 0&&(a={});const{ancestorScroll:c=!0,ancestorResize:d=!0,elementResize:p=typeof ResizeObserver=="function",layoutShift:w=typeof IntersectionObserver=="function",animationFrame:b=!1}=a,y=Y0(r),A=c||d?[...y?Xl(y):[],...Xl(t)]:[];A.forEach(z=>{c&&z.addEventListener("scroll",n,{passive:!0}),d&&z.addEventListener("resize",n)});const _=y&&w?oI(y,n):null;let O=-1,R=null;p&&(R=new ResizeObserver(z=>{let[U]=z;U&&U.target===y&&R&&(R.unobserve(t),cancelAnimationFrame(O),O=requestAnimationFrame(()=>{var F;(F=R)==null||F.observe(t)})),n()}),y&&!b&&R.observe(y),R.observe(t));let M,k=b?Oo(r):null;b&&L();function L(){const z=Oo(r);k&&!Dy(k,z)&&n(),k=z,M=requestAnimationFrame(L)}return n(),()=>{var z;A.forEach(U=>{c&&U.removeEventListener("scroll",n),d&&U.removeEventListener("resize",n)}),_?.(),(z=R)==null||z.disconnect(),R=null,b&&cancelAnimationFrame(M)}}const lI=ON,cI=PN,uI=TN,dI=jN,hI=RN,ym=IN,fI=DN,gI=(r,t,n)=>{const a=new Map,c={platform:sI,...n},d={...c.platform,_c:a};return NN(r,t,{...c,platform:d})};var pI=typeof document<"u",mI=function(){},ju=pI?T.useLayoutEffect:mI;function Xu(r,t){if(r===t)return!0;if(typeof r!=typeof t)return!1;if(typeof r=="function"&&r.toString()===t.toString())return!0;let n,a,c;if(r&&t&&typeof r=="object"){if(Array.isArray(r)){if(n=r.length,n!==t.length)return!1;for(a=n;a--!==0;)if(!Xu(r[a],t[a]))return!1;return!0}if(c=Object.keys(r),n=c.length,n!==Object.keys(t).length)return!1;for(a=n;a--!==0;)if(!{}.hasOwnProperty.call(t,c[a]))return!1;for(a=n;a--!==0;){const d=c[a];if(!(d==="_owner"&&r.$$typeof)&&!Xu(r[d],t[d]))return!1}return!0}return r!==r&&t!==t}function jy(r){return typeof window>"u"?1:(r.ownerDocument.defaultView||window).devicePixelRatio||1}function vm(r,t){const n=jy(r);return Math.round(t*n)/n}function mf(r){const t=T.useRef(r);return ju(()=>{t.current=r}),t}function xI(r){r===void 0&&(r={});const{placement:t="bottom",strategy:n="absolute",middleware:a=[],platform:c,elements:{reference:d,floating:p}={},transform:w=!0,whileElementsMounted:b,open:y}=r,[A,_]=T.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[O,R]=T.useState(a);Xu(O,a)||R(a);const[M,k]=T.useState(null),[L,z]=T.useState(null),U=T.useCallback(J=>{J!==Z.current&&(Z.current=J,k(J))},[]),F=T.useCallback(J=>{J!==H.current&&(H.current=J,z(J))},[]),$=d||M,X=p||L,Z=T.useRef(null),H=T.useRef(null),K=T.useRef(A),V=b!=null,ge=mf(b),Ee=mf(c),ce=mf(y),ve=T.useCallback(()=>{if(!Z.current||!H.current)return;const J={placement:t,strategy:n,middleware:O};Ee.current&&(J.platform=Ee.current),gI(Z.current,H.current,J).then(ne=>{const oe={...ne,isPositioned:ce.current!==!1};Ce.current&&!Xu(K.current,oe)&&(K.current=oe,Va.flushSync(()=>{_(oe)}))})},[O,t,n,Ee,ce]);ju(()=>{y===!1&&K.current.isPositioned&&(K.current.isPositioned=!1,_(J=>({...J,isPositioned:!1})))},[y]);const Ce=T.useRef(!1);ju(()=>(Ce.current=!0,()=>{Ce.current=!1}),[]),ju(()=>{if($&&(Z.current=$),X&&(H.current=X),$&&X){if(ge.current)return ge.current($,X,ve);ve()}},[$,X,ve,ge,V]);const ie=T.useMemo(()=>({reference:Z,floating:H,setReference:U,setFloating:F}),[U,F]),he=T.useMemo(()=>({reference:$,floating:X}),[$,X]),se=T.useMemo(()=>{const J={position:n,left:0,top:0};if(!he.floating)return J;const ne=vm(he.floating,A.x),oe=vm(he.floating,A.y);return w?{...J,transform:"translate("+ne+"px, "+oe+"px)",...jy(he.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ne,top:oe}},[n,w,he.floating,A.x,A.y]);return T.useMemo(()=>({...A,update:ve,refs:ie,elements:he,floatingStyles:se}),[A,ve,ie,he,se])}const wI=r=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:r,fn(n){const{element:a,padding:c}=typeof r=="function"?r(n):r;return a&&t(a)?a.current!=null?ym({element:a.current,padding:c}).fn(n):{}:a?ym({element:a,padding:c}).fn(n):{}}}},yI=(r,t)=>({...lI(r),options:[r,t]}),vI=(r,t)=>({...cI(r),options:[r,t]}),bI=(r,t)=>({...fI(r),options:[r,t]}),EI=(r,t)=>({...uI(r),options:[r,t]}),CI=(r,t)=>({...dI(r),options:[r,t]}),SI=(r,t)=>({...hI(r),options:[r,t]}),AI=(r,t)=>({...wI(r),options:[r,t]});var _I="Arrow",My=T.forwardRef((r,t)=>{const{children:n,width:a=10,height:c=5,...d}=r;return m.jsx(xt.svg,{...d,ref:t,width:a,height:c,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:r.asChild?n:m.jsx("polygon",{points:"0,0 30,0 15,10"})})});My.displayName=_I;var NI=My;function ud(r){const[t,n]=T.useState(void 0);return Yn(()=>{if(r){n({width:r.offsetWidth,height:r.offsetHeight});const a=new ResizeObserver(c=>{if(!Array.isArray(c)||!c.length)return;const d=c[0];let p,w;if("borderBoxSize"in d){const b=d.borderBoxSize,y=Array.isArray(b)?b[0]:b;p=y.inlineSize,w=y.blockSize}else p=r.offsetWidth,w=r.offsetHeight;n({width:p,height:w})});return a.observe(r,{box:"border-box"}),()=>a.unobserve(r)}else n(void 0)},[r]),t}var Z0="Popper",[Ly,By]=Qr(Z0),[II,Fy]=Ly(Z0),Uy=r=>{const{__scopePopper:t,children:n}=r,[a,c]=T.useState(null);return m.jsx(II,{scope:t,anchor:a,onAnchorChange:c,children:n})};Uy.displayName=Z0;var zy="PopperAnchor",Vy=T.forwardRef((r,t)=>{const{__scopePopper:n,virtualRef:a,...c}=r,d=Fy(zy,n),p=T.useRef(null),w=Ut(t,p),b=T.useRef(null);return T.useEffect(()=>{const y=b.current;b.current=a?.current||p.current,y!==b.current&&d.onAnchorChange(b.current)}),a?null:m.jsx(xt.div,{...c,ref:w})});Vy.displayName=zy;var Q0="PopperContent",[TI,RI]=Ly(Q0),Wy=T.forwardRef((r,t)=>{const{__scopePopper:n,side:a="bottom",sideOffset:c=0,align:d="center",alignOffset:p=0,arrowPadding:w=0,avoidCollisions:b=!0,collisionBoundary:y=[],collisionPadding:A=0,sticky:_="partial",hideWhenDetached:O=!1,updatePositionStrategy:R="optimized",onPlaced:M,...k}=r,L=Fy(Q0,n),[z,U]=T.useState(null),F=Ut(t,pe=>U(pe)),[$,X]=T.useState(null),Z=ud($),H=Z?.width??0,K=Z?.height??0,V=a+(d!=="center"?"-"+d:""),ge=typeof A=="number"?A:{top:0,right:0,bottom:0,left:0,...A},Ee=Array.isArray(y)?y:[y],ce=Ee.length>0,ve={padding:ge,boundary:Ee.filter(OI),altBoundary:ce},{refs:Ce,floatingStyles:ie,placement:he,isPositioned:se,middlewareData:J}=xI({strategy:"fixed",placement:V,whileElementsMounted:(...pe)=>aI(...pe,{animationFrame:R==="always"}),elements:{reference:L.anchor},middleware:[yI({mainAxis:c+K,alignmentAxis:p}),b&&vI({mainAxis:!0,crossAxis:!1,limiter:_==="partial"?bI():void 0,...ve}),b&&EI({...ve}),CI({...ve,apply:({elements:pe,rects:Te,availableWidth:We,availableHeight:Qe})=>{const{width:st,height:St}=Te.reference,ot=pe.floating.style;ot.setProperty("--radix-popper-available-width",`${We}px`),ot.setProperty("--radix-popper-available-height",`${Qe}px`),ot.setProperty("--radix-popper-anchor-width",`${st}px`),ot.setProperty("--radix-popper-anchor-height",`${St}px`)}}),$&&AI({element:$,padding:w}),PI({arrowWidth:H,arrowHeight:K}),O&&SI({strategy:"referenceHidden",...ve})]}),[ne,oe]=Gy(he),Y=Us(M);Yn(()=>{se&&Y?.()},[se,Y]);const le=J.arrow?.x,Ae=J.arrow?.y,ke=J.arrow?.centerOffset!==0,[ye,be]=T.useState();return Yn(()=>{z&&be(window.getComputedStyle(z).zIndex)},[z]),m.jsx("div",{ref:Ce.setFloating,"data-radix-popper-content-wrapper":"",style:{...ie,transform:se?ie.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ye,"--radix-popper-transform-origin":[J.transformOrigin?.x,J.transformOrigin?.y].join(" "),...J.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:r.dir,children:m.jsx(TI,{scope:n,placedSide:ne,onArrowChange:X,arrowX:le,arrowY:Ae,shouldHideArrow:ke,children:m.jsx(xt.div,{"data-side":ne,"data-align":oe,...k,ref:F,style:{...k.style,animation:se?void 0:"none"}})})})});Wy.displayName=Q0;var Hy="PopperArrow",kI={top:"bottom",right:"left",bottom:"top",left:"right"},$y=T.forwardRef(function(t,n){const{__scopePopper:a,...c}=t,d=RI(Hy,a),p=kI[d.placedSide];return m.jsx("span",{ref:d.onArrowChange,style:{position:"absolute",left:d.arrowX,top:d.arrowY,[p]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[d.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[d.placedSide],visibility:d.shouldHideArrow?"hidden":void 0},children:m.jsx(NI,{...c,ref:n,style:{...c.style,display:"block"}})})});$y.displayName=Hy;function OI(r){return r!==null}var PI=r=>({name:"transformOrigin",options:r,fn(t){const{placement:n,rects:a,middlewareData:c}=t,p=c.arrow?.centerOffset!==0,w=p?0:r.arrowWidth,b=p?0:r.arrowHeight,[y,A]=Gy(n),_={start:"0%",center:"50%",end:"100%"}[A],O=(c.arrow?.x??0)+w/2,R=(c.arrow?.y??0)+b/2;let M="",k="";return y==="bottom"?(M=p?_:`${O}px`,k=`${-b}px`):y==="top"?(M=p?_:`${O}px`,k=`${a.floating.height+b}px`):y==="right"?(M=`${-b}px`,k=p?_:`${R}px`):y==="left"&&(M=`${a.floating.width+b}px`,k=p?_:`${R}px`),{data:{x:M,y:k}}}});function Gy(r){const[t,n="center"]=r.split("-");return[t,n]}var DI=Uy,jI=Vy,MI=Wy,LI=$y;function BI(r){const t=FI(r),n=T.forwardRef((a,c)=>{const{children:d,...p}=a,w=T.Children.toArray(d),b=w.find(zI);if(b){const y=b.props.children,A=w.map(_=>_===b?T.Children.count(y)>1?T.Children.only(null):T.isValidElement(y)?y.props.children:null:_);return m.jsx(t,{...p,ref:c,children:T.isValidElement(y)?T.cloneElement(y,void 0,A):null})}return m.jsx(t,{...p,ref:c,children:d})});return n.displayName=`${r}.Slot`,n}function FI(r){const t=T.forwardRef((n,a)=>{const{children:c,...d}=n;if(T.isValidElement(c)){const p=WI(c),w=VI(d,c.props);return c.type!==T.Fragment&&(w.ref=a?Fa(a,p):p),T.cloneElement(c,w)}return T.Children.count(c)>1?T.Children.only(null):null});return t.displayName=`${r}.SlotClone`,t}var UI=Symbol("radix.slottable");function zI(r){return T.isValidElement(r)&&typeof r.type=="function"&&"__radixId"in r.type&&r.type.__radixId===UI}function VI(r,t){const n={...t};for(const a in t){const c=r[a],d=t[a];/^on[A-Z]/.test(a)?c&&d?n[a]=(...w)=>{const b=d(...w);return c(...w),b}:c&&(n[a]=c):a==="style"?n[a]={...c,...d}:a==="className"&&(n[a]=[c,d].filter(Boolean).join(" "))}return{...r,...n}}function WI(r){let t=Object.getOwnPropertyDescriptor(r.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?r.ref:(t=Object.getOwnPropertyDescriptor(r,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?r.props.ref:r.props.ref||r.ref)}function dd(r){const t=T.useRef({value:r,previous:r});return T.useMemo(()=>(t.current.value!==r&&(t.current.previous=t.current.value,t.current.value=r),t.current.previous),[r])}var qy=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),HI="VisuallyHidden",$I=T.forwardRef((r,t)=>m.jsx(xt.span,{...r,ref:t,style:{...qy,...r.style}}));$I.displayName=HI;var GI=[" ","Enter","ArrowUp","ArrowDown"],qI=[" ","Enter"],Po="Select",[hd,fd,XI]=M0(Po),[Ga]=Qr(Po,[XI,By]),gd=By(),[KI,Gs]=Ga(Po),[YI,ZI]=Ga(Po),Xy=r=>{const{__scopeSelect:t,children:n,open:a,defaultOpen:c,onOpenChange:d,value:p,defaultValue:w,onValueChange:b,dir:y,name:A,autoComplete:_,disabled:O,required:R,form:M}=r,k=gd(t),[L,z]=T.useState(null),[U,F]=T.useState(null),[$,X]=T.useState(!1),Z=Jl(y),[H,K]=mi({prop:a,defaultProp:c??!1,onChange:d,caller:Po}),[V,ge]=mi({prop:p,defaultProp:w,onChange:b,caller:Po}),Ee=T.useRef(null),ce=L?M||!!L.closest("form"):!0,[ve,Ce]=T.useState(new Set),ie=Array.from(ve).map(he=>he.props.value).join(";");return m.jsx(DI,{...k,children:m.jsxs(KI,{required:R,scope:t,trigger:L,onTriggerChange:z,valueNode:U,onValueNodeChange:F,valueNodeHasChildren:$,onValueNodeHasChildrenChange:X,contentId:ji(),value:V,onValueChange:ge,open:H,onOpenChange:K,dir:Z,triggerPointerDownPosRef:Ee,disabled:O,children:[m.jsx(hd.Provider,{scope:t,children:m.jsx(YI,{scope:r.__scopeSelect,onNativeOptionAdd:T.useCallback(he=>{Ce(se=>new Set(se).add(he))},[]),onNativeOptionRemove:T.useCallback(he=>{Ce(se=>{const J=new Set(se);return J.delete(he),J})},[]),children:n})}),ce?m.jsxs(mv,{"aria-hidden":!0,required:R,tabIndex:-1,name:A,autoComplete:_,value:V,onChange:he=>ge(he.target.value),disabled:O,form:M,children:[V===void 0?m.jsx("option",{value:""}):null,Array.from(ve)]},ie):null]})})};Xy.displayName=Po;var Ky="SelectTrigger",Yy=T.forwardRef((r,t)=>{const{__scopeSelect:n,disabled:a=!1,...c}=r,d=gd(n),p=Gs(Ky,n),w=p.disabled||a,b=Ut(t,p.onTriggerChange),y=fd(n),A=T.useRef("touch"),[_,O,R]=wv(k=>{const L=y().filter(F=>!F.disabled),z=L.find(F=>F.value===p.value),U=yv(L,k,z);U!==void 0&&p.onValueChange(U.value)}),M=k=>{w||(p.onOpenChange(!0),R()),k&&(p.triggerPointerDownPosRef.current={x:Math.round(k.pageX),y:Math.round(k.pageY)})};return m.jsx(jI,{asChild:!0,...d,children:m.jsx(xt.button,{type:"button",role:"combobox","aria-controls":p.contentId,"aria-expanded":p.open,"aria-required":p.required,"aria-autocomplete":"none",dir:p.dir,"data-state":p.open?"open":"closed",disabled:w,"data-disabled":w?"":void 0,"data-placeholder":xv(p.value)?"":void 0,...c,ref:b,onClick:Et(c.onClick,k=>{k.currentTarget.focus(),A.current!=="mouse"&&M(k)}),onPointerDown:Et(c.onPointerDown,k=>{A.current=k.pointerType;const L=k.target;L.hasPointerCapture(k.pointerId)&&L.releasePointerCapture(k.pointerId),k.button===0&&k.ctrlKey===!1&&k.pointerType==="mouse"&&(M(k),k.preventDefault())}),onKeyDown:Et(c.onKeyDown,k=>{const L=_.current!=="";!(k.ctrlKey||k.altKey||k.metaKey)&&k.key.length===1&&O(k.key),!(L&&k.key===" ")&&GI.includes(k.key)&&(M(),k.preventDefault())})})})});Yy.displayName=Ky;var Zy="SelectValue",Qy=T.forwardRef((r,t)=>{const{__scopeSelect:n,className:a,style:c,children:d,placeholder:p="",...w}=r,b=Gs(Zy,n),{onValueNodeHasChildrenChange:y}=b,A=d!==void 0,_=Ut(t,b.onValueNodeChange);return Yn(()=>{y(A)},[y,A]),m.jsx(xt.span,{...w,ref:_,style:{pointerEvents:"none"},children:xv(b.value)?m.jsx(m.Fragment,{children:p}):d})});Qy.displayName=Zy;var QI="SelectIcon",Jy=T.forwardRef((r,t)=>{const{__scopeSelect:n,children:a,...c}=r;return m.jsx(xt.span,{"aria-hidden":!0,...c,ref:t,children:a||""})});Jy.displayName=QI;var JI="SelectPortal",ev=r=>m.jsx(U0,{asChild:!0,...r});ev.displayName=JI;var Do="SelectContent",tv=T.forwardRef((r,t)=>{const n=Gs(Do,r.__scopeSelect),[a,c]=T.useState();if(Yn(()=>{c(new DocumentFragment)},[]),!n.open){const d=a;return d?Va.createPortal(m.jsx(nv,{scope:r.__scopeSelect,children:m.jsx(hd.Slot,{scope:r.__scopeSelect,children:m.jsx("div",{children:r.children})})}),d):null}return m.jsx(rv,{...r,ref:t})});tv.displayName=Do;var ui=10,[nv,qs]=Ga(Do),e4="SelectContentImpl",t4=BI("SelectContent.RemoveScroll"),rv=T.forwardRef((r,t)=>{const{__scopeSelect:n,position:a="item-aligned",onCloseAutoFocus:c,onEscapeKeyDown:d,onPointerDownOutside:p,side:w,sideOffset:b,align:y,alignOffset:A,arrowPadding:_,collisionBoundary:O,collisionPadding:R,sticky:M,hideWhenDetached:k,avoidCollisions:L,...z}=r,U=Gs(Do,n),[F,$]=T.useState(null),[X,Z]=T.useState(null),H=Ut(t,pe=>$(pe)),[K,V]=T.useState(null),[ge,Ee]=T.useState(null),ce=fd(n),[ve,Ce]=T.useState(!1),ie=T.useRef(!1);T.useEffect(()=>{if(F)return oy(F)},[F]),Qw();const he=T.useCallback(pe=>{const[Te,...We]=ce().map(St=>St.ref.current),[Qe]=We.slice(-1),st=document.activeElement;for(const St of pe)if(St===st||(St?.scrollIntoView({block:"nearest"}),St===Te&&X&&(X.scrollTop=0),St===Qe&&X&&(X.scrollTop=X.scrollHeight),St?.focus(),document.activeElement!==st))return},[ce,X]),se=T.useCallback(()=>he([K,F]),[he,K,F]);T.useEffect(()=>{ve&&se()},[ve,se]);const{onOpenChange:J,triggerPointerDownPosRef:ne}=U;T.useEffect(()=>{if(F){let pe={x:0,y:0};const Te=Qe=>{pe={x:Math.abs(Math.round(Qe.pageX)-(ne.current?.x??0)),y:Math.abs(Math.round(Qe.pageY)-(ne.current?.y??0))}},We=Qe=>{pe.x<=10&&pe.y<=10?Qe.preventDefault():F.contains(Qe.target)||J(!1),document.removeEventListener("pointermove",Te),ne.current=null};return ne.current!==null&&(document.addEventListener("pointermove",Te),document.addEventListener("pointerup",We,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Te),document.removeEventListener("pointerup",We,{capture:!0})}}},[F,J,ne]),T.useEffect(()=>{const pe=()=>J(!1);return window.addEventListener("blur",pe),window.addEventListener("resize",pe),()=>{window.removeEventListener("blur",pe),window.removeEventListener("resize",pe)}},[J]);const[oe,Y]=wv(pe=>{const Te=ce().filter(st=>!st.disabled),We=Te.find(st=>st.ref.current===document.activeElement),Qe=yv(Te,pe,We);Qe&&setTimeout(()=>Qe.ref.current.focus())}),le=T.useCallback((pe,Te,We)=>{const Qe=!ie.current&&!We;(U.value!==void 0&&U.value===Te||Qe)&&(V(pe),Qe&&(ie.current=!0))},[U.value]),Ae=T.useCallback(()=>F?.focus(),[F]),ke=T.useCallback((pe,Te,We)=>{const Qe=!ie.current&&!We;(U.value!==void 0&&U.value===Te||Qe)&&Ee(pe)},[U.value]),ye=a==="popper"?u0:iv,be=ye===u0?{side:w,sideOffset:b,align:y,alignOffset:A,arrowPadding:_,collisionBoundary:O,collisionPadding:R,sticky:M,hideWhenDetached:k,avoidCollisions:L}:{};return m.jsx(nv,{scope:n,content:F,viewport:X,onViewportChange:Z,itemRefCallback:le,selectedItem:K,onItemLeave:Ae,itemTextRefCallback:ke,focusSelectedItem:se,selectedItemText:ge,position:a,isPositioned:ve,searchRef:oe,children:m.jsx(z0,{as:t4,allowPinchZoom:!0,children:m.jsx(F0,{asChild:!0,trapped:U.open,onMountAutoFocus:pe=>{pe.preventDefault()},onUnmountAutoFocus:Et(c,pe=>{U.trigger?.focus({preventScroll:!0}),pe.preventDefault()}),children:m.jsx(B0,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:d,onPointerDownOutside:p,onFocusOutside:pe=>pe.preventDefault(),onDismiss:()=>U.onOpenChange(!1),children:m.jsx(ye,{role:"listbox",id:U.contentId,"data-state":U.open?"open":"closed",dir:U.dir,onContextMenu:pe=>pe.preventDefault(),...z,...be,onPlaced:()=>Ce(!0),ref:H,style:{display:"flex",flexDirection:"column",outline:"none",...z.style},onKeyDown:Et(z.onKeyDown,pe=>{const Te=pe.ctrlKey||pe.altKey||pe.metaKey;if(pe.key==="Tab"&&pe.preventDefault(),!Te&&pe.key.length===1&&Y(pe.key),["ArrowUp","ArrowDown","Home","End"].includes(pe.key)){let Qe=ce().filter(st=>!st.disabled).map(st=>st.ref.current);if(["ArrowUp","End"].includes(pe.key)&&(Qe=Qe.slice().reverse()),["ArrowUp","ArrowDown"].includes(pe.key)){const st=pe.target,St=Qe.indexOf(st);Qe=Qe.slice(St+1)}setTimeout(()=>he(Qe)),pe.preventDefault()}})})})})})})});rv.displayName=e4;var n4="SelectItemAlignedPosition",iv=T.forwardRef((r,t)=>{const{__scopeSelect:n,onPlaced:a,...c}=r,d=Gs(Do,n),p=qs(Do,n),[w,b]=T.useState(null),[y,A]=T.useState(null),_=Ut(t,H=>A(H)),O=fd(n),R=T.useRef(!1),M=T.useRef(!0),{viewport:k,selectedItem:L,selectedItemText:z,focusSelectedItem:U}=p,F=T.useCallback(()=>{if(d.trigger&&d.valueNode&&w&&y&&k&&L&&z){const H=d.trigger.getBoundingClientRect(),K=y.getBoundingClientRect(),V=d.valueNode.getBoundingClientRect(),ge=z.getBoundingClientRect();if(d.dir!=="rtl"){const st=ge.left-K.left,St=V.left-st,ot=H.left-St,hn=H.width+ot,De=Math.max(hn,K.width),Be=window.innerWidth-ui,it=cm(St,[ui,Math.max(ui,Be-De)]);w.style.minWidth=hn+"px",w.style.left=it+"px"}else{const st=K.right-ge.right,St=window.innerWidth-V.right-st,ot=window.innerWidth-H.right-St,hn=H.width+ot,De=Math.max(hn,K.width),Be=window.innerWidth-ui,it=cm(St,[ui,Math.max(ui,Be-De)]);w.style.minWidth=hn+"px",w.style.right=it+"px"}const Ee=O(),ce=window.innerHeight-ui*2,ve=k.scrollHeight,Ce=window.getComputedStyle(y),ie=parseInt(Ce.borderTopWidth,10),he=parseInt(Ce.paddingTop,10),se=parseInt(Ce.borderBottomWidth,10),J=parseInt(Ce.paddingBottom,10),ne=ie+he+ve+J+se,oe=Math.min(L.offsetHeight*5,ne),Y=window.getComputedStyle(k),le=parseInt(Y.paddingTop,10),Ae=parseInt(Y.paddingBottom,10),ke=H.top+H.height/2-ui,ye=ce-ke,be=L.offsetHeight/2,pe=L.offsetTop+be,Te=ie+he+pe,We=ne-Te;if(Te<=ke){const st=Ee.length>0&&L===Ee[Ee.length-1].ref.current;w.style.bottom="0px";const St=y.clientHeight-k.offsetTop-k.offsetHeight,ot=Math.max(ye,be+(st?Ae:0)+St+se),hn=Te+ot;w.style.height=hn+"px"}else{const st=Ee.length>0&&L===Ee[0].ref.current;w.style.top="0px";const ot=Math.max(ke,ie+k.offsetTop+(st?le:0)+be)+We;w.style.height=ot+"px",k.scrollTop=Te-ke+k.offsetTop}w.style.margin=`${ui}px 0`,w.style.minHeight=oe+"px",w.style.maxHeight=ce+"px",a?.(),requestAnimationFrame(()=>R.current=!0)}},[O,d.trigger,d.valueNode,w,y,k,L,z,d.dir,a]);Yn(()=>F(),[F]);const[$,X]=T.useState();Yn(()=>{y&&X(window.getComputedStyle(y).zIndex)},[y]);const Z=T.useCallback(H=>{H&&M.current===!0&&(F(),U?.(),M.current=!1)},[F,U]);return m.jsx(i4,{scope:n,contentWrapper:w,shouldExpandOnScrollRef:R,onScrollButtonChange:Z,children:m.jsx("div",{ref:b,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:$},children:m.jsx(xt.div,{...c,ref:_,style:{boxSizing:"border-box",maxHeight:"100%",...c.style}})})})});iv.displayName=n4;var r4="SelectPopperPosition",u0=T.forwardRef((r,t)=>{const{__scopeSelect:n,align:a="start",collisionPadding:c=ui,...d}=r,p=gd(n);return m.jsx(MI,{...p,...d,ref:t,align:a,collisionPadding:c,style:{boxSizing:"border-box",...d.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});u0.displayName=r4;var[i4,J0]=Ga(Do,{}),d0="SelectViewport",sv=T.forwardRef((r,t)=>{const{__scopeSelect:n,nonce:a,...c}=r,d=qs(d0,n),p=J0(d0,n),w=Ut(t,d.onViewportChange),b=T.useRef(0);return m.jsxs(m.Fragment,{children:[m.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),m.jsx(hd.Slot,{scope:n,children:m.jsx(xt.div,{"data-radix-select-viewport":"",role:"presentation",...c,ref:w,style:{position:"relative",flex:1,overflow:"hidden auto",...c.style},onScroll:Et(c.onScroll,y=>{const A=y.currentTarget,{contentWrapper:_,shouldExpandOnScrollRef:O}=p;if(O?.current&&_){const R=Math.abs(b.current-A.scrollTop);if(R>0){const M=window.innerHeight-ui*2,k=parseFloat(_.style.minHeight),L=parseFloat(_.style.height),z=Math.max(k,L);if(z<M){const U=z+R,F=Math.min(M,U),$=U-F;_.style.height=F+"px",_.style.bottom==="0px"&&(A.scrollTop=$>0?$:0,_.style.justifyContent="flex-end")}}}b.current=A.scrollTop})})})]})});sv.displayName=d0;var ov="SelectGroup",[s4,o4]=Ga(ov),a4=T.forwardRef((r,t)=>{const{__scopeSelect:n,...a}=r,c=ji();return m.jsx(s4,{scope:n,id:c,children:m.jsx(xt.div,{role:"group","aria-labelledby":c,...a,ref:t})})});a4.displayName=ov;var av="SelectLabel",l4=T.forwardRef((r,t)=>{const{__scopeSelect:n,...a}=r,c=o4(av,n);return m.jsx(xt.div,{id:c.id,...a,ref:t})});l4.displayName=av;var Ku="SelectItem",[c4,lv]=Ga(Ku),cv=T.forwardRef((r,t)=>{const{__scopeSelect:n,value:a,disabled:c=!1,textValue:d,...p}=r,w=Gs(Ku,n),b=qs(Ku,n),y=w.value===a,[A,_]=T.useState(d??""),[O,R]=T.useState(!1),M=Ut(t,U=>b.itemRefCallback?.(U,a,c)),k=ji(),L=T.useRef("touch"),z=()=>{c||(w.onValueChange(a),w.onOpenChange(!1))};if(a==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return m.jsx(c4,{scope:n,value:a,disabled:c,textId:k,isSelected:y,onItemTextChange:T.useCallback(U=>{_(F=>F||(U?.textContent??"").trim())},[]),children:m.jsx(hd.ItemSlot,{scope:n,value:a,disabled:c,textValue:A,children:m.jsx(xt.div,{role:"option","aria-labelledby":k,"data-highlighted":O?"":void 0,"aria-selected":y&&O,"data-state":y?"checked":"unchecked","aria-disabled":c||void 0,"data-disabled":c?"":void 0,tabIndex:c?void 0:-1,...p,ref:M,onFocus:Et(p.onFocus,()=>R(!0)),onBlur:Et(p.onBlur,()=>R(!1)),onClick:Et(p.onClick,()=>{L.current!=="mouse"&&z()}),onPointerUp:Et(p.onPointerUp,()=>{L.current==="mouse"&&z()}),onPointerDown:Et(p.onPointerDown,U=>{L.current=U.pointerType}),onPointerMove:Et(p.onPointerMove,U=>{L.current=U.pointerType,c?b.onItemLeave?.():L.current==="mouse"&&U.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Et(p.onPointerLeave,U=>{U.currentTarget===document.activeElement&&b.onItemLeave?.()}),onKeyDown:Et(p.onKeyDown,U=>{b.searchRef?.current!==""&&U.key===" "||(qI.includes(U.key)&&z(),U.key===" "&&U.preventDefault())})})})})});cv.displayName=Ku;var Bl="SelectItemText",uv=T.forwardRef((r,t)=>{const{__scopeSelect:n,className:a,style:c,...d}=r,p=Gs(Bl,n),w=qs(Bl,n),b=lv(Bl,n),y=ZI(Bl,n),[A,_]=T.useState(null),O=Ut(t,z=>_(z),b.onItemTextChange,z=>w.itemTextRefCallback?.(z,b.value,b.disabled)),R=A?.textContent,M=T.useMemo(()=>m.jsx("option",{value:b.value,disabled:b.disabled,children:R},b.value),[b.disabled,b.value,R]),{onNativeOptionAdd:k,onNativeOptionRemove:L}=y;return Yn(()=>(k(M),()=>L(M)),[k,L,M]),m.jsxs(m.Fragment,{children:[m.jsx(xt.span,{id:b.textId,...d,ref:O}),b.isSelected&&p.valueNode&&!p.valueNodeHasChildren?Va.createPortal(d.children,p.valueNode):null]})});uv.displayName=Bl;var dv="SelectItemIndicator",hv=T.forwardRef((r,t)=>{const{__scopeSelect:n,...a}=r;return lv(dv,n).isSelected?m.jsx(xt.span,{"aria-hidden":!0,...a,ref:t}):null});hv.displayName=dv;var h0="SelectScrollUpButton",fv=T.forwardRef((r,t)=>{const n=qs(h0,r.__scopeSelect),a=J0(h0,r.__scopeSelect),[c,d]=T.useState(!1),p=Ut(t,a.onScrollButtonChange);return Yn(()=>{if(n.viewport&&n.isPositioned){let w=function(){const y=b.scrollTop>0;d(y)};const b=n.viewport;return w(),b.addEventListener("scroll",w),()=>b.removeEventListener("scroll",w)}},[n.viewport,n.isPositioned]),c?m.jsx(pv,{...r,ref:p,onAutoScroll:()=>{const{viewport:w,selectedItem:b}=n;w&&b&&(w.scrollTop=w.scrollTop-b.offsetHeight)}}):null});fv.displayName=h0;var f0="SelectScrollDownButton",gv=T.forwardRef((r,t)=>{const n=qs(f0,r.__scopeSelect),a=J0(f0,r.__scopeSelect),[c,d]=T.useState(!1),p=Ut(t,a.onScrollButtonChange);return Yn(()=>{if(n.viewport&&n.isPositioned){let w=function(){const y=b.scrollHeight-b.clientHeight,A=Math.ceil(b.scrollTop)<y;d(A)};const b=n.viewport;return w(),b.addEventListener("scroll",w),()=>b.removeEventListener("scroll",w)}},[n.viewport,n.isPositioned]),c?m.jsx(pv,{...r,ref:p,onAutoScroll:()=>{const{viewport:w,selectedItem:b}=n;w&&b&&(w.scrollTop=w.scrollTop+b.offsetHeight)}}):null});gv.displayName=f0;var pv=T.forwardRef((r,t)=>{const{__scopeSelect:n,onAutoScroll:a,...c}=r,d=qs("SelectScrollButton",n),p=T.useRef(null),w=fd(n),b=T.useCallback(()=>{p.current!==null&&(window.clearInterval(p.current),p.current=null)},[]);return T.useEffect(()=>()=>b(),[b]),Yn(()=>{w().find(A=>A.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[w]),m.jsx(xt.div,{"aria-hidden":!0,...c,ref:t,style:{flexShrink:0,...c.style},onPointerDown:Et(c.onPointerDown,()=>{p.current===null&&(p.current=window.setInterval(a,50))}),onPointerMove:Et(c.onPointerMove,()=>{d.onItemLeave?.(),p.current===null&&(p.current=window.setInterval(a,50))}),onPointerLeave:Et(c.onPointerLeave,()=>{b()})})}),u4="SelectSeparator",d4=T.forwardRef((r,t)=>{const{__scopeSelect:n,...a}=r;return m.jsx(xt.div,{"aria-hidden":!0,...a,ref:t})});d4.displayName=u4;var g0="SelectArrow",h4=T.forwardRef((r,t)=>{const{__scopeSelect:n,...a}=r,c=gd(n),d=Gs(g0,n),p=qs(g0,n);return d.open&&p.position==="popper"?m.jsx(LI,{...c,...a,ref:t}):null});h4.displayName=g0;var f4="SelectBubbleInput",mv=T.forwardRef(({__scopeSelect:r,value:t,...n},a)=>{const c=T.useRef(null),d=Ut(a,c),p=dd(t);return T.useEffect(()=>{const w=c.current;if(!w)return;const b=window.HTMLSelectElement.prototype,A=Object.getOwnPropertyDescriptor(b,"value").set;if(p!==t&&A){const _=new Event("change",{bubbles:!0});A.call(w,t),w.dispatchEvent(_)}},[p,t]),m.jsx(xt.select,{...n,style:{...qy,...n.style},ref:d,defaultValue:t})});mv.displayName=f4;function xv(r){return r===""||r===void 0}function wv(r){const t=Us(r),n=T.useRef(""),a=T.useRef(0),c=T.useCallback(p=>{const w=n.current+p;t(w),(function b(y){n.current=y,window.clearTimeout(a.current),y!==""&&(a.current=window.setTimeout(()=>b(""),1e3))})(w)},[t]),d=T.useCallback(()=>{n.current="",window.clearTimeout(a.current)},[]);return T.useEffect(()=>()=>window.clearTimeout(a.current),[]),[n,c,d]}function yv(r,t,n){const c=t.length>1&&Array.from(t).every(y=>y===t[0])?t[0]:t,d=n?r.indexOf(n):-1;let p=g4(r,Math.max(d,0));c.length===1&&(p=p.filter(y=>y!==n));const b=p.find(y=>y.textValue.toLowerCase().startsWith(c.toLowerCase()));return b!==n?b:void 0}function g4(r,t){return r.map((n,a)=>r[(t+a)%r.length])}var p4=Xy,m4=Yy,x4=Qy,w4=Jy,y4=ev,v4=tv,b4=sv,E4=cv,C4=uv,S4=hv,A4=fv,_4=gv;function Ia({...r}){return m.jsx(p4,{"data-slot":"select",...r})}function Ta({...r}){return m.jsx(x4,{"data-slot":"select-value",...r})}function Ra({className:r,size:t="default",children:n,...a}){return m.jsxs(m4,{"data-slot":"select-trigger","data-size":t,className:yt("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",r),...a,children:[n,m.jsx(w4,{asChild:!0,children:m.jsx(E0,{className:"size-4 opacity-50"})})]})}function ka({className:r,children:t,position:n="popper",...a}){return m.jsx(y4,{children:m.jsxs(v4,{"data-slot":"select-content",className:yt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:n,...a,children:[m.jsx(N4,{}),m.jsx(b4,{className:yt("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),m.jsx(I4,{})]})})}function dn({className:r,children:t,...n}){return m.jsxs(E4,{"data-slot":"select-item",className:yt("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",r),...n,children:[m.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:m.jsx(S4,{children:m.jsx(Px,{className:"size-4"})})}),m.jsx(C4,{children:t})]})}function N4({className:r,...t}){return m.jsx(A4,{"data-slot":"select-scroll-up-button",className:yt("flex cursor-default items-center justify-center py-1",r),...t,children:m.jsx(BE,{className:"size-4"})})}function I4({className:r,...t}){return m.jsx(_4,{"data-slot":"select-scroll-down-button",className:yt("flex cursor-default items-center justify-center py-1",r),...t,children:m.jsx(E0,{className:"size-4"})})}var pd="Checkbox",[T4]=Qr(pd),[R4,e1]=T4(pd);function k4(r){const{__scopeCheckbox:t,checked:n,children:a,defaultChecked:c,disabled:d,form:p,name:w,onCheckedChange:b,required:y,value:A="on",internal_do_not_use_render:_}=r,[O,R]=mi({prop:n,defaultProp:c??!1,onChange:b,caller:pd}),[M,k]=T.useState(null),[L,z]=T.useState(null),U=T.useRef(!1),F=M?!!p||!!M.closest("form"):!0,$={checked:O,disabled:d,setChecked:R,control:M,setControl:k,name:w,form:p,value:A,hasConsumerStoppedPropagationRef:U,required:y,defaultChecked:Ls(c)?!1:c,isFormControl:F,bubbleInput:L,setBubbleInput:z};return m.jsx(R4,{scope:t,...$,children:O4(_)?_($):a})}var vv="CheckboxTrigger",bv=T.forwardRef(({__scopeCheckbox:r,onKeyDown:t,onClick:n,...a},c)=>{const{control:d,value:p,disabled:w,checked:b,required:y,setControl:A,setChecked:_,hasConsumerStoppedPropagationRef:O,isFormControl:R,bubbleInput:M}=e1(vv,r),k=Ut(c,A),L=T.useRef(b);return T.useEffect(()=>{const z=d?.form;if(z){const U=()=>_(L.current);return z.addEventListener("reset",U),()=>z.removeEventListener("reset",U)}},[d,_]),m.jsx(xt.button,{type:"button",role:"checkbox","aria-checked":Ls(b)?"mixed":b,"aria-required":y,"data-state":Nv(b),"data-disabled":w?"":void 0,disabled:w,value:p,...a,ref:k,onKeyDown:Et(t,z=>{z.key==="Enter"&&z.preventDefault()}),onClick:Et(n,z=>{_(U=>Ls(U)?!0:!U),M&&R&&(O.current=z.isPropagationStopped(),O.current||z.stopPropagation())})})});bv.displayName=vv;var Ev=T.forwardRef((r,t)=>{const{__scopeCheckbox:n,name:a,checked:c,defaultChecked:d,required:p,disabled:w,value:b,onCheckedChange:y,form:A,..._}=r;return m.jsx(k4,{__scopeCheckbox:n,checked:c,defaultChecked:d,disabled:w,required:p,onCheckedChange:y,name:a,form:A,value:b,internal_do_not_use_render:({isFormControl:O})=>m.jsxs(m.Fragment,{children:[m.jsx(bv,{..._,ref:t,__scopeCheckbox:n}),O&&m.jsx(_v,{__scopeCheckbox:n})]})})});Ev.displayName=pd;var Cv="CheckboxIndicator",Sv=T.forwardRef((r,t)=>{const{__scopeCheckbox:n,forceMount:a,...c}=r,d=e1(Cv,n);return m.jsx($s,{present:a||Ls(d.checked)||d.checked===!0,children:m.jsx(xt.span,{"data-state":Nv(d.checked),"data-disabled":d.disabled?"":void 0,...c,ref:t,style:{pointerEvents:"none",...r.style}})})});Sv.displayName=Cv;var Av="CheckboxBubbleInput",_v=T.forwardRef(({__scopeCheckbox:r,...t},n)=>{const{control:a,hasConsumerStoppedPropagationRef:c,checked:d,defaultChecked:p,required:w,disabled:b,name:y,value:A,form:_,bubbleInput:O,setBubbleInput:R}=e1(Av,r),M=Ut(n,R),k=dd(d),L=ud(a);T.useEffect(()=>{const U=O;if(!U)return;const F=window.HTMLInputElement.prototype,X=Object.getOwnPropertyDescriptor(F,"checked").set,Z=!c.current;if(k!==d&&X){const H=new Event("click",{bubbles:Z});U.indeterminate=Ls(d),X.call(U,Ls(d)?!1:d),U.dispatchEvent(H)}},[O,k,d,c]);const z=T.useRef(Ls(d)?!1:d);return m.jsx(xt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:p??z.current,required:w,disabled:b,name:y,value:A,form:_,...t,tabIndex:-1,ref:M,style:{...t.style,...L,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});_v.displayName=Av;function O4(r){return typeof r=="function"}function Ls(r){return r==="indeterminate"}function Nv(r){return Ls(r)?"indeterminate":r?"checked":"unchecked"}function bm({className:r,...t}){return m.jsx(Ev,{"data-slot":"checkbox",className:yt("peer border bg-input-background dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",r),...t,children:m.jsx(Sv,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:m.jsx(Px,{className:"size-3.5"})})})}const Cr={getAllEvents:()=>(console.warn("[STUB] getAllEvents - Not implemented, returning empty array"),[]),getEventById:r=>(console.warn("[STUB] getEventById - Not implemented"),null),getSelectedEventId:()=>(console.warn("[STUB] getSelectedEventId - Not implemented"),null),getAllParticipants:r=>(console.warn("[STUB] getAllParticipants - Not implemented"),[]),getParticipantsByEvent:r=>(console.warn("[STUB] getParticipantsByEvent - Not implemented"),[]),getParticipantById:r=>(console.warn("[STUB] getParticipantById - Not implemented"),null),saveParticipant:r=>{console.warn("[STUB] saveParticipant - Not implemented")},deleteParticipant:r=>{console.warn("[STUB] deleteParticipant - Not implemented")},generateParticipantId:()=>(console.warn("[STUB] generateParticipantId - Returning random ID"),"P_"+Math.random().toString(36).substr(2,9)),bulkImportParticipants:(r,t)=>(console.warn("[STUB] bulkImportParticipants - Not implemented"),{success:0,failed:r.length}),recordAttendance:(r,t)=>{console.warn("[STUB] recordAttendance - Not implemented")},getAllAgenda:r=>(console.warn("[STUB] getAllAgenda - Not implemented"),[]),getAgendaByEvent:r=>(console.warn("[STUB] getAgendaByEvent - Not implemented"),[]),saveAgendaItem:r=>{console.warn("[STUB] saveAgendaItem - Not implemented")},updateAgendaItem:(r,t)=>{console.warn("[STUB] updateAgendaItem - Not implemented")},deleteAgendaItem:r=>{console.warn("[STUB] deleteAgendaItem - Not implemented")},generateAgendaId:()=>(console.warn("[STUB] generateAgendaId - Returning random ID"),"A_"+Math.random().toString(36).substr(2,9)),addCustomField:(r,t)=>{console.warn("[STUB] addCustomField - Not implemented")},deleteCustomField:(r,t)=>{console.warn("[STUB] deleteCustomField - Not implemented")},reorderCustomFields:(r,t)=>{console.warn("[STUB] reorderCustomFields - Not implemented")},generateCustomFieldId:()=>(console.warn("[STUB] generateCustomFieldId - Returning random ID"),"CF_"+Math.random().toString(36).substr(2,9)),getColumnVisibility:r=>(console.warn("[STUB] getColumnVisibility - Returning defaults"),{phone:!0,company:!0,position:!0,attendance:!0,registered:!0}),updateColumnVisibility:(r,t)=>{console.warn("[STUB] updateColumnVisibility - Not implemented")},getBrandingSettings:r=>(console.warn("[STUB] getBrandingSettings - Returning defaults"),{logoSize:"medium",logoAlignment:"left",primaryColor:"#7C3AED",backgroundColor:"#FFFFFF",fontFamily:"sans-serif"}),updateBrandingSettings:(r,t)=>{console.warn("[STUB] updateBrandingSettings - Not implemented")},getBadgeSettings:r=>(console.warn("[STUB] getBadgeSettings - Returning defaults"),{showQR:!0,showAttendance:!0,backgroundColor:"#FFFFFF",textColor:"#000000",accentColor:"#7C3AED"}),updateBadgeSettings:(r,t)=>{console.warn("[STUB] updateBadgeSettings - Not implemented")}};function P4({eventId:r,onFieldsUpdated:t}){const[n,a]=T.useState(!1),[c,d]=T.useState([]),[p,w]=T.useState({phone:!0,company:!0,position:!0,attendance:!0,registered:!0}),[b,y]=T.useState({name:"",label:"",type:"text",required:!1,options:""});T.useEffect(()=>{A(),_()},[r]);const A=()=>{Cr.getEventById(r),d([])},_=()=>{const z=Cr.getColumnVisibility(r);w(z)},O=(z,U)=>{const F={...p,[z]:U};w(F),Cr.updateColumnVisibility(r,{[z]:U}),t()},R=()=>{if(!b.name.trim()||!b.label.trim()){alert("Please enter both field name and label");return}try{const z={id:Cr.generateCustomFieldId(),name:b.name.toLowerCase().replace(/\s+/g,"_"),label:b.label,type:b.type,required:b.required,order:c.length,options:b.type==="select"&&b.options?b.options.split(",").map(U=>U.trim()).filter(Boolean):void 0};Cr.addCustomField(r,z),y({name:"",label:"",type:"text",required:!1,options:""}),A(),t()}catch(z){console.error("Error adding field:",z),alert("Failed to add field")}},M=z=>{if(confirm("Are you sure you want to delete this field? All data in this field will be lost."))try{Cr.deleteCustomField(r,z),A(),t()}catch(U){console.error("Error deleting field:",U),alert("Failed to delete field")}},k=(z,U)=>{const F=c.findIndex(H=>H.id===z);if(F===-1)return;const $=U==="up"?F-1:F+1;if($<0||$>=c.length)return;const X=[...c],[Z]=X.splice(F,1);X.splice($,0,Z);try{Cr.reorderCustomFields(r,X.map(H=>H.id)),A(),t()}catch(H){console.error("Error reordering fields:",H),alert("Failed to reorder fields")}},L=[{key:null,name:"ID",description:"Unique participant identifier",alwaysVisible:!0},{key:null,name:"Name",description:"Participant full name",alwaysVisible:!0},{key:null,name:"Email",description:"Email address",alwaysVisible:!0},{key:"phone",name:"Phone",description:"Phone number",alwaysVisible:!1},{key:"company",name:"Company",description:"Company name",alwaysVisible:!1},{key:"position",name:"Position",description:"Job title/position",alwaysVisible:!1},{key:"attendance",name:"Attendance",description:"Session check-ins and selected sessions",alwaysVisible:!1},{key:"registered",name:"Registered At",description:"Registration timestamp",alwaysVisible:!1}];return m.jsxs(m.Fragment,{children:[m.jsxs(Je,{onClick:()=>a(!0),variant:"outline",size:"sm",children:[m.jsx(SC,{className:"mr-2 h-4 w-4"}),"Manage Columns"]}),m.jsx(gi,{open:n,onOpenChange:a,children:m.jsxs(pi,{className:"max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[m.jsx(Mi,{children:m.jsx(Li,{children:"Manage Participant Columns"})}),m.jsxs("div",{className:"flex-1 overflow-y-auto space-y-6",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-sm font-semibold mb-3 text-muted-foreground",children:"SYSTEM FIELDS"}),m.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"ID, Name, and Email are always visible. Toggle other fields to show/hide them in the participant table."}),m.jsx("div",{className:"border rounded-lg overflow-hidden",children:m.jsxs(Io,{children:[m.jsx(To,{children:m.jsxs(hr,{children:[m.jsx(kt,{children:"Field Name"}),m.jsx(kt,{children:"Description"}),m.jsx(kt,{className:"w-32 text-center",children:"Visibility"})]})}),m.jsx(Ro,{children:L.map(z=>m.jsxs(hr,{children:[m.jsx(Nt,{className:"font-medium",children:z.name}),m.jsx(Nt,{className:"text-sm text-muted-foreground",children:z.description}),m.jsx(Nt,{className:"text-center",children:z.alwaysVisible?m.jsx("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded",children:"Always Visible"}):m.jsxs("div",{className:"flex items-center justify-center gap-2",children:[m.jsx(bm,{checked:p[z.key],onCheckedChange:U=>O(z.key,U)}),m.jsx("span",{className:"text-xs text-muted-foreground",children:p[z.key]?"Visible":"Hidden"})]})})]},z.name))})]})})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-sm font-semibold mb-3 text-muted-foreground",children:"CUSTOM FIELDS"}),c.length===0?m.jsx("div",{className:"text-center py-8 border rounded-lg bg-muted/50",children:m.jsx("p",{className:"text-sm text-muted-foreground",children:"No custom fields yet. Add one below to get started."})}):m.jsx("div",{className:"border rounded-lg overflow-hidden",children:m.jsxs(Io,{children:[m.jsx(To,{children:m.jsxs(hr,{children:[m.jsx(kt,{className:"w-10"}),m.jsx(kt,{children:"Label"}),m.jsx(kt,{children:"Field Name"}),m.jsx(kt,{children:"Type"}),m.jsx(kt,{className:"w-20",children:"Required"}),m.jsx(kt,{className:"w-24",children:"Actions"})]})}),m.jsx(Ro,{children:c.map((z,U)=>m.jsxs(hr,{children:[m.jsx(Nt,{children:m.jsxs("div",{className:"flex flex-col gap-1",children:[m.jsx(Je,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:()=>k(z.id,"up"),disabled:U===0,children:""}),m.jsx(Je,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:()=>k(z.id,"down"),disabled:U===c.length-1,children:""})]})}),m.jsx(Nt,{className:"font-medium",children:z.label}),m.jsx(Nt,{className:"font-mono text-sm text-muted-foreground",children:z.name}),m.jsx(Nt,{children:m.jsx("span",{className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded capitalize",children:z.type})}),m.jsx(Nt,{children:z.required?m.jsx("span",{className:"text-xs bg-orange-100 text-orange-700 px-2 py-1 rounded",children:"Yes"}):m.jsx("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded",children:"No"})}),m.jsx(Nt,{children:m.jsx(Je,{variant:"ghost",size:"sm",onClick:()=>M(z.id),className:"h-8 w-8 p-0 text-destructive",children:m.jsx(Zl,{className:"h-4 w-4"})})})]},z.id))})]})})]}),m.jsxs("div",{className:"border rounded-lg p-4 bg-muted/50",children:[m.jsx("h3",{className:"text-sm font-semibold mb-4",children:"Add New Custom Field"}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx(Ze,{htmlFor:"field-label",children:"Field Label *"}),m.jsx(dt,{id:"field-label",placeholder:"e.g., Dietary Preferences",value:b.label,onChange:z=>y({...b,label:z.target.value})}),m.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Display name shown to users"})]}),m.jsxs("div",{children:[m.jsx(Ze,{htmlFor:"field-name",children:"Field Name *"}),m.jsx(dt,{id:"field-name",placeholder:"e.g., dietary_preferences",value:b.name,onChange:z=>y({...b,name:z.target.value})}),m.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Internal identifier (lowercase, no spaces)"})]}),m.jsxs("div",{children:[m.jsx(Ze,{htmlFor:"field-type",children:"Field Type"}),m.jsxs(Ia,{value:b.type,onValueChange:z=>y({...b,type:z}),children:[m.jsx(Ra,{id:"field-type",children:m.jsx(Ta,{})}),m.jsxs(ka,{children:[m.jsx(dn,{value:"text",children:"Text"}),m.jsx(dn,{value:"email",children:"Email"}),m.jsx(dn,{value:"tel",children:"Phone"}),m.jsx(dn,{value:"number",children:"Number"}),m.jsx(dn,{value:"textarea",children:"Long Text"}),m.jsx(dn,{value:"select",children:"Dropdown"})]})]})]}),b.type==="select"&&m.jsxs("div",{children:[m.jsx(Ze,{htmlFor:"field-options",children:"Options (comma-separated)"}),m.jsx(dt,{id:"field-options",placeholder:"Option 1, Option 2, Option 3",value:b.options,onChange:z=>y({...b,options:z.target.value})})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(bm,{id:"field-required",checked:b.required,onCheckedChange:z=>y({...b,required:z})}),m.jsx(Ze,{htmlFor:"field-required",className:"cursor-pointer",children:"Required field"})]})]}),m.jsxs(Je,{onClick:R,className:"mt-4",size:"sm",children:[m.jsx(No,{className:"mr-2 h-4 w-4"}),"Add Field"]})]})]})]})})]})}function D4({eventId:r,accessToken:t}){const[n,a]=T.useState([]),[c,d]=T.useState([]),[p,w]=T.useState([]),[b,y]=T.useState({phone:!0,company:!0,position:!0,attendance:!0,registered:!0}),[A,_]=T.useState(!0),[O,R]=T.useState(""),[M,k]=T.useState(!1),[L,z]=T.useState(!1),[U,F]=T.useState(!1),[$,X]=T.useState(new Date),Z=T.useRef(null),[H,K]=T.useState({name:"",email:"",phone:"",company:"",position:"",customData:{}}),V=async()=>{_(!0);try{console.log("[SUPABASE] Fetching participants from Supabase for event:",r);const{data:he,error:se}=await qt.from("participants").select("*").eq("eventId",r);if(se)throw new Error(`Failed to fetch participants: ${se.message}`);console.log("[SUPABASE] Found participants:",he?.length),console.log("[SUPABASE] Raw data:",he);const J=(he||[]).map(Y=>({id:Y.id,eventId:Y.eventId,name:Y.name,email:Y.email,phone:Y.phone,company:Y.company,position:Y.position,registeredAt:Y.registeredAt,attendance:Y.attendance||[],customData:Y.customData||{}}));console.log("[SUPABASE] Converted participants:",J),a(J),d(J),X(new Date),Cr.getEventById(r)?.customFields||w([]);const oe=Cr.getColumnVisibility(r);y(oe)}catch(he){console.error("[SUPABASE] Error fetching participants:",he)}finally{_(!1)}};T.useEffect(()=>{V()},[r,t]),T.useEffect(()=>{console.log("[REALTIME] Setting up Supabase Realtime subscription for event:",r);const he=qt.channel(`participants_${r}`).on("postgres_changes",{event:"*",schema:"public",table:"participants",filter:`eventId=eq.${r}`},se=>{if(console.log("[REALTIME] Participant data changed:",se.eventType),se.eventType==="INSERT"){const J={id:se.new.id,eventId:se.new.eventId,name:se.new.name,email:se.new.email,phone:se.new.phone,company:se.new.company,position:se.new.position,registeredAt:se.new.registeredAt,attendance:se.new.attendance||[],customData:se.new.customData||{}};a(ne=>[...ne,J]),d(ne=>[...ne,J])}else if(se.eventType==="UPDATE"){const J={id:se.new.id,eventId:se.new.eventId,name:se.new.name,email:se.new.email,phone:se.new.phone,company:se.new.company,position:se.new.position,registeredAt:se.new.registeredAt,attendance:se.new.attendance||[],customData:se.new.customData||{}};a(ne=>ne.map(oe=>oe.id===J.id?J:oe)),d(ne=>ne.map(oe=>oe.id===J.id?J:oe))}else se.eventType==="DELETE"&&(a(J=>J.filter(ne=>ne.id!==se.old.id)),d(J=>J.filter(ne=>ne.id!==se.old.id)))}).subscribe();return()=>{console.log("[REALTIME] Unsubscribing from Realtime"),qt.removeChannel(he)}},[r]),T.useEffect(()=>{const he=n.filter(se=>se.name.toLowerCase().includes(O.toLowerCase())||se.email.toLowerCase().includes(O.toLowerCase())||se.company.toLowerCase().includes(O.toLowerCase())||se.id.toLowerCase().includes(O.toLowerCase()));d(he)},[O,n]);const ge=async he=>{he.preventDefault(),z(!0);try{console.log("[SUPABASE] Adding participant:",H);const J={id:`part_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,eventId:r,name:H.name,email:H.email,phone:H.phone||"",company:H.company||"",position:H.position||"",registeredAt:new Date().toISOString(),attendance:[],customData:H.customData||{}},{error:ne}=await qt.from("participants").insert([J]);if(ne)throw new Error(`Failed to add participant: ${ne.message}`);console.log("[SUPABASE] Participant added successfully"),alert("Participant added successfully!"),K({name:"",email:"",phone:"",company:"",position:"",customData:{}}),k(!1),await V()}catch(se){console.error("[SUPABASE] Error adding participant:",se),alert(se.message||"Failed to add participant")}finally{z(!1)}},Ee=async he=>{const se=he.target.files?.[0];if(se){F(!0);try{const ne=(await se.text()).split(`
`).filter(Ae=>Ae.trim());if(ne.length<2)throw new Error("CSV file is empty or invalid");const oe=ne[0].split(",").map(Ae=>Ae.trim().replace(/"/g,"").toLowerCase()),Y=[];for(let Ae=1;Ae<ne.length;Ae++){const ke=ne[Ae].split(",").map(be=>be.trim().replace(/"/g,"")),ye={id:`part_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,eventId:r,registeredAt:new Date().toISOString(),attendance:[],customData:{}};oe.forEach((be,pe)=>{be==="name"?ye.name=ke[pe]:be==="email"?ye.email=ke[pe]:be==="phone"?ye.phone=ke[pe]:be==="company"?ye.company=ke[pe]:be==="position"&&(ye.position=ke[pe])}),ye.name&&ye.email&&Y.push(ye)}if(Y.length===0)throw new Error("No valid participants found in CSV");console.log("[SUPABASE] Bulk importing participants:",Y.length);const{error:le}=await qt.from("participants").insert(Y);if(le)throw new Error(`Failed to import participants: ${le.message}`);alert(`Successfully imported ${Y.length} participants.`),await V()}catch(J){console.error("[SUPABASE] Error importing CSV:",J),alert(J.message||"Failed to import CSV")}finally{F(!1),Z.current&&(Z.current.value="")}}},ce=async he=>{if(confirm("Are you sure you want to delete this participant?"))try{console.log("[SUPABASE] Deleting participant:",he);const{error:se}=await qt.from("participants").delete().eq("id",he);if(se)throw new Error(`Failed to delete participant: ${se.message}`);await V()}catch(se){console.error("[SUPABASE] Error deleting participant:",se),alert("Failed to delete participant")}},ve=()=>{const he=["ID","Name","Email","Phone","Company","Position"];p.forEach(le=>he.push(le.label)),he.push("Attendance Count","Registered At");const se=n.map(le=>{const Ae=[le.id,le.name,le.email,le.phone||"",le.company||"",le.position||""];return p.forEach(ke=>{Ae.push(le.customData?.[ke.id]||"")}),Ae.push((le.attendance||[]).length.toString()),Ae.push(new Date(le.registeredAt).toLocaleString()),Ae}),J=[he.join(","),...se.map(le=>le.map(Ae=>`"${Ae}"`).join(","))].join(`
`),ne=new Blob([J],{type:"text/csv"}),oe=window.URL.createObjectURL(ne),Y=document.createElement("a");Y.href=oe,Y.download=`participants-${new Date().toISOString().split("T")[0]}.csv`,Y.click(),window.URL.revokeObjectURL(oe)},Ce=()=>{const he=`Name,Email,Phone,Company,Position
"John Doe","john@example.com","+1234567890","Acme Inc","Manager"`,se=new Blob([he],{type:"text/csv"}),J=window.URL.createObjectURL(se),ne=document.createElement("a");ne.href=J,ne.download="participant-template.csv",ne.click(),window.URL.revokeObjectURL(J)},ie=()=>{const he=`${window.location.origin}${window.location.pathname}?register=${r}`;navigator.clipboard.writeText(he).then(()=>{alert("Registration URL copied to clipboard!")}).catch(()=>{alert("Failed to copy URL")})};return A?m.jsx("div",{className:"flex items-center justify-center p-8",children:m.jsx(Di,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):m.jsxs(fi,{className:"border-0 shadow-xl bg-white",children:[m.jsx(Bs,{className:"border-b border-gray-100 bg-gradient-to-r from-purple-50 to-pink-50",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsxs(Fs,{className:"flex items-center gap-3 text-2xl",children:[m.jsx("div",{className:"w-10 h-10 gradient-primary rounded-xl flex items-center justify-center shadow-md shadow-purple-500/30",children:m.jsx(Fu,{className:"h-5 w-5 text-white"})}),"Participants Management"]}),m.jsxs(ja,{className:"flex items-center gap-3 mt-2 text-base",children:[m.jsxs("span",{className:"bg-white px-3 py-1 rounded-full border border-purple-200",children:["Total: ",m.jsx("span",{className:"font-semibold text-purple-700",children:n.length})]}),m.jsxs("span",{className:"flex items-center gap-2 text-sm text-gray-600",children:[m.jsx("span",{className:"inline-block w-2 h-2 bg-emerald-500 rounded-full animate-pulse"}),"Auto-sync  Updated ",$.toLocaleTimeString()]})]})]}),m.jsxs("div",{className:"flex flex-wrap gap-2",children:[m.jsxs(Je,{onClick:ie,variant:"outline",size:"sm",className:"border-purple-300 hover:border-purple-500 hover:bg-purple-50",children:[m.jsx(tC,{className:"mr-2 h-4 w-4"}),"Copy Registration URL"]}),m.jsx(P4,{eventId:r,onFieldsUpdated:V}),m.jsx("input",{type:"file",ref:Z,accept:".csv",onChange:Ee,className:"hidden"}),m.jsx(Je,{onClick:()=>Z.current?.click(),variant:"outline",size:"sm",disabled:U,className:"border-gray-300 hover:border-gray-400",children:U?m.jsxs(m.Fragment,{children:[m.jsx(Di,{className:"mr-2 h-4 w-4 animate-spin"}),"Importing..."]}):m.jsxs(m.Fragment,{children:[m.jsx(S0,{className:"mr-2 h-4 w-4"}),"Import CSV"]})}),m.jsxs(Je,{onClick:ve,variant:"outline",size:"sm",className:"border-gray-300 hover:border-gray-400",children:[m.jsx($E,{className:"mr-2 h-4 w-4"}),"Export CSV"]}),m.jsxs(gi,{open:M,onOpenChange:k,children:[m.jsx(Cy,{asChild:!0,children:m.jsxs(Je,{className:"gradient-primary hover:opacity-90 shadow-md shadow-purple-500/30",children:[m.jsx(No,{className:"mr-2 h-4 w-4"}),"Add Participant"]})}),m.jsxs(pi,{children:[m.jsxs(Mi,{children:[m.jsx(Li,{children:"Add Participant Manually"}),m.jsx(La,{children:"Enter participant details to add them to the event"})]}),m.jsxs("form",{onSubmit:ge,className:"space-y-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(Ze,{htmlFor:"add-name",children:"Full Name *"}),m.jsx(dt,{id:"add-name",placeholder:"John Doe",value:H.name,onChange:he=>K(se=>({...se,name:he.target.value})),required:!0})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Ze,{htmlFor:"add-email",children:"Email *"}),m.jsx(dt,{id:"add-email",type:"email",placeholder:"john@example.com",value:H.email,onChange:he=>K(se=>({...se,email:he.target.value})),required:!0})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Ze,{htmlFor:"add-phone",children:"Phone"}),m.jsx(dt,{id:"add-phone",placeholder:"+1 (555) 000-0000",value:H.phone,onChange:he=>K(se=>({...se,phone:he.target.value}))})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Ze,{htmlFor:"add-company",children:"Company"}),m.jsx(dt,{id:"add-company",placeholder:"Acme Inc.",value:H.company,onChange:he=>K(se=>({...se,company:he.target.value}))})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Ze,{htmlFor:"add-position",children:"Position"}),m.jsx(dt,{id:"add-position",placeholder:"Software Engineer",value:H.position,onChange:he=>K(se=>({...se,position:he.target.value}))})]}),m.jsx(Je,{type:"submit",className:"w-full",disabled:L,children:L?m.jsxs(m.Fragment,{children:[m.jsx(Di,{className:"mr-2 h-4 w-4 animate-spin"}),"Adding..."]}):"Add Participant"})]})]})]})]})]})}),m.jsxs(Pi,{className:"pt-6",children:[m.jsxs("div",{className:"mb-6 flex gap-3",children:[m.jsxs("div",{className:"relative flex-1",children:[m.jsx(Fx,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),m.jsx(dt,{placeholder:"Search by name, email, company, or ID...",value:O,onChange:he=>R(he.target.value),className:"pl-12 h-12 bg-gray-50 border-gray-200 focus:bg-white focus:border-purple-300 transition-colors"})]}),m.jsx(Je,{onClick:Ce,variant:"outline",size:"sm",className:"border-gray-300 hover:border-gray-400",children:"Download Template"})]}),m.jsx("div",{className:"rounded-xl border border-gray-200 overflow-hidden bg-white shadow-sm",children:m.jsxs(Io,{children:[m.jsx(To,{children:m.jsxs(hr,{children:[m.jsx(kt,{children:"ID"}),m.jsx(kt,{children:"Name"}),m.jsx(kt,{children:"Email"}),b.phone&&m.jsx(kt,{children:"Phone"}),b.company&&m.jsx(kt,{children:"Company"}),b.position&&m.jsx(kt,{children:"Position"}),p.map(he=>m.jsx(kt,{children:he.label},he.id)),b.attendance&&m.jsx(kt,{children:"Attendance"}),b.registered&&m.jsx(kt,{children:"Registered"}),m.jsx(kt,{className:"text-right",children:"Actions"})]})}),m.jsx(Ro,{children:c.length===0?m.jsx(hr,{children:m.jsx(Nt,{colSpan:3+(b.phone?1:0)+(b.company?1:0)+(b.position?1:0)+p.length+(b.attendance?1:0)+(b.registered?1:0)+1,className:"text-center text-muted-foreground",children:"No participants found"})}):c.map(he=>m.jsxs(hr,{children:[m.jsx(Nt,{className:"font-mono text-sm",children:he.id}),m.jsx(Nt,{children:he.name}),m.jsx(Nt,{children:he.email}),b.phone&&m.jsx(Nt,{children:he.phone||"-"}),b.company&&m.jsx(Nt,{children:he.company||"-"}),b.position&&m.jsx(Nt,{children:he.position||"-"}),p.map(se=>m.jsx(Nt,{children:he.customData?.[se.id]||"-"},se.id)),b.attendance&&m.jsx(Nt,{children:m.jsxs(pN,{variant:"secondary",children:[(he.attendance||[]).length," sessions"]})}),b.registered&&m.jsx(Nt,{className:"text-sm text-muted-foreground",children:new Date(he.registeredAt).toLocaleDateString()}),m.jsx(Nt,{className:"text-right",children:m.jsx(Je,{variant:"ghost",size:"sm",onClick:()=>ce(he.id),children:m.jsx(Zl,{className:"h-4 w-4 text-destructive"})})})]},he.id))})]})})]})]})}function Kl({className:r,...t}){return m.jsx("textarea",{"data-slot":"textarea",className:yt("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),...t})}function j4({eventId:r,accessToken:t}){const[n,a]=T.useState([]),[c,d]=T.useState([]),[p,w]=T.useState(!0),[b,y]=T.useState(!1),[A,_]=T.useState(!1),[O,R]=T.useState(null),[M,k]=T.useState(null),[L,z]=T.useState(null),[U,F]=T.useState(new Date),[$,X]=T.useState({right:0}),Z=T.useRef(null),H=T.useRef({}),[K,V]=T.useState({title:"",description:"",startTime:"",endTime:"",location:""});T.useEffect(()=>{const ne=oe=>{Z.current&&!Z.current.contains(oe.target)&&z(null)};return document.addEventListener("mousedown",ne),()=>document.removeEventListener("mousedown",ne)},[]);const ge=T.useCallback(ne=>{const oe=ne.getBoundingClientRect(),Y=window.innerHeight,le=window.innerWidth,Ae=Y-oe.bottom,ke=oe.top,ye=150,be={right:le-oe.right};Ae<ye&&ke>Ae?be.bottom=Y-oe.top+4:be.top=oe.bottom+4,X(be)},[]),Ee=async()=>{w(!0);try{console.log("[SUPABASE] Fetching agenda from Supabase for event:",r);const{data:ne,error:oe}=await qt.from("agenda_items").select("*").eq("eventId",r).order("startTime",{ascending:!0});if(oe)throw new Error(`Failed to fetch agenda: ${oe.message}`);console.log("[SUPABASE] Found agenda items:",ne?.length);const Y=(ne||[]).map((le,Ae)=>({...le,order:Ae}));a(Y)}catch(ne){console.error("[SUPABASE] Error fetching agenda:",ne)}finally{w(!1)}},ce=async()=>{try{console.log("[SUPABASE] Fetching participants from Supabase for event:",r);const{data:ne,error:oe}=await qt.from("participants").select("*").eq("eventId",r);if(oe)throw new Error(`Failed to fetch participants: ${oe.message}`);console.log("[SUPABASE] Found participants:",ne?.length),d(ne||[]),F(new Date)}catch(ne){console.error("[SUPABASE] Error fetching participants:",ne)}};T.useEffect(()=>{Ee(),ce()},[r,t]),T.useEffect(()=>{const ne=le=>{console.log("[AGENDA AUTO-REFRESH] Storage event detected:",le.key),le.key==="event_participants"&&(console.log("[AGENDA AUTO-REFRESH] Participant data changed, refreshing..."),ce()),le.key==="event_agenda"&&(console.log("[AGENDA AUTO-REFRESH] Agenda data changed, refreshing..."),Ee())},oe=le=>{console.log("[AGENDA AUTO-REFRESH] Custom participantsUpdated event detected:",le.detail),ce()};window.addEventListener("storage",ne),window.addEventListener("participantsUpdated",oe);const Y=setInterval(()=>{console.log("[AGENDA AUTO-REFRESH] Polling for participant updates..."),ce()},3e3);return()=>{window.removeEventListener("storage",ne),window.removeEventListener("participantsUpdated",oe),clearInterval(Y)}},[r]);const ve=async ne=>{ne.preventDefault(),_(!0);try{if(console.log("[SUPABASE] Saving agenda item:",K),M){const{error:oe}=await qt.from("agenda_items").update({title:K.title,description:K.description,startTime:K.startTime,endTime:K.endTime,location:K.location}).eq("id",M.id);if(oe)throw new Error(`Failed to update agenda item: ${oe.message}`);console.log("[SUPABASE] Agenda item updated successfully")}else{const Y={id:`agenda_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,eventId:r,title:K.title,description:K.description,startTime:K.startTime,endTime:K.endTime,location:K.location,createdAt:new Date().toISOString()},{error:le}=await qt.from("agenda_items").insert([Y]);if(le)throw new Error(`Failed to create agenda item: ${le.message}`);console.log("[SUPABASE] Agenda item created successfully")}alert(M?"Agenda item updated successfully!":"Agenda item created successfully!"),V({title:"",description:"",startTime:"",endTime:"",location:""}),k(null),y(!1),await Ee()}catch(oe){console.error("[SUPABASE] Error saving agenda item:",oe),alert(oe.message||(M?"Failed to update agenda item":"Failed to create agenda item"))}finally{_(!1)}},Ce=ne=>{k(ne),V({title:ne.title,description:ne.description,startTime:ne.startTime,endTime:ne.endTime,location:ne.location}),y(!0)},ie=ne=>{y(ne),ne||(k(null),V({title:"",description:"",startTime:"",endTime:"",location:""}))},he=async ne=>{if(confirm("Are you sure you want to delete this agenda item?"))try{console.log("[SUPABASE] Deleting agenda item:",ne);const{error:oe}=await qt.from("agenda_items").delete().eq("id",ne);if(oe)throw new Error(`Failed to delete agenda item: ${oe.message}`);alert("Agenda item deleted successfully"),await Ee()}catch(oe){console.error("[SUPABASE] Error deleting agenda item:",oe),alert(oe.message||"Failed to delete agenda item")}},se=ne=>ne?new Date(ne).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-",J=ne=>c.filter(oe=>oe.attendance&&oe.attendance.some(Y=>Y.agendaItem===ne));return p?m.jsx("div",{className:"flex items-center justify-center p-8",children:m.jsx(Di,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):m.jsxs(fi,{className:"border-0 shadow-xl bg-white",children:[m.jsx(Bs,{className:"border-b border-gray-100 bg-gradient-to-r from-purple-50 to-pink-50",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsxs(Fs,{className:"flex items-center gap-3 text-2xl",children:[m.jsx("div",{className:"w-10 h-10 gradient-primary rounded-xl flex items-center justify-center shadow-md shadow-purple-500/30",children:m.jsx(Wl,{className:"h-5 w-5 text-white"})}),"Event Agenda"]}),m.jsxs(ja,{className:"flex items-center gap-3 mt-2 text-base",children:[m.jsx("span",{children:"Manage event schedule and sessions"}),m.jsxs("span",{className:"flex items-center gap-2 text-sm text-gray-600",children:[m.jsx("span",{className:"inline-block w-2 h-2 bg-emerald-500 rounded-full animate-pulse"}),"Auto-sync  Updated ",U.toLocaleTimeString()]})]})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsxs(Je,{variant:"outline",className:"border-gray-300 hover:border-gray-400",size:"sm",onClick:()=>{Ee(),ce()},children:[m.jsx(vC,{className:"mr-2 h-4 w-4"}),"Refresh"]}),m.jsxs(gi,{open:b,onOpenChange:ie,children:[m.jsx(Cy,{asChild:!0,children:m.jsxs(Je,{className:"gradient-primary hover:opacity-90 shadow-md shadow-purple-500/30",children:[m.jsx(No,{className:"mr-2 h-4 w-4"}),"Add Session"]})}),m.jsxs(pi,{children:[m.jsxs(Mi,{children:[m.jsx(Li,{children:M?"Edit Agenda Item":"Create Agenda Item"}),m.jsx(La,{children:M?"Update the session details":"Add a new session or activity to the event schedule"})]}),m.jsxs("form",{onSubmit:ve,className:"space-y-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(Ze,{htmlFor:"title",children:"Session Title *"}),m.jsx(dt,{id:"title",placeholder:"Opening Ceremony",value:K.title,onChange:ne=>V(oe=>({...oe,title:ne.target.value})),required:!0})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Ze,{htmlFor:"description",children:"Description"}),m.jsx(Kl,{id:"description",placeholder:"Describe the session...",value:K.description,onChange:ne=>V(oe=>({...oe,description:ne.target.value})),rows:3})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(Ze,{htmlFor:"startTime",children:"Start Time *"}),m.jsx(dt,{id:"startTime",type:"datetime-local",value:K.startTime,onChange:ne=>V(oe=>({...oe,startTime:ne.target.value})),required:!0})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Ze,{htmlFor:"endTime",children:"End Time"}),m.jsx(dt,{id:"endTime",type:"datetime-local",value:K.endTime,onChange:ne=>V(oe=>({...oe,endTime:ne.target.value}))})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Ze,{htmlFor:"location",children:"Location"}),m.jsx(dt,{id:"location",placeholder:"Main Hall",value:K.location,onChange:ne=>V(oe=>({...oe,location:ne.target.value}))})]}),m.jsx(Je,{type:"submit",className:"w-full",disabled:A,children:A?m.jsxs(m.Fragment,{children:[m.jsx(Di,{className:"mr-2 h-4 w-4 animate-spin"}),M?"Updating...":"Creating..."]}):M?"Update Session":"Create Session"})]})]})]})]})]})}),m.jsxs(Pi,{className:"overflow-visible",children:[n.length===0?m.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[m.jsx(Wl,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),m.jsx("p",{children:"No agenda items yet"}),m.jsx("p",{className:"text-sm",children:'Click "Add Session" to create the event schedule'})]}):m.jsx("div",{className:"rounded-md border overflow-visible",children:m.jsxs(Io,{children:[m.jsx(To,{children:m.jsxs(hr,{children:[m.jsx(kt,{children:"Session"}),m.jsx(kt,{children:"Start Time"}),m.jsx(kt,{children:"End Time"}),m.jsx(kt,{children:"Location"}),m.jsx(kt,{className:"text-right",children:"Actions"})]})}),m.jsx(Ro,{children:n.sort((ne,oe)=>new Date(ne.startTime).getTime()-new Date(oe.startTime).getTime()).map(ne=>m.jsxs(hr,{children:[m.jsx(Nt,{children:m.jsxs("div",{children:[m.jsx("div",{children:ne.title}),ne.description&&m.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:ne.description})]})}),m.jsx(Nt,{children:m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(Dx,{className:"h-4 w-4 text-muted-foreground"}),m.jsx("span",{className:"text-sm",children:se(ne.startTime)})]})}),m.jsx(Nt,{children:m.jsx("span",{className:"text-sm",children:se(ne.endTime)})}),m.jsx(Nt,{children:ne.location?m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(C0,{className:"h-4 w-4 text-muted-foreground"}),m.jsx("span",{className:"text-sm",children:ne.location})]}):m.jsx("span",{className:"text-muted-foreground",children:"-"})}),m.jsx(Nt,{className:"text-right",children:m.jsxs("div",{className:"flex gap-1 justify-end items-center",children:[m.jsx(Je,{variant:"ghost",size:"sm",onClick:()=>R(ne.title),title:"View Participants",children:m.jsx(Fu,{className:"h-4 w-4"})}),m.jsx("div",{className:"relative",children:m.jsx(Je,{ref:oe=>{oe&&(H.current[ne.id]=oe)},variant:"ghost",size:"sm",title:"More options",onClick:oe=>{const Y=L!==ne.id;z(Y?ne.id:null),Y&&oe.currentTarget&&ge(oe.currentTarget)},children:m.jsx(qE,{className:"h-4 w-4"})})})]})})]},ne.id))})]})}),L&&m.jsx("div",{ref:Z,className:"fixed w-48 bg-popover border rounded-md shadow-xl p-1",style:{top:$.top,bottom:$.bottom,right:$.right,zIndex:9999,maxHeight:"calc(100vh - 100px)",overflowY:"auto"},children:n.find(ne=>ne.id===L)&&(()=>{const ne=n.find(oe=>oe.id===L);return m.jsxs(m.Fragment,{children:[m.jsxs("button",{onClick:()=>{const oe=`${window.location.origin}${window.location.pathname}?checkin=${ne.id}`;window.open(oe,"_blank"),z(null)},className:"w-full flex items-center gap-2 px-2 py-1.5 text-sm rounded-sm hover:bg-accent hover:text-accent-foreground outline-none cursor-pointer text-left",children:[m.jsx(sC,{className:"h-4 w-4"}),"Open Check-In Page"]}),m.jsxs("button",{onClick:()=>{Ce(ne),z(null)},className:"w-full flex items-center gap-2 px-2 py-1.5 text-sm rounded-sm hover:bg-accent hover:text-accent-foreground outline-none cursor-pointer text-left",children:[m.jsx(Ux,{className:"h-4 w-4"}),"Modify"]}),m.jsxs("button",{onClick:()=>{he(ne.id),z(null)},className:"w-full flex items-center gap-2 px-2 py-1.5 text-sm rounded-sm hover:bg-destructive/10 text-destructive outline-none cursor-pointer text-left",children:[m.jsx(Zl,{className:"h-4 w-4"}),"Delete"]})]})})()}),m.jsx(gi,{open:!!O,onOpenChange:ne=>!ne&&R(null),children:m.jsxs(pi,{className:"max-w-2xl",children:[m.jsxs(Mi,{children:[m.jsxs(Li,{children:["Participants for: ",O]}),m.jsxs(La,{children:[O&&J(O).length," attendees"]})]}),m.jsx("div",{className:"max-h-96 overflow-y-auto",children:O&&J(O).length===0?m.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[m.jsx(Fu,{className:"h-12 w-12 mx-auto mb-4 opacity-30"}),m.jsx("p",{children:"No participants yet for this session"})]}):m.jsxs(Io,{children:[m.jsx(To,{children:m.jsxs(hr,{children:[m.jsx(kt,{children:"Name"}),m.jsx(kt,{children:"Email"}),m.jsx(kt,{children:"Company"}),m.jsx(kt,{children:"Position"}),m.jsx(kt,{children:"Check-in Time"})]})}),m.jsx(Ro,{children:O&&J(O).map(ne=>{const oe=ne.attendance.find(Y=>Y.agendaItem===O);return m.jsxs(hr,{children:[m.jsx(Nt,{children:ne.name}),m.jsx(Nt,{children:ne.email}),m.jsx(Nt,{children:ne.company||"-"}),m.jsx(Nt,{children:ne.position||"-"}),m.jsx(Nt,{className:"text-sm text-muted-foreground",children:oe&&new Date(oe.timestamp).toLocaleTimeString()})]},ne.id)})})]})})]})})]})]})}function M4({eventId:r,onUpdated:t}){const[n,a]=T.useState({logoAlignment:"center",logoSize:"medium",primaryColor:"#000000",backgroundColor:"#ffffff",fontFamily:"sans-serif"}),[c,d]=T.useState(!1),[p,w]=T.useState(!1),b=T.useRef(null);T.useEffect(()=>{y()},[r]);const y=()=>{const M=Cr.getBrandingSettings(r);a(M)},A=M=>{const k=M.target.files?.[0];if(!k)return;if(!k.type.startsWith("image/")){alert("Please upload an image file (PNG, JPG, etc.)");return}if(k.size>2*1024*1024){alert("Image size should be less than 2MB");return}const L=new FileReader;L.onload=z=>{const U=z.target?.result;a(F=>({...F,logoUrl:U}))},L.readAsDataURL(k)},_=()=>{a(M=>({...M,logoUrl:void 0})),b.current&&(b.current.value="")},O=()=>{d(!0);try{Cr.updateBrandingSettings(r,n),alert("Branding settings saved successfully!"),t?.()}catch(M){console.error("Error saving branding:",M),alert("Failed to save branding settings")}finally{d(!1)}},R=()=>`${window.location.origin}${window.location.pathname}#/register/${r}`;return m.jsxs("div",{className:"space-y-6",children:[m.jsxs(fi,{children:[m.jsx(Bs,{children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsxs(Fs,{className:"flex items-center gap-2",children:[m.jsx(Mx,{className:"h-5 w-5"}),"Registration Page Branding"]}),m.jsx(ja,{children:"Customize the look and feel of your public registration form"})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsxs(Je,{variant:"outline",size:"sm",onClick:()=>w(!p),children:[m.jsx(KE,{className:"mr-2 h-4 w-4"}),p?"Hide Preview":"Show Preview"]}),m.jsxs(Je,{size:"sm",onClick:O,disabled:c,children:[m.jsx(Bx,{className:"mr-2 h-4 w-4"}),c?"Saving...":"Save Changes"]})]})]})}),m.jsxs(Pi,{className:"space-y-6",children:[m.jsxs("div",{className:"space-y-3",children:[m.jsx(Ze,{children:"Event Logo"}),m.jsxs("div",{className:"flex items-start gap-4",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("input",{ref:b,type:"file",accept:"image/*",onChange:A,className:"hidden",id:"logo-upload"}),m.jsxs(Je,{variant:"outline",onClick:()=>b.current?.click(),className:"w-full",children:[m.jsx(S0,{className:"mr-2 h-4 w-4"}),n.logoUrl?"Change Logo":"Upload Logo"]}),m.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"PNG, JPG up to 2MB. Recommended size: 400x150px"})]}),n.logoUrl&&m.jsxs("div",{className:"relative",children:[m.jsx("img",{src:n.logoUrl,alt:"Logo preview",className:"h-20 w-auto object-contain border rounded"}),m.jsx(Je,{variant:"destructive",size:"icon",className:"absolute -top-2 -right-2 h-6 w-6",onClick:_,children:m.jsx(A0,{className:"h-3 w-3"})})]})]})]}),n.logoUrl&&m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(Ze,{children:"Logo Size"}),m.jsxs(Ia,{value:n.logoSize,onValueChange:M=>a(k=>({...k,logoSize:M})),children:[m.jsx(Ra,{children:m.jsx(Ta,{})}),m.jsxs(ka,{children:[m.jsx(dn,{value:"small",children:"Small"}),m.jsx(dn,{value:"medium",children:"Medium"}),m.jsx(dn,{value:"large",children:"Large"})]})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Ze,{children:"Logo Alignment"}),m.jsxs(Ia,{value:n.logoAlignment,onValueChange:M=>a(k=>({...k,logoAlignment:M})),children:[m.jsx(Ra,{children:m.jsx(Ta,{})}),m.jsxs(ka,{children:[m.jsx(dn,{value:"left",children:"Left"}),m.jsx(dn,{value:"center",children:"Center"}),m.jsx(dn,{value:"right",children:"Right"})]})]})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Ze,{htmlFor:"customHeader",children:"Custom Header Text"}),m.jsx(Kl,{id:"customHeader",placeholder:"e.g., 'Join us for the 2025 Annual Summit'",value:n.customHeader||"",onChange:M=>a(k=>({...k,customHeader:M.target.value})),rows:2}),m.jsx("p",{className:"text-xs text-muted-foreground",children:"Optional tagline displayed below the logo"})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(Ze,{htmlFor:"primaryColor",children:"Primary Color"}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx(dt,{id:"primaryColor",type:"color",value:n.primaryColor,onChange:M=>a(k=>({...k,primaryColor:M.target.value})),className:"w-20 h-10 p-1 cursor-pointer"}),m.jsx(dt,{type:"text",value:n.primaryColor,onChange:M=>a(k=>({...k,primaryColor:M.target.value})),placeholder:"#000000",className:"flex-1"})]}),m.jsx("p",{className:"text-xs text-muted-foreground",children:"Used for buttons and accents"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Ze,{htmlFor:"backgroundColor",children:"Background Color"}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx(dt,{id:"backgroundColor",type:"color",value:n.backgroundColor,onChange:M=>a(k=>({...k,backgroundColor:M.target.value})),className:"w-20 h-10 p-1 cursor-pointer"}),m.jsx(dt,{type:"text",value:n.backgroundColor,onChange:M=>a(k=>({...k,backgroundColor:M.target.value})),placeholder:"#ffffff",className:"flex-1"})]}),m.jsx("p",{className:"text-xs text-muted-foreground",children:"Page background color"})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Ze,{children:"Font Family"}),m.jsxs(Ia,{value:n.fontFamily,onValueChange:M=>a(k=>({...k,fontFamily:M})),children:[m.jsx(Ra,{children:m.jsx(Ta,{})}),m.jsxs(ka,{children:[m.jsx(dn,{value:"sans-serif",children:"Sans-Serif (Default)"}),m.jsx(dn,{value:"serif",children:"Serif"}),m.jsx(dn,{value:"monospace",children:"Monospace"})]})]})]}),m.jsxs("div",{className:"space-y-2 pt-4 border-t",children:[m.jsx(Ze,{children:"Registration URL"}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx(dt,{value:R(),readOnly:!0,className:"flex-1"}),m.jsx(Je,{variant:"outline",onClick:()=>{navigator.clipboard.writeText(R()),alert("Registration URL copied to clipboard!")},children:"Copy"})]}),m.jsx("p",{className:"text-xs text-muted-foreground",children:"Share this URL for public registration with your custom branding"})]})]})]}),p&&m.jsxs(fi,{children:[m.jsxs(Bs,{children:[m.jsx(Fs,{children:"Live Preview"}),m.jsx(ja,{children:"This is how your registration form will appear to participants"})]}),m.jsx(Pi,{children:m.jsx("div",{className:"border-2 rounded-lg p-8",style:{backgroundColor:n.backgroundColor},children:m.jsxs("div",{className:"max-w-xl mx-auto space-y-4",children:[n.logoUrl&&m.jsx("div",{className:`flex ${n.logoAlignment==="left"?"justify-start":n.logoAlignment==="right"?"justify-end":"justify-center"}`,children:m.jsx("img",{src:n.logoUrl,alt:"Logo",className:`object-contain ${n.logoSize==="small"?"h-12":n.logoSize==="large"?"h-24":"h-16"}`})}),n.customHeader&&m.jsx("p",{className:"text-center text-lg",style:{color:n.primaryColor},children:n.customHeader}),m.jsxs("div",{className:"text-center",children:[m.jsx("h2",{className:"text-2xl mb-2",children:"Event Name"}),m.jsx("p",{className:"text-sm text-muted-foreground",children:"Sample event information"})]}),m.jsxs("div",{className:"bg-white p-6 rounded-lg border space-y-4",children:[m.jsx(dt,{placeholder:"Full Name *",disabled:!0}),m.jsx(dt,{placeholder:"Email Address *",disabled:!0}),m.jsx(Je,{className:"w-full",disabled:!0,style:{backgroundColor:n.primaryColor,borderColor:n.primaryColor},children:"Complete Registration"})]})]})})})]})]})}function L4({eventId:r,accessToken:t,onLogout:n,onBackToEvents:a}){const[c,d]=T.useState(null);T.useEffect(()=>{r&&(async()=>{try{const{data:y,error:A}=await qt.from("events").select("*").eq("id",r).single();A?console.error("Error loading event:",A):d(y)}catch(y){console.error("Error loading event:",y)}})()},[r]);const p=async()=>{await qt.auth.signOut(),n()},w=()=>{a()};return m.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-violet-50 via-purple-50 to-pink-50",children:[m.jsx("header",{className:"bg-white/80 backdrop-blur-md border-b border-gray-200 sticky top-0 z-50 shadow-sm",children:m.jsx("div",{className:"container mx-auto px-6 py-5",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs(Je,{onClick:w,variant:"ghost",size:"sm",className:"hover:bg-purple-100 hover:text-purple-700",children:[m.jsx(Ox,{className:"mr-2 h-4 w-4"}),"Back to Events"]}),m.jsxs("div",{className:"border-l border-gray-300 pl-4",children:[m.jsx("h1",{className:"text-2xl bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:c?.name||"Event Management Dashboard"}),m.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage registrations, attendance, and event schedule"})]})]}),m.jsxs(Je,{onClick:p,variant:"outline",className:"border-gray-300 hover:border-gray-400",children:[m.jsx(jx,{className:"mr-2 h-4 w-4"}),"Logout"]})]})})}),m.jsx("main",{className:"container mx-auto px-6 py-8",children:m.jsxs(V_,{defaultValue:"participants",className:"space-y-8",children:[m.jsxs(W_,{className:"flex w-full max-w-3xl mx-auto gap-2 bg-white/80 backdrop-blur-sm p-2 rounded-2xl shadow-md border border-gray-200 h-14",children:[m.jsxs(of,{value:"participants",className:"flex items-center gap-2 rounded-xl data-[state=active]:bg-gradient-to-r data-[state=active]:from-purple-600 data-[state=active]:to-pink-600 data-[state=active]:text-white data-[state=active]:shadow-lg data-[state=active]:shadow-purple-500/30 transition-all duration-300",children:[m.jsx(Fu,{className:"h-4 w-4"}),m.jsx("span",{className:"hidden sm:inline",children:"Participants"})]}),m.jsxs(of,{value:"agenda",className:"flex items-center gap-2 rounded-xl data-[state=active]:bg-gradient-to-r data-[state=active]:from-purple-600 data-[state=active]:to-pink-600 data-[state=active]:text-white data-[state=active]:shadow-lg data-[state=active]:shadow-purple-500/30 transition-all duration-300",children:[m.jsx(Wl,{className:"h-4 w-4"}),m.jsx("span",{className:"hidden sm:inline",children:"Agenda"})]}),m.jsxs(of,{value:"branding",className:"flex items-center gap-2 rounded-xl data-[state=active]:bg-gradient-to-r data-[state=active]:from-purple-600 data-[state=active]:to-pink-600 data-[state=active]:text-white data-[state=active]:shadow-lg data-[state=active]:shadow-purple-500/30 transition-all duration-300",children:[m.jsx(Mx,{className:"h-4 w-4"}),m.jsx("span",{className:"hidden sm:inline",children:"Branding"})]})]}),m.jsx(af,{value:"participants",children:m.jsx(D4,{eventId:r,accessToken:t})}),m.jsx(af,{value:"agenda",children:m.jsx(j4,{eventId:r,accessToken:t})}),m.jsx(af,{value:"branding",children:m.jsx(M4,{eventId:r})})]})})]})}function B4({onEventSelected:r,onLogout:t}){const[n,a]=T.useState([]),[c,d]=T.useState(!1),[p,w]=T.useState(!1),[b,y]=T.useState(null),[A,_]=T.useState({name:"",startDate:"",endDate:"",location:"",description:""});T.useEffect(()=>{O()},[]);const O=async()=>{try{const{data:X,error:Z}=await qt.from("events").select("*").order("createdAt",{ascending:!1});Z?console.error("Error loading events:",Z):a(X||[])}catch(X){console.error("Error loading events:",X)}},R=()=>{_({name:"",startDate:"",endDate:"",location:"",description:""}),d(!0)},M=X=>{y(X),_({name:X.name,startDate:X.startDate,endDate:X.endDate,location:X.location,description:X.description}),w(!0)},k=async()=>{if(!A.name||!A.startDate){alert("Please fill in required fields (Event Name and Start Date)");return}try{const X=`evt_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,{error:Z}=await qt.from("events").insert([{id:X,name:A.name,startDate:A.startDate,endDate:A.endDate||null,location:A.location,description:A.description,createdAt:new Date().toISOString()}]);Z?(console.error("Error creating event:",Z),alert("Failed to create event")):(O(),d(!1))}catch(X){console.error("Error creating event:",X),alert("Failed to create event")}},L=async()=>{if(b){if(!A.name||!A.startDate){alert("Please fill in required fields (Event Name and Start Date)");return}try{const{error:X}=await qt.from("events").update({name:A.name,startDate:A.startDate,endDate:A.endDate||null,location:A.location,description:A.description}).eq("id",b.id);X?(console.error("Error updating event:",X),alert("Failed to update event")):(O(),w(!1),y(null))}catch(X){console.error("Error updating event:",X),alert("Failed to update event")}}},z=async(X,Z)=>{if(confirm(`Are you sure you want to delete "${Z}"?

This will permanently delete all participants, agenda items, and attendance records associated with this event.`))try{const{error:H}=await qt.from("events").delete().eq("id",X);H?(console.error("Error deleting event:",H),alert("Failed to delete event")):O()}catch(H){console.error("Error deleting event:",H),alert("Failed to delete event")}},U=X=>{r(X)},F=async()=>{await qt.auth.signOut(),t()},$=X=>X?new Date(X).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"";return m.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-violet-50 via-purple-50 to-pink-50",children:[m.jsx("header",{className:"bg-white/80 backdrop-blur-md border-b border-gray-200 sticky top-0 z-50 shadow-sm",children:m.jsxs("div",{className:"container mx-auto px-6 py-5 flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-2xl bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"Event Management System"}),m.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Select an event to manage or create a new one"})]}),m.jsxs(Je,{onClick:F,variant:"outline",className:"border-gray-300 hover:border-gray-400",children:[m.jsx(jx,{className:"mr-2 h-4 w-4"}),"Logout"]})]})}),m.jsx("main",{className:"container mx-auto px-6 py-12",children:m.jsxs("div",{className:"max-w-7xl mx-auto",children:[m.jsxs("div",{className:"flex items-center justify-between mb-10",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-3xl mb-2",children:"Your Events"}),m.jsxs("p",{className:"text-gray-600 text-lg",children:[n.length," ",n.length===1?"event":"events"," total"]})]}),m.jsxs(Je,{onClick:R,size:"lg",className:"gradient-primary hover:opacity-90 shadow-lg shadow-purple-500/30 h-12 px-6",children:[m.jsx(No,{className:"mr-2 h-5 w-5"}),"Create New Event"]})]}),n.length===0?m.jsx(fi,{className:"border-2 border-dashed border-gray-300 bg-white/60 backdrop-blur-sm",children:m.jsxs(Pi,{className:"flex flex-col items-center justify-center py-20",children:[m.jsx("div",{className:"w-20 h-20 gradient-primary-soft rounded-2xl flex items-center justify-center mb-6",children:m.jsx(RE,{className:"h-10 w-10 text-purple-600"})}),m.jsx("h3",{className:"text-2xl mb-3",children:"No events yet"}),m.jsx("p",{className:"text-gray-600 mb-8 text-center max-w-md text-lg",children:"Get started by creating your first event. You'll be able to manage participants, agenda, and track attendance."}),m.jsxs(Je,{onClick:R,size:"lg",className:"gradient-primary hover:opacity-90 shadow-lg shadow-purple-500/30 h-12 px-6",children:[m.jsx(No,{className:"mr-2 h-5 w-5"}),"Create Your First Event"]})]})}):m.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:n.map(X=>m.jsxs(fi,{className:"card-elevated bg-white border-0 overflow-hidden group",children:[m.jsx("div",{className:"h-2 gradient-primary"}),m.jsxs(Bs,{className:"pb-4",children:[m.jsx(Fs,{className:"line-clamp-1 text-xl",children:X.name}),m.jsxs("div",{className:"space-y-2 text-gray-600",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(Wl,{className:"h-4 w-4 text-purple-500"}),m.jsxs("span",{className:"text-sm",children:[$(X.startDate),X.endDate&&` - ${$(X.endDate)}`]})]}),X.location&&m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(C0,{className:"h-4 w-4 text-pink-500"}),m.jsx("span",{className:"text-sm line-clamp-1",children:X.location})]})]})]}),m.jsxs(Pi,{children:[X.description&&m.jsx("p",{className:"text-sm text-gray-600 mb-5 line-clamp-2",children:X.description}),m.jsxs("div",{className:"flex gap-2",children:[m.jsxs(Je,{onClick:()=>U(X.id),className:"flex-1 gradient-primary hover:opacity-90 shadow-md shadow-purple-500/30",children:["Manage",m.jsx(_E,{className:"ml-2 h-4 w-4"})]}),m.jsx(Je,{onClick:()=>M(X),variant:"outline",size:"icon",className:"border-gray-300 hover:border-purple-500 hover:text-purple-600",children:m.jsx(Ux,{className:"h-4 w-4"})}),m.jsx(Je,{onClick:()=>z(X.id,X.name),variant:"outline",size:"icon",className:"border-gray-300 hover:border-red-500 hover:text-red-600",children:m.jsx(Zl,{className:"h-4 w-4"})})]})]})]},X.id))})]})}),m.jsx(gi,{open:c,onOpenChange:d,children:m.jsxs(pi,{className:"max-w-2xl",children:[m.jsxs(Mi,{children:[m.jsx(Li,{children:"Create New Event"}),m.jsx(La,{children:"Create a new event to manage participants and agenda"})]}),m.jsxs("div",{className:"space-y-4 py-4",children:[m.jsxs("div",{children:[m.jsx(Ze,{htmlFor:"name",children:"Event Name *"}),m.jsx(dt,{id:"name",value:A.name,onChange:X=>_({...A,name:X.target.value}),placeholder:"e.g., Annual Tech Conference 2024"})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx(Ze,{htmlFor:"startDate",children:"Start Date *"}),m.jsx(dt,{id:"startDate",type:"date",value:A.startDate,onChange:X=>_({...A,startDate:X.target.value})})]}),m.jsxs("div",{children:[m.jsx(Ze,{htmlFor:"endDate",children:"End Date"}),m.jsx(dt,{id:"endDate",type:"date",value:A.endDate,onChange:X=>_({...A,endDate:X.target.value})})]})]}),m.jsxs("div",{children:[m.jsx(Ze,{htmlFor:"location",children:"Location"}),m.jsx(dt,{id:"location",value:A.location,onChange:X=>_({...A,location:X.target.value}),placeholder:"e.g., Convention Center Hall A"})]}),m.jsxs("div",{children:[m.jsx(Ze,{htmlFor:"description",children:"Description"}),m.jsx(Kl,{id:"description",value:A.description,onChange:X=>_({...A,description:X.target.value}),placeholder:"Brief description of the event...",rows:3})]})]}),m.jsxs(o0,{children:[m.jsx(Je,{variant:"outline",onClick:()=>d(!1),children:"Cancel"}),m.jsx(Je,{onClick:k,children:"Create Event"})]})]})}),m.jsx(gi,{open:p,onOpenChange:w,children:m.jsxs(pi,{className:"max-w-2xl",children:[m.jsxs(Mi,{children:[m.jsx(Li,{children:"Edit Event"}),m.jsx(La,{children:"Update event details"})]}),m.jsxs("div",{className:"space-y-4 py-4",children:[m.jsxs("div",{children:[m.jsx(Ze,{htmlFor:"edit-name",children:"Event Name *"}),m.jsx(dt,{id:"edit-name",value:A.name,onChange:X=>_({...A,name:X.target.value}),placeholder:"e.g., Annual Tech Conference 2024"})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx(Ze,{htmlFor:"edit-startDate",children:"Start Date *"}),m.jsx(dt,{id:"edit-startDate",type:"date",value:A.startDate,onChange:X=>_({...A,startDate:X.target.value})})]}),m.jsxs("div",{children:[m.jsx(Ze,{htmlFor:"edit-endDate",children:"End Date"}),m.jsx(dt,{id:"edit-endDate",type:"date",value:A.endDate,onChange:X=>_({...A,endDate:X.target.value})})]})]}),m.jsxs("div",{children:[m.jsx(Ze,{htmlFor:"edit-location",children:"Location"}),m.jsx(dt,{id:"edit-location",value:A.location,onChange:X=>_({...A,location:X.target.value}),placeholder:"e.g., Convention Center Hall A"})]}),m.jsxs("div",{children:[m.jsx(Ze,{htmlFor:"edit-description",children:"Description"}),m.jsx(Kl,{id:"edit-description",value:A.description,onChange:X=>_({...A,description:X.target.value}),placeholder:"Brief description of the event...",rows:3})]})]}),m.jsxs(o0,{children:[m.jsx(Je,{variant:"outline",onClick:()=>w(!1),children:"Cancel"}),m.jsx(Je,{onClick:L,children:"Save Changes"})]})]})})]})}var md="Switch",[F4]=Qr(md),[U4,z4]=F4(md),Iv=T.forwardRef((r,t)=>{const{__scopeSwitch:n,name:a,checked:c,defaultChecked:d,required:p,disabled:w,value:b="on",onCheckedChange:y,form:A,..._}=r,[O,R]=T.useState(null),M=Ut(t,F=>R(F)),k=T.useRef(!1),L=O?A||!!O.closest("form"):!0,[z,U]=mi({prop:c,defaultProp:d??!1,onChange:y,caller:md});return m.jsxs(U4,{scope:n,checked:z,disabled:w,children:[m.jsx(xt.button,{type:"button",role:"switch","aria-checked":z,"aria-required":p,"data-state":Ov(z),"data-disabled":w?"":void 0,disabled:w,value:b,..._,ref:M,onClick:Et(r.onClick,F=>{U($=>!$),L&&(k.current=F.isPropagationStopped(),k.current||F.stopPropagation())})}),L&&m.jsx(kv,{control:O,bubbles:!k.current,name:a,value:b,checked:z,required:p,disabled:w,form:A,style:{transform:"translateX(-100%)"}})]})});Iv.displayName=md;var Tv="SwitchThumb",Rv=T.forwardRef((r,t)=>{const{__scopeSwitch:n,...a}=r,c=z4(Tv,n);return m.jsx(xt.span,{"data-state":Ov(c.checked),"data-disabled":c.disabled?"":void 0,...a,ref:t})});Rv.displayName=Tv;var V4="SwitchBubbleInput",kv=T.forwardRef(({__scopeSwitch:r,control:t,checked:n,bubbles:a=!0,...c},d)=>{const p=T.useRef(null),w=Ut(p,d),b=dd(n),y=ud(t);return T.useEffect(()=>{const A=p.current;if(!A)return;const _=window.HTMLInputElement.prototype,R=Object.getOwnPropertyDescriptor(_,"checked").set;if(b!==n&&R){const M=new Event("click",{bubbles:a});R.call(A,n),A.dispatchEvent(M)}},[b,n,a]),m.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...c,tabIndex:-1,ref:w,style:{...c.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});kv.displayName=V4;function Ov(r){return r?"checked":"unchecked"}var W4=Iv,H4=Rv;function Pv({className:r,...t}){return m.jsx(W4,{"data-slot":"switch",className:yt("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",r),...t,children:m.jsx(H4,{"data-slot":"switch-thumb",className:yt("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}var ze;(function(r){r[r.QR_CODE=0]="QR_CODE",r[r.AZTEC=1]="AZTEC",r[r.CODABAR=2]="CODABAR",r[r.CODE_39=3]="CODE_39",r[r.CODE_93=4]="CODE_93",r[r.CODE_128=5]="CODE_128",r[r.DATA_MATRIX=6]="DATA_MATRIX",r[r.MAXICODE=7]="MAXICODE",r[r.ITF=8]="ITF",r[r.EAN_13=9]="EAN_13",r[r.EAN_8=10]="EAN_8",r[r.PDF_417=11]="PDF_417",r[r.RSS_14=12]="RSS_14",r[r.RSS_EXPANDED=13]="RSS_EXPANDED",r[r.UPC_A=14]="UPC_A",r[r.UPC_E=15]="UPC_E",r[r.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ze||(ze={}));var Em=new Map([[ze.QR_CODE,"QR_CODE"],[ze.AZTEC,"AZTEC"],[ze.CODABAR,"CODABAR"],[ze.CODE_39,"CODE_39"],[ze.CODE_93,"CODE_93"],[ze.CODE_128,"CODE_128"],[ze.DATA_MATRIX,"DATA_MATRIX"],[ze.MAXICODE,"MAXICODE"],[ze.ITF,"ITF"],[ze.EAN_13,"EAN_13"],[ze.EAN_8,"EAN_8"],[ze.PDF_417,"PDF_417"],[ze.RSS_14,"RSS_14"],[ze.RSS_EXPANDED,"RSS_EXPANDED"],[ze.UPC_A,"UPC_A"],[ze.UPC_E,"UPC_E"],[ze.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),Cm;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.URL=1]="URL"})(Cm||(Cm={}));function $4(r){return Object.values(ze).includes(r)}var Yu;(function(r){r[r.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",r[r.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Yu||(Yu={}));var G4=(function(){function r(){}return r.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",r.SCAN_DEFAULT_FPS=2,r.DEFAULT_DISABLE_FLIP=!1,r.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,r.DEFAULT_SUPPORTED_SCAN_TYPE=[Yu.SCAN_TYPE_CAMERA,Yu.SCAN_TYPE_FILE],r})(),Dv=(function(){function r(t,n){this.format=t,this.formatName=n}return r.prototype.toString=function(){return this.formatName},r.create=function(t){if(!Em.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new r(t,Em.get(t))},r})(),Sm=(function(){function r(){}return r.createFromText=function(t){var n={text:t};return{decodedText:t,result:n}},r.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},r})(),p0;(function(r){r[r.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",r[r.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",r[r.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(p0||(p0={}));var q4=(function(){function r(){}return r.createFrom=function(t){return{errorMessage:t,type:p0.UNKWOWN_ERROR}},r})(),X4=(function(){function r(t){this.verbose=t}return r.prototype.log=function(t){this.verbose&&console.log(t)},r.prototype.warn=function(t){this.verbose&&console.warn(t)},r.prototype.logError=function(t,n){(this.verbose||n===!0)&&console.error(t)},r.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},r})();function rs(r){return typeof r>"u"||r===null}var Sa=(function(){function r(){}return r.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},r.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},r.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},r.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},r.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},r.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},r.scannerPaused=function(){return"Scanner paused"},r})(),jv=(function(){function r(){}return r.isMediaStreamConstraintsValid=function(t,n){if(typeof t!="object"){var a=typeof t;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(a,"."),!0),!1}for(var c=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],d=new Set(c),p=Object.keys(t),w=0,b=p;w<b.length;w++){var y=b[w];if(d.has(y))return n.logError("".concat(y," is not supported videoConstaints."),!0),!1}return!0},r})(),Fl={exports:{}},K4=Fl.exports,Am;function Y4(){return Am||(Am=1,(function(r,t){(function(n,a){a(t)})(K4,(function(n){function a(P){return P==null}var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,e){P.__proto__=e}||function(P,e){for(var s in e)e.hasOwnProperty(s)&&(P[s]=e[s])};function d(P,e){c(P,e);function s(){this.constructor=P}P.prototype=e===null?Object.create(e):(s.prototype=e.prototype,new s)}function p(P,e){var s=Object.setPrototypeOf;s?s(P,e):P.__proto__=e}function w(P,e){e===void 0&&(e=P.constructor);var s=Error.captureStackTrace;s&&s(P,e)}var b=(function(P){d(e,P);function e(s){var o=this.constructor,u=P.call(this,s)||this;return Object.defineProperty(u,"name",{value:o.name,enumerable:!1}),p(u,o.prototype),w(u),u}return e})(Error);class y extends b{constructor(e=void 0){super(e),this.message=e}getKind(){return this.constructor.kind}}y.kind="Exception";class A extends y{}A.kind="ArgumentException";class _ extends y{}_.kind="IllegalArgumentException";class O{constructor(e){if(this.binarizer=e,e===null)throw new _("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(e,s){return this.binarizer.getBlackRow(e,s)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(e,s,o,u){const h=this.binarizer.getLuminanceSource().crop(e,s,o,u);return new O(this.binarizer.createBinarizer(h))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new O(this.binarizer.createBinarizer(e))}rotateCounterClockwise45(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new O(this.binarizer.createBinarizer(e))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class R extends y{static getChecksumInstance(){return new R}}R.kind="ChecksumException";class M{constructor(e){this.source=e}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class k{static arraycopy(e,s,o,u,h){for(;h--;)o[u++]=e[s++]}static currentTimeMillis(){return Date.now()}}class L extends y{}L.kind="IndexOutOfBoundsException";class z extends L{constructor(e=void 0,s=void 0){super(s),this.index=e,this.message=s}}z.kind="ArrayIndexOutOfBoundsException";class U{static fill(e,s){for(let o=0,u=e.length;o<u;o++)e[o]=s}static fillWithin(e,s,o,u){U.rangeCheck(e.length,s,o);for(let h=s;h<o;h++)e[h]=u}static rangeCheck(e,s,o){if(s>o)throw new _("fromIndex("+s+") > toIndex("+o+")");if(s<0)throw new z(s);if(o>e)throw new z(o)}static asList(...e){return e}static create(e,s,o){return Array.from({length:e}).map(h=>Array.from({length:s}).fill(o))}static createInt32Array(e,s,o){return Array.from({length:e}).map(h=>Int32Array.from({length:s}).fill(o))}static equals(e,s){if(!e||!s||!e.length||!s.length||e.length!==s.length)return!1;for(let o=0,u=e.length;o<u;o++)if(e[o]!==s[o])return!1;return!0}static hashCode(e){if(e===null)return 0;let s=1;for(const o of e)s=31*s+o;return s}static fillUint8Array(e,s){for(let o=0;o!==e.length;o++)e[o]=s}static copyOf(e,s){return e.slice(0,s)}static copyOfUint8Array(e,s){if(e.length<=s){const o=new Uint8Array(s);return o.set(e),o}return e.slice(0,s)}static copyOfRange(e,s,o){const u=o-s,h=new Int32Array(u);return k.arraycopy(e,s,h,0,u),h}static binarySearch(e,s,o){o===void 0&&(o=U.numberComparator);let u=0,h=e.length-1;for(;u<=h;){const f=h+u>>1,x=o(s,e[f]);if(x>0)u=f+1;else if(x<0)h=f-1;else return f}return-u-1}static numberComparator(e,s){return e-s}}class F{static numberOfTrailingZeros(e){let s;if(e===0)return 32;let o=31;return s=e<<16,s!==0&&(o-=16,e=s),s=e<<8,s!==0&&(o-=8,e=s),s=e<<4,s!==0&&(o-=4,e=s),s=e<<2,s!==0&&(o-=2,e=s),o-(e<<1>>>31)}static numberOfLeadingZeros(e){if(e===0)return 32;let s=1;return e>>>16||(s+=16,e<<=16),e>>>24||(s+=8,e<<=8),e>>>28||(s+=4,e<<=4),e>>>30||(s+=2,e<<=2),s-=e>>>31,s}static toHexString(e){return e.toString(16)}static toBinaryString(e){return String(parseInt(String(e),2))}static bitCount(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63}static truncDivision(e,s){return Math.trunc(e/s)}static parseInt(e,s=void 0){return parseInt(e,s)}}F.MIN_VALUE_32_BITS=-2147483648,F.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ${constructor(e,s){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,s==null?this.bits=$.makeArray(e):this.bits=s)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(e){if(e>this.bits.length*32){const s=$.makeArray(e);k.arraycopy(this.bits,0,s,0,this.bits.length),this.bits=s}}get(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0}set(e){this.bits[Math.floor(e/32)]|=1<<(e&31)}flip(e){this.bits[Math.floor(e/32)]^=1<<(e&31)}getNextSet(e){const s=this.size;if(e>=s)return s;const o=this.bits;let u=Math.floor(e/32),h=o[u];h&=~((1<<(e&31))-1);const f=o.length;for(;h===0;){if(++u===f)return s;h=o[u]}const x=u*32+F.numberOfTrailingZeros(h);return x>s?s:x}getNextUnset(e){const s=this.size;if(e>=s)return s;const o=this.bits;let u=Math.floor(e/32),h=~o[u];h&=~((1<<(e&31))-1);const f=o.length;for(;h===0;){if(++u===f)return s;h=~o[u]}const x=u*32+F.numberOfTrailingZeros(h);return x>s?s:x}setBulk(e,s){this.bits[Math.floor(e/32)]=s}setRange(e,s){if(s<e||e<0||s>this.size)throw new _;if(s===e)return;s--;const o=Math.floor(e/32),u=Math.floor(s/32),h=this.bits;for(let f=o;f<=u;f++){const x=f>o?0:e&31,C=(2<<(f<u?31:s&31))-(1<<x);h[f]|=C}}clear(){const e=this.bits.length,s=this.bits;for(let o=0;o<e;o++)s[o]=0}isRange(e,s,o){if(s<e||e<0||s>this.size)throw new _;if(s===e)return!0;s--;const u=Math.floor(e/32),h=Math.floor(s/32),f=this.bits;for(let x=u;x<=h;x++){const E=x>u?0:e&31,I=(2<<(x<h?31:s&31))-(1<<E)&4294967295;if((f[x]&I)!==(o?I:0))return!1}return!0}appendBit(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(e,s){if(s<0||s>32)throw new _("Num bits must be between 0 and 32");this.ensureCapacity(this.size+s);for(let o=s;o>0;o--)this.appendBit((e>>o-1&1)===1)}appendBitArray(e){const s=e.size;this.ensureCapacity(this.size+s);for(let o=0;o<s;o++)this.appendBit(e.get(o))}xor(e){if(this.size!==e.size)throw new _("Sizes don't match");const s=this.bits;for(let o=0,u=s.length;o<u;o++)s[o]^=e.bits[o]}toBytes(e,s,o,u){for(let h=0;h<u;h++){let f=0;for(let x=0;x<8;x++)this.get(e)&&(f|=1<<7-x),e++;s[o+h]=f}}getBitArray(){return this.bits}reverse(){const e=new Int32Array(this.bits.length),s=Math.floor((this.size-1)/32),o=s+1,u=this.bits;for(let h=0;h<o;h++){let f=u[h];f=f>>1&1431655765|(f&1431655765)<<1,f=f>>2&858993459|(f&858993459)<<2,f=f>>4&252645135|(f&252645135)<<4,f=f>>8&16711935|(f&16711935)<<8,f=f>>16&65535|(f&65535)<<16,e[s-h]=f}if(this.size!==o*32){const h=o*32-this.size;let f=e[0]>>>h;for(let x=1;x<o;x++){const E=e[x];f|=E<<32-h,e[x-1]=f,f=E>>>h}e[o-1]=f}this.bits=e}static makeArray(e){return new Int32Array(Math.floor((e+31)/32))}equals(e){if(!(e instanceof $))return!1;const s=e;return this.size===s.size&&U.equals(this.bits,s.bits)}hashCode(){return 31*this.size+U.hashCode(this.bits)}toString(){let e="";for(let s=0,o=this.size;s<o;s++)(s&7)===0&&(e+=" "),e+=this.get(s)?"X":".";return e}clone(){return new $(this.size,this.bits.slice())}}var X;(function(P){P[P.OTHER=0]="OTHER",P[P.PURE_BARCODE=1]="PURE_BARCODE",P[P.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",P[P.TRY_HARDER=3]="TRY_HARDER",P[P.CHARACTER_SET=4]="CHARACTER_SET",P[P.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",P[P.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",P[P.ASSUME_GS1=7]="ASSUME_GS1",P[P.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",P[P.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",P[P.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(X||(X={}));var Z=X;class H extends y{static getFormatInstance(){return new H}}H.kind="FormatException";var K;(function(P){P[P.Cp437=0]="Cp437",P[P.ISO8859_1=1]="ISO8859_1",P[P.ISO8859_2=2]="ISO8859_2",P[P.ISO8859_3=3]="ISO8859_3",P[P.ISO8859_4=4]="ISO8859_4",P[P.ISO8859_5=5]="ISO8859_5",P[P.ISO8859_6=6]="ISO8859_6",P[P.ISO8859_7=7]="ISO8859_7",P[P.ISO8859_8=8]="ISO8859_8",P[P.ISO8859_9=9]="ISO8859_9",P[P.ISO8859_10=10]="ISO8859_10",P[P.ISO8859_11=11]="ISO8859_11",P[P.ISO8859_13=12]="ISO8859_13",P[P.ISO8859_14=13]="ISO8859_14",P[P.ISO8859_15=14]="ISO8859_15",P[P.ISO8859_16=15]="ISO8859_16",P[P.SJIS=16]="SJIS",P[P.Cp1250=17]="Cp1250",P[P.Cp1251=18]="Cp1251",P[P.Cp1252=19]="Cp1252",P[P.Cp1256=20]="Cp1256",P[P.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",P[P.UTF8=22]="UTF8",P[P.ASCII=23]="ASCII",P[P.Big5=24]="Big5",P[P.GB18030=25]="GB18030",P[P.EUC_KR=26]="EUC_KR"})(K||(K={}));class V{constructor(e,s,o,...u){this.valueIdentifier=e,this.name=o,typeof s=="number"?this.values=Int32Array.from([s]):this.values=s,this.otherEncodingNames=u,V.VALUE_IDENTIFIER_TO_ECI.set(e,this),V.NAME_TO_ECI.set(o,this);const h=this.values;for(let f=0,x=h.length;f!==x;f++){const E=h[f];V.VALUES_TO_ECI.set(E,this)}for(const f of u)V.NAME_TO_ECI.set(f,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(e){if(e<0||e>=900)throw new H("incorect value");const s=V.VALUES_TO_ECI.get(e);if(s===void 0)throw new H("incorect value");return s}static getCharacterSetECIByName(e){const s=V.NAME_TO_ECI.get(e);if(s===void 0)throw new H("incorect value");return s}equals(e){if(!(e instanceof V))return!1;const s=e;return this.getName()===s.getName()}}V.VALUE_IDENTIFIER_TO_ECI=new Map,V.VALUES_TO_ECI=new Map,V.NAME_TO_ECI=new Map,V.Cp437=new V(K.Cp437,Int32Array.from([0,2]),"Cp437"),V.ISO8859_1=new V(K.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),V.ISO8859_2=new V(K.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),V.ISO8859_3=new V(K.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),V.ISO8859_4=new V(K.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),V.ISO8859_5=new V(K.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),V.ISO8859_6=new V(K.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),V.ISO8859_7=new V(K.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),V.ISO8859_8=new V(K.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),V.ISO8859_9=new V(K.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),V.ISO8859_10=new V(K.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),V.ISO8859_11=new V(K.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),V.ISO8859_13=new V(K.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),V.ISO8859_14=new V(K.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),V.ISO8859_15=new V(K.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),V.ISO8859_16=new V(K.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),V.SJIS=new V(K.SJIS,20,"SJIS","Shift_JIS"),V.Cp1250=new V(K.Cp1250,21,"Cp1250","windows-1250"),V.Cp1251=new V(K.Cp1251,22,"Cp1251","windows-1251"),V.Cp1252=new V(K.Cp1252,23,"Cp1252","windows-1252"),V.Cp1256=new V(K.Cp1256,24,"Cp1256","windows-1256"),V.UnicodeBigUnmarked=new V(K.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),V.UTF8=new V(K.UTF8,26,"UTF8","UTF-8"),V.ASCII=new V(K.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),V.Big5=new V(K.Big5,28,"Big5"),V.GB18030=new V(K.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),V.EUC_KR=new V(K.EUC_KR,30,"EUC_KR","EUC-KR");class ge extends y{}ge.kind="UnsupportedOperationException";class Ee{static decode(e,s){const o=this.encodingName(s);return this.customDecoder?this.customDecoder(e,o):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(o)?this.decodeFallback(e,o):new TextDecoder(o).decode(e)}static shouldDecodeOnFallback(e){return!Ee.isBrowser()&&e==="ISO-8859-1"}static encode(e,s){const o=this.encodingName(s);return this.customEncoder?this.customEncoder(e,o):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(e){return typeof e=="string"?e:e.getName()}static encodingCharacterSet(e){return e instanceof V?e:V.getCharacterSetECIByName(e)}static decodeFallback(e,s){const o=this.encodingCharacterSet(s);if(Ee.isDecodeFallbackSupported(o)){let u="";for(let h=0,f=e.length;h<f;h++){let x=e[h].toString(16);x.length<2&&(x="0"+x),u+="%"+x}return decodeURIComponent(u)}if(o.equals(V.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new ge(`Encoding ${this.encodingName(s)} not supported by fallback.`)}static isDecodeFallbackSupported(e){return e.equals(V.UTF8)||e.equals(V.ISO8859_1)||e.equals(V.ASCII)}static encodeFallback(e){const o=btoa(unescape(encodeURIComponent(e))).split(""),u=[];for(let h=0;h<o.length;h++)u.push(o[h].charCodeAt(0));return new Uint8Array(u)}}class ce{static castAsNonUtf8Char(e,s=null){const o=s?s.getName():this.ISO88591;return Ee.decode(new Uint8Array([e]),o)}static guessEncoding(e,s){if(s!=null&&s.get(Z.CHARACTER_SET)!==void 0)return s.get(Z.CHARACTER_SET).toString();const o=e.length;let u=!0,h=!0,f=!0,x=0,E=0,C=0,I=0,D=0,B=0,G=0,Q=0,te=0,ae=0,me=0;const Oe=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191;for(let Pe=0;Pe<o&&(u||h||f);Pe++){const Ne=e[Pe]&255;f&&(x>0?(Ne&128)===0?f=!1:x--:(Ne&128)!==0&&((Ne&64)===0?f=!1:(x++,(Ne&32)===0?E++:(x++,(Ne&16)===0?C++:(x++,(Ne&8)===0?I++:f=!1))))),u&&(Ne>127&&Ne<160?u=!1:Ne>159&&(Ne<192||Ne===215||Ne===247)&&me++),h&&(D>0?Ne<64||Ne===127||Ne>252?h=!1:D--:Ne===128||Ne===160||Ne>239?h=!1:Ne>160&&Ne<224?(B++,Q=0,G++,G>te&&(te=G)):Ne>127?(D++,G=0,Q++,Q>ae&&(ae=Q)):(G=0,Q=0))}return f&&x>0&&(f=!1),h&&D>0&&(h=!1),f&&(Oe||E+C+I>0)?ce.UTF8:h&&(ce.ASSUME_SHIFT_JIS||te>=3||ae>=3)?ce.SHIFT_JIS:u&&h?te===2&&B===2||me*10>=o?ce.SHIFT_JIS:ce.ISO88591:u?ce.ISO88591:h?ce.SHIFT_JIS:f?ce.UTF8:ce.PLATFORM_DEFAULT_ENCODING}static format(e,...s){let o=-1;function u(f,x,E,C,I,D){if(f==="%%")return"%";if(s[++o]===void 0)return;f=C?parseInt(C.substr(1)):void 0;let B=I?parseInt(I.substr(1)):void 0,G;switch(D){case"s":G=s[o];break;case"c":G=s[o][0];break;case"f":G=parseFloat(s[o]).toFixed(f);break;case"p":G=parseFloat(s[o]).toPrecision(f);break;case"e":G=parseFloat(s[o]).toExponential(f);break;case"x":G=parseInt(s[o]).toString(B||16);break;case"d":G=parseFloat(parseInt(s[o],B||10).toPrecision(f)).toFixed(0);break}G=typeof G=="object"?JSON.stringify(G):(+G).toString(B);let Q=parseInt(E),te=E&&E[0]+""=="0"?"0":" ";for(;G.length<Q;)G=x!==void 0?G+te:te+G;return G}let h=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(h,u)}static getBytes(e,s){return Ee.encode(e,s)}static getCharCode(e,s=0){return e.charCodeAt(s)}static getCharAt(e){return String.fromCharCode(e)}}ce.SHIFT_JIS=V.SJIS.getName(),ce.GB2312="GB2312",ce.ISO88591=V.ISO8859_1.getName(),ce.EUC_JP="EUC_JP",ce.UTF8=V.UTF8.getName(),ce.PLATFORM_DEFAULT_ENCODING=ce.UTF8,ce.ASSUME_SHIFT_JIS=!1;class ve{constructor(e=""){this.value=e}enableDecoding(e){return this.encoding=e,this}append(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=ce.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this}appendChars(e,s,o){for(let u=s;s<s+o;u++)this.append(e[u]);return this}length(){return this.value.length}charAt(e){return this.value.charAt(e)}deleteCharAt(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)}setCharAt(e,s){this.value=this.value.substr(0,e)+s+this.value.substr(e+1)}substring(e,s){return this.value.substring(e,s)}setLengthToZero(){this.value=""}toString(){return this.value}insert(e,s){this.value=this.value.substr(0,e)+s+this.value.substr(e+s.length)}}class Ce{constructor(e,s,o,u){if(this.width=e,this.height=s,this.rowSize=o,this.bits=u,s==null&&(s=e),this.height=s,e<1||s<1)throw new _("Both dimensions must be greater than 0");o==null&&(o=Math.floor((e+31)/32)),this.rowSize=o,u==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(e){const s=e.length,o=e[0].length,u=new Ce(o,s);for(let h=0;h<s;h++){const f=e[h];for(let x=0;x<o;x++)f[x]&&u.set(x,h)}return u}static parseFromString(e,s,o){if(e===null)throw new _("stringRepresentation cannot be null");const u=new Array(e.length);let h=0,f=0,x=-1,E=0,C=0;for(;C<e.length;)if(e.charAt(C)===`
`||e.charAt(C)==="\r"){if(h>f){if(x===-1)x=h-f;else if(h-f!==x)throw new _("row lengths do not match");f=h,E++}C++}else if(e.substring(C,C+s.length)===s)C+=s.length,u[h]=!0,h++;else if(e.substring(C,C+o.length)===o)C+=o.length,u[h]=!1,h++;else throw new _("illegal character encountered: "+e.substring(C));if(h>f){if(x===-1)x=h-f;else if(h-f!==x)throw new _("row lengths do not match");E++}const I=new Ce(x,E);for(let D=0;D<h;D++)u[D]&&I.set(Math.floor(D%x),Math.floor(D/x));return I}get(e,s){const o=s*this.rowSize+Math.floor(e/32);return(this.bits[o]>>>(e&31)&1)!==0}set(e,s){const o=s*this.rowSize+Math.floor(e/32);this.bits[o]|=1<<(e&31)&4294967295}unset(e,s){const o=s*this.rowSize+Math.floor(e/32);this.bits[o]&=~(1<<(e&31)&4294967295)}flip(e,s){const o=s*this.rowSize+Math.floor(e/32);this.bits[o]^=1<<(e&31)&4294967295}xor(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new _("input matrix dimensions do not match");const s=new $(Math.floor(this.width/32)+1),o=this.rowSize,u=this.bits;for(let h=0,f=this.height;h<f;h++){const x=h*o,E=e.getRow(h,s).getBitArray();for(let C=0;C<o;C++)u[x+C]^=E[C]}}clear(){const e=this.bits,s=e.length;for(let o=0;o<s;o++)e[o]=0}setRegion(e,s,o,u){if(s<0||e<0)throw new _("Left and top must be nonnegative");if(u<1||o<1)throw new _("Height and width must be at least 1");const h=e+o,f=s+u;if(f>this.height||h>this.width)throw new _("The region must fit inside the matrix");const x=this.rowSize,E=this.bits;for(let C=s;C<f;C++){const I=C*x;for(let D=e;D<h;D++)E[I+Math.floor(D/32)]|=1<<(D&31)&4294967295}}getRow(e,s){s==null||s.getSize()<this.width?s=new $(this.width):s.clear();const o=this.rowSize,u=this.bits,h=e*o;for(let f=0;f<o;f++)s.setBulk(f*32,u[h+f]);return s}setRow(e,s){k.arraycopy(s.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)}rotate180(){const e=this.getWidth(),s=this.getHeight();let o=new $(e),u=new $(e);for(let h=0,f=Math.floor((s+1)/2);h<f;h++)o=this.getRow(h,o),u=this.getRow(s-1-h,u),o.reverse(),u.reverse(),this.setRow(h,u),this.setRow(s-1-h,o)}getEnclosingRectangle(){const e=this.width,s=this.height,o=this.rowSize,u=this.bits;let h=e,f=s,x=-1,E=-1;for(let C=0;C<s;C++)for(let I=0;I<o;I++){const D=u[C*o+I];if(D!==0){if(C<f&&(f=C),C>E&&(E=C),I*32<h){let B=0;for(;(D<<31-B&4294967295)===0;)B++;I*32+B<h&&(h=I*32+B)}if(I*32+31>x){let B=31;for(;!(D>>>B);)B--;I*32+B>x&&(x=I*32+B)}}}return x<h||E<f?null:Int32Array.from([h,f,x-h+1,E-f+1])}getTopLeftOnBit(){const e=this.rowSize,s=this.bits;let o=0;for(;o<s.length&&s[o]===0;)o++;if(o===s.length)return null;const u=o/e;let h=o%e*32;const f=s[o];let x=0;for(;(f<<31-x&4294967295)===0;)x++;return h+=x,Int32Array.from([h,u])}getBottomRightOnBit(){const e=this.rowSize,s=this.bits;let o=s.length-1;for(;o>=0&&s[o]===0;)o--;if(o<0)return null;const u=Math.floor(o/e);let h=Math.floor(o%e)*32;const f=s[o];let x=31;for(;!(f>>>x);)x--;return h+=x,Int32Array.from([h,u])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(e){if(!(e instanceof Ce))return!1;const s=e;return this.width===s.width&&this.height===s.height&&this.rowSize===s.rowSize&&U.equals(this.bits,s.bits)}hashCode(){let e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+U.hashCode(this.bits),e}toString(e="X ",s="  ",o=`
`){return this.buildToString(e,s,o)}buildToString(e,s,o){let u=new ve;for(let h=0,f=this.height;h<f;h++){for(let x=0,E=this.width;x<E;x++)u.append(this.get(x,h)?e:s);u.append(o)}return u.toString()}clone(){return new Ce(this.width,this.height,this.rowSize,this.bits.slice())}}class ie extends y{static getNotFoundInstance(){return new ie}}ie.kind="NotFoundException";class he extends M{constructor(e){super(e),this.luminances=he.EMPTY,this.buckets=new Int32Array(he.LUMINANCE_BUCKETS)}getBlackRow(e,s){const o=this.getLuminanceSource(),u=o.getWidth();s==null||s.getSize()<u?s=new $(u):s.clear(),this.initArrays(u);const h=o.getRow(e,this.luminances),f=this.buckets;for(let E=0;E<u;E++)f[(h[E]&255)>>he.LUMINANCE_SHIFT]++;const x=he.estimateBlackPoint(f);if(u<3)for(let E=0;E<u;E++)(h[E]&255)<x&&s.set(E);else{let E=h[0]&255,C=h[1]&255;for(let I=1;I<u-1;I++){const D=h[I+1]&255;(C*4-E-D)/2<x&&s.set(I),E=C,C=D}}return s}getBlackMatrix(){const e=this.getLuminanceSource(),s=e.getWidth(),o=e.getHeight(),u=new Ce(s,o);this.initArrays(s);const h=this.buckets;for(let E=1;E<5;E++){const C=Math.floor(o*E/5),I=e.getRow(C,this.luminances),D=Math.floor(s*4/5);for(let B=Math.floor(s/5);B<D;B++){const G=I[B]&255;h[G>>he.LUMINANCE_SHIFT]++}}const f=he.estimateBlackPoint(h),x=e.getMatrix();for(let E=0;E<o;E++){const C=E*s;for(let I=0;I<s;I++)(x[C+I]&255)<f&&u.set(I,E)}return u}createBinarizer(e){return new he(e)}initArrays(e){this.luminances.length<e&&(this.luminances=new Uint8ClampedArray(e));const s=this.buckets;for(let o=0;o<he.LUMINANCE_BUCKETS;o++)s[o]=0}static estimateBlackPoint(e){const s=e.length;let o=0,u=0,h=0;for(let I=0;I<s;I++)e[I]>h&&(u=I,h=e[I]),e[I]>o&&(o=e[I]);let f=0,x=0;for(let I=0;I<s;I++){const D=I-u,B=e[I]*D*D;B>x&&(f=I,x=B)}if(u>f){const I=u;u=f,f=I}if(f-u<=s/16)throw new ie;let E=f-1,C=-1;for(let I=f-1;I>u;I--){const D=I-u,B=D*D*(f-I)*(o-e[I]);B>C&&(E=I,C=B)}return E<<he.LUMINANCE_SHIFT}}he.LUMINANCE_BITS=5,he.LUMINANCE_SHIFT=8-he.LUMINANCE_BITS,he.LUMINANCE_BUCKETS=1<<he.LUMINANCE_BITS,he.EMPTY=Uint8ClampedArray.from([0]);class se extends he{constructor(e){super(e),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const e=this.getLuminanceSource(),s=e.getWidth(),o=e.getHeight();if(s>=se.MINIMUM_DIMENSION&&o>=se.MINIMUM_DIMENSION){const u=e.getMatrix();let h=s>>se.BLOCK_SIZE_POWER;(s&se.BLOCK_SIZE_MASK)!==0&&h++;let f=o>>se.BLOCK_SIZE_POWER;(o&se.BLOCK_SIZE_MASK)!==0&&f++;const x=se.calculateBlackPoints(u,h,f,s,o),E=new Ce(s,o);se.calculateThresholdForBlock(u,h,f,s,o,x,E),this.matrix=E}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(e){return new se(e)}static calculateThresholdForBlock(e,s,o,u,h,f,x){const E=h-se.BLOCK_SIZE,C=u-se.BLOCK_SIZE;for(let I=0;I<o;I++){let D=I<<se.BLOCK_SIZE_POWER;D>E&&(D=E);const B=se.cap(I,2,o-3);for(let G=0;G<s;G++){let Q=G<<se.BLOCK_SIZE_POWER;Q>C&&(Q=C);const te=se.cap(G,2,s-3);let ae=0;for(let Oe=-2;Oe<=2;Oe++){const Pe=f[B+Oe];ae+=Pe[te-2]+Pe[te-1]+Pe[te]+Pe[te+1]+Pe[te+2]}const me=ae/25;se.thresholdBlock(e,Q,D,me,u,x)}}}static cap(e,s,o){return e<s?s:e>o?o:e}static thresholdBlock(e,s,o,u,h,f){for(let x=0,E=o*h+s;x<se.BLOCK_SIZE;x++,E+=h)for(let C=0;C<se.BLOCK_SIZE;C++)(e[E+C]&255)<=u&&f.set(s+C,o+x)}static calculateBlackPoints(e,s,o,u,h){const f=h-se.BLOCK_SIZE,x=u-se.BLOCK_SIZE,E=new Array(o);for(let C=0;C<o;C++){E[C]=new Int32Array(s);let I=C<<se.BLOCK_SIZE_POWER;I>f&&(I=f);for(let D=0;D<s;D++){let B=D<<se.BLOCK_SIZE_POWER;B>x&&(B=x);let G=0,Q=255,te=0;for(let me=0,Oe=I*u+B;me<se.BLOCK_SIZE;me++,Oe+=u){for(let Pe=0;Pe<se.BLOCK_SIZE;Pe++){const Ne=e[Oe+Pe]&255;G+=Ne,Ne<Q&&(Q=Ne),Ne>te&&(te=Ne)}if(te-Q>se.MIN_DYNAMIC_RANGE)for(me++,Oe+=u;me<se.BLOCK_SIZE;me++,Oe+=u)for(let Pe=0;Pe<se.BLOCK_SIZE;Pe++)G+=e[Oe+Pe]&255}let ae=G>>se.BLOCK_SIZE_POWER*2;if(te-Q<=se.MIN_DYNAMIC_RANGE&&(ae=Q/2,C>0&&D>0)){const me=(E[C-1][D]+2*E[C][D-1]+E[C-1][D-1])/4;Q<me&&(ae=me)}E[C][D]=ae}}return E}}se.BLOCK_SIZE_POWER=3,se.BLOCK_SIZE=1<<se.BLOCK_SIZE_POWER,se.BLOCK_SIZE_MASK=se.BLOCK_SIZE-1,se.MINIMUM_DIMENSION=se.BLOCK_SIZE*5,se.MIN_DYNAMIC_RANGE=24;class J{constructor(e,s){this.width=e,this.height=s}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(e,s,o,u){throw new ge("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new ge("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new ge("This luminance source does not support rotation by 45 degrees.")}toString(){const e=new Uint8ClampedArray(this.width);let s=new ve;for(let o=0;o<this.height;o++){const u=this.getRow(o,e);for(let h=0;h<this.width;h++){const f=u[h]&255;let x;f<64?x="#":f<128?x="+":f<192?x=".":x=" ",s.append(x)}s.append(`
`)}return s.toString()}}class ne extends J{constructor(e){super(e.getWidth(),e.getHeight()),this.delegate=e}getRow(e,s){const o=this.delegate.getRow(e,s),u=this.getWidth();for(let h=0;h<u;h++)o[h]=255-(o[h]&255);return o}getMatrix(){const e=this.delegate.getMatrix(),s=this.getWidth()*this.getHeight(),o=new Uint8ClampedArray(s);for(let u=0;u<s;u++)o[u]=255-(e[u]&255);return o}isCropSupported(){return this.delegate.isCropSupported()}crop(e,s,o,u){return new ne(this.delegate.crop(e,s,o,u))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new ne(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new ne(this.delegate.rotateCounterClockwise45())}}class oe extends J{constructor(e){super(e.width,e.height),this.canvas=e,this.tempCanvasElement=null,this.buffer=oe.makeBufferFromCanvasImageData(e)}static makeBufferFromCanvasImageData(e){const s=e.getContext("2d").getImageData(0,0,e.width,e.height);return oe.toGrayscaleBuffer(s.data,e.width,e.height)}static toGrayscaleBuffer(e,s,o){const u=new Uint8ClampedArray(s*o);for(let h=0,f=0,x=e.length;h<x;h+=4,f++){let E;if(e[h+3]===0)E=255;else{const I=e[h],D=e[h+1],B=e[h+2];E=306*I+601*D+117*B+512>>10}u[f]=E}return u}getRow(e,s){if(e<0||e>=this.getHeight())throw new _("Requested row is outside the image: "+e);const o=this.getWidth(),u=e*o;return s===null?s=this.buffer.slice(u,u+o):(s.length<o&&(s=new Uint8ClampedArray(o)),s.set(this.buffer.slice(u,u+o))),s}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(e,s,o,u){return super.crop(e,s,o,u),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const e=this.canvas.ownerDocument.createElement("canvas");e.width=this.canvas.width,e.height=this.canvas.height,this.tempCanvasElement=e}return this.tempCanvasElement}rotate(e){const s=this.getTempCanvasElement(),o=s.getContext("2d"),u=e*oe.DEGREE_TO_RADIANS,h=this.canvas.width,f=this.canvas.height,x=Math.ceil(Math.abs(Math.cos(u))*h+Math.abs(Math.sin(u))*f),E=Math.ceil(Math.abs(Math.sin(u))*h+Math.abs(Math.cos(u))*f);return s.width=x,s.height=E,o.translate(x/2,E/2),o.rotate(u),o.drawImage(this.canvas,h/-2,f/-2),this.buffer=oe.makeBufferFromCanvasImageData(s),this}invert(){return new ne(this)}}oe.DEGREE_TO_RADIANS=Math.PI/180;class Y{constructor(e,s,o){this.deviceId=e,this.label=s,this.kind="videoinput",this.groupId=o||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var le=(globalThis||lu||self||window||void 0)&&(globalThis||lu||self||window||void 0).__awaiter||function(P,e,s,o){function u(h){return h instanceof s?h:new s(function(f){f(h)})}return new(s||(s=Promise))(function(h,f){function x(I){try{C(o.next(I))}catch(D){f(D)}}function E(I){try{C(o.throw(I))}catch(D){f(D)}}function C(I){I.done?h(I.value):u(I.value).then(x,E)}C((o=o.apply(P,e||[])).next())})};class Ae{constructor(e,s=500,o){this.reader=e,this.timeBetweenScansMillis=s,this._hints=o,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(e){this._timeBetweenDecodingAttempts=e<0?0:e}set hints(e){this._hints=e||null}get hints(){return this._hints}listVideoInputDevices(){return le(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const e=yield navigator.mediaDevices.enumerateDevices(),s=[];for(const o of e){const u=o.kind==="video"?"videoinput":o.kind;if(u!=="videoinput")continue;const h=o.deviceId||o.id,f=o.label||`Video device ${s.length+1}`,x=o.groupId,E={deviceId:h,label:f,kind:u,groupId:x};s.push(E)}return s})}getVideoInputDevices(){return le(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(s=>new Y(s.deviceId,s.label))})}findDeviceById(e){return le(this,void 0,void 0,function*(){const s=yield this.listVideoInputDevices();return s?s.find(o=>o.deviceId===e):null})}decodeFromInputVideoDevice(e,s){return le(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(e,s)})}decodeOnceFromVideoDevice(e,s){return le(this,void 0,void 0,function*(){this.reset();let o;e?o={deviceId:{exact:e}}:o={facingMode:"environment"};const u={video:o};return yield this.decodeOnceFromConstraints(u,s)})}decodeOnceFromConstraints(e,s){return le(this,void 0,void 0,function*(){const o=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeOnceFromStream(o,s)})}decodeOnceFromStream(e,s){return le(this,void 0,void 0,function*(){this.reset();const o=yield this.attachStreamToVideo(e,s);return yield this.decodeOnce(o)})}decodeFromInputVideoDeviceContinuously(e,s,o){return le(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(e,s,o)})}decodeFromVideoDevice(e,s,o){return le(this,void 0,void 0,function*(){let u;e?u={deviceId:{exact:e}}:u={facingMode:"environment"};const h={video:u};return yield this.decodeFromConstraints(h,s,o)})}decodeFromConstraints(e,s,o){return le(this,void 0,void 0,function*(){const u=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeFromStream(u,s,o)})}decodeFromStream(e,s,o){return le(this,void 0,void 0,function*(){this.reset();const u=yield this.attachStreamToVideo(e,s);return yield this.decodeContinuously(u,o)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(e,s){return le(this,void 0,void 0,function*(){const o=this.prepareVideoElement(s);return this.addVideoSource(o,e),this.videoElement=o,this.stream=e,yield this.playVideoOnLoadAsync(o),o})}playVideoOnLoadAsync(e){return new Promise((s,o)=>this.playVideoOnLoad(e,()=>s()))}playVideoOnLoad(e,s){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(e),e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",s),this.tryPlayVideo(e)}isVideoPlaying(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2}tryPlayVideo(e){return le(this,void 0,void 0,function*(){if(this.isVideoPlaying(e)){console.warn("Trying to play video that is already playing.");return}try{yield e.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(e,s){const o=document.getElementById(e);if(!o)throw new A(`element with id '${e}' not found`);if(o.nodeName.toLowerCase()!==s.toLowerCase())throw new A(`element with id '${e}' must be an ${s} element`);return o}decodeFromImage(e,s){if(!e&&!s)throw new A("either imageElement with a src set or an url must be provided");return s&&!e?this.decodeFromImageUrl(s):this.decodeFromImageElement(e)}decodeFromVideo(e,s){if(!e&&!s)throw new A("Either an element with a src set or an URL must be provided");return s&&!e?this.decodeFromVideoUrl(s):this.decodeFromVideoElement(e)}decodeFromVideoContinuously(e,s,o){if(e===void 0&&s===void 0)throw new A("Either an element with a src set or an URL must be provided");return s&&!e?this.decodeFromVideoUrlContinuously(s,o):this.decodeFromVideoElementContinuously(e,o)}decodeFromImageElement(e){if(!e)throw new A("An image element must be provided.");this.reset();const s=this.prepareImageElement(e);this.imageElement=s;let o;return this.isImageLoaded(s)?o=this.decodeOnce(s,!1,!0):o=this._decodeOnLoadImage(s),o}decodeFromVideoElement(e){const s=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(s)}decodeFromVideoElementContinuously(e,s){const o=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(o,s)}_decodeFromVideoElementSetup(e){if(!e)throw new A("A video element must be provided.");this.reset();const s=this.prepareVideoElement(e);return this.videoElement=s,s}decodeFromImageUrl(e){if(!e)throw new A("An URL must be provided.");this.reset();const s=this.prepareImageElement();this.imageElement=s;const o=this._decodeOnLoadImage(s);return s.src=e,o}decodeFromVideoUrl(e){if(!e)throw new A("An URL must be provided.");this.reset();const s=this.prepareVideoElement(),o=this.decodeFromVideoElement(s);return s.src=e,o}decodeFromVideoUrlContinuously(e,s){if(!e)throw new A("An URL must be provided.");this.reset();const o=this.prepareVideoElement(),u=this.decodeFromVideoElementContinuously(o,s);return o.src=e,u}_decodeOnLoadImage(e){return new Promise((s,o)=>{this.imageLoadedListener=()=>this.decodeOnce(e,!1,!0).then(s,o),e.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(e){return le(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(e),yield this.decodeOnce(e)})}_decodeOnLoadVideoContinuously(e,s){return le(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(e),this.decodeContinuously(e,s)})}isImageLoaded(e){return!(!e.complete||e.naturalWidth===0)}prepareImageElement(e){let s;return typeof e>"u"&&(s=document.createElement("img"),s.width=200,s.height=200),typeof e=="string"&&(s=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(s=e),s}prepareVideoElement(e){let s;return!e&&typeof document<"u"&&(s=document.createElement("video"),s.width=200,s.height=200),typeof e=="string"&&(s=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(s=e),s.setAttribute("autoplay","true"),s.setAttribute("muted","true"),s.setAttribute("playsinline","true"),s}decodeOnce(e,s=!0,o=!0){this._stopAsyncDecode=!1;const u=(h,f)=>{if(this._stopAsyncDecode){f(new ie("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const x=this.decode(e);h(x)}catch(x){const E=s&&x instanceof ie,I=(x instanceof R||x instanceof H)&&o;if(E||I)return setTimeout(u,this._timeBetweenDecodingAttempts,h,f);f(x)}};return new Promise((h,f)=>u(h,f))}decodeContinuously(e,s){this._stopContinuousDecode=!1;const o=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const u=this.decode(e);s(u,null),setTimeout(o,this.timeBetweenScansMillis)}catch(u){s(null,u);const h=u instanceof R||u instanceof H,f=u instanceof ie;(h||f)&&setTimeout(o,this._timeBetweenDecodingAttempts)}};o()}decode(e){const s=this.createBinaryBitmap(e);return this.decodeBitmap(s)}_isHTMLVideoElement(e){return e.videoWidth!==0}drawFrameOnCanvas(e,s,o){s||(s={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),o||(o=this.captureCanvasContext),o.drawImage(e,s.sx,s.sy,s.sWidth,s.sHeight,s.dx,s.dy,s.dWidth,s.dHeight)}drawImageOnCanvas(e,s,o=this.captureCanvasContext){s||(s={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),o||(o=this.captureCanvasContext),o.drawImage(e,s.sx,s.sy,s.sWidth,s.sHeight,s.dx,s.dy,s.dWidth,s.dHeight)}createBinaryBitmap(e){this.getCaptureCanvasContext(e),this._isHTMLVideoElement(e)?this.drawFrameOnCanvas(e):this.drawImageOnCanvas(e);const s=this.getCaptureCanvas(e),o=new oe(s),u=new se(o);return new O(u)}getCaptureCanvasContext(e){if(!this.captureCanvasContext){const o=this.getCaptureCanvas(e).getContext("2d");this.captureCanvasContext=o}return this.captureCanvasContext}getCaptureCanvas(e){if(!this.captureCanvas){const s=this.createCaptureCanvas(e);this.captureCanvas=s}return this.captureCanvas}decodeBitmap(e){return this.reader.decode(e,this._hints)}createCaptureCanvas(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const s=document.createElement("canvas");let o,u;return typeof e<"u"&&(e instanceof HTMLVideoElement?(o=e.videoWidth,u=e.videoHeight):e instanceof HTMLImageElement&&(o=e.naturalWidth||e.width,u=e.naturalHeight||e.height)),s.style.width=o+"px",s.style.height=u+"px",s.width=o,s.height=u,s}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(e=>e.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(e,s){try{e.srcObject=s}catch{e.src=URL.createObjectURL(s)}}cleanVideoSource(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")}}class ke{constructor(e,s,o=s==null?0:8*s.length,u,h,f=k.currentTimeMillis()){this.text=e,this.rawBytes=s,this.numBits=o,this.resultPoints=u,this.format=h,this.timestamp=f,this.text=e,this.rawBytes=s,o==null?this.numBits=s==null?0:8*s.length:this.numBits=o,this.resultPoints=u,this.format=h,this.resultMetadata=null,f==null?this.timestamp=k.currentTimeMillis():this.timestamp=f}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(e,s){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,s)}putAllMetadata(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))}addResultPoints(e){const s=this.resultPoints;if(s===null)this.resultPoints=e;else if(e!==null&&e.length>0){const o=new Array(s.length+e.length);k.arraycopy(s,0,o,0,s.length),k.arraycopy(e,0,o,s.length,e.length),this.resultPoints=o}}getTimestamp(){return this.timestamp}toString(){return this.text}}var ye;(function(P){P[P.AZTEC=0]="AZTEC",P[P.CODABAR=1]="CODABAR",P[P.CODE_39=2]="CODE_39",P[P.CODE_93=3]="CODE_93",P[P.CODE_128=4]="CODE_128",P[P.DATA_MATRIX=5]="DATA_MATRIX",P[P.EAN_8=6]="EAN_8",P[P.EAN_13=7]="EAN_13",P[P.ITF=8]="ITF",P[P.MAXICODE=9]="MAXICODE",P[P.PDF_417=10]="PDF_417",P[P.QR_CODE=11]="QR_CODE",P[P.RSS_14=12]="RSS_14",P[P.RSS_EXPANDED=13]="RSS_EXPANDED",P[P.UPC_A=14]="UPC_A",P[P.UPC_E=15]="UPC_E",P[P.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ye||(ye={}));var be=ye,pe;(function(P){P[P.OTHER=0]="OTHER",P[P.ORIENTATION=1]="ORIENTATION",P[P.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",P[P.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",P[P.ISSUE_NUMBER=4]="ISSUE_NUMBER",P[P.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",P[P.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",P[P.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",P[P.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",P[P.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",P[P.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(pe||(pe={}));var Te=pe;class We{constructor(e,s,o,u,h=-1,f=-1){this.rawBytes=e,this.text=s,this.byteSegments=o,this.ecLevel=u,this.structuredAppendSequenceNumber=h,this.structuredAppendParity=f,this.numBits=e==null?0:8*e.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(e){this.numBits=e}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(e){this.errorsCorrected=e}getErasures(){return this.erasures}setErasures(e){this.erasures=e}getOther(){return this.other}setOther(e){this.other=e}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Qe{exp(e){return this.expTable[e]}log(e){if(e===0)throw new _;return this.logTable[e]}static addOrSubtract(e,s){return e^s}}class st{constructor(e,s){if(s.length===0)throw new _;this.field=e;const o=s.length;if(o>1&&s[0]===0){let u=1;for(;u<o&&s[u]===0;)u++;u===o?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(o-u),k.arraycopy(s,u,this.coefficients,0,this.coefficients.length))}else this.coefficients=s}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);const s=this.coefficients;let o;if(e===1){o=0;for(let f=0,x=s.length;f!==x;f++){const E=s[f];o=Qe.addOrSubtract(o,E)}return o}o=s[0];const u=s.length,h=this.field;for(let f=1;f<u;f++)o=Qe.addOrSubtract(h.multiply(e,o),s[f]);return o}addOrSubtract(e){if(!this.field.equals(e.field))throw new _("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;let s=this.coefficients,o=e.coefficients;if(s.length>o.length){const f=s;s=o,o=f}let u=new Int32Array(o.length);const h=o.length-s.length;k.arraycopy(o,0,u,0,h);for(let f=h;f<o.length;f++)u[f]=Qe.addOrSubtract(s[f-h],o[f]);return new st(this.field,u)}multiply(e){if(!this.field.equals(e.field))throw new _("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();const s=this.coefficients,o=s.length,u=e.coefficients,h=u.length,f=new Int32Array(o+h-1),x=this.field;for(let E=0;E<o;E++){const C=s[E];for(let I=0;I<h;I++)f[E+I]=Qe.addOrSubtract(f[E+I],x.multiply(C,u[I]))}return new st(x,f)}multiplyScalar(e){if(e===0)return this.field.getZero();if(e===1)return this;const s=this.coefficients.length,o=this.field,u=new Int32Array(s),h=this.coefficients;for(let f=0;f<s;f++)u[f]=o.multiply(h[f],e);return new st(o,u)}multiplyByMonomial(e,s){if(e<0)throw new _;if(s===0)return this.field.getZero();const o=this.coefficients,u=o.length,h=new Int32Array(u+e),f=this.field;for(let x=0;x<u;x++)h[x]=f.multiply(o[x],s);return new st(f,h)}divide(e){if(!this.field.equals(e.field))throw new _("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new _("Divide by 0");const s=this.field;let o=s.getZero(),u=this;const h=e.getCoefficient(e.getDegree()),f=s.inverse(h);for(;u.getDegree()>=e.getDegree()&&!u.isZero();){const x=u.getDegree()-e.getDegree(),E=s.multiply(u.getCoefficient(u.getDegree()),f),C=e.multiplyByMonomial(x,E),I=s.buildMonomial(x,E);o=o.addOrSubtract(I),u=u.addOrSubtract(C)}return[o,u]}toString(){let e="";for(let s=this.getDegree();s>=0;s--){let o=this.getCoefficient(s);if(o!==0){if(o<0?(e+=" - ",o=-o):e.length>0&&(e+=" + "),s===0||o!==1){const u=this.field.log(o);u===0?e+="1":u===1?e+="a":(e+="a^",e+=u)}s!==0&&(s===1?e+="x":(e+="x^",e+=s))}}return e}}class St extends y{}St.kind="ArithmeticException";class ot extends Qe{constructor(e,s,o){super(),this.primitive=e,this.size=s,this.generatorBase=o;const u=new Int32Array(s);let h=1;for(let x=0;x<s;x++)u[x]=h,h*=2,h>=s&&(h^=e,h&=s-1);this.expTable=u;const f=new Int32Array(s);for(let x=0;x<s-1;x++)f[u[x]]=x;this.logTable=f,this.zero=new st(this,Int32Array.from([0])),this.one=new st(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,s){if(e<0)throw new _;if(s===0)return this.zero;const o=new Int32Array(e+1);return o[0]=s,new st(this,o)}inverse(e){if(e===0)throw new St;return this.expTable[this.size-this.logTable[e]-1]}multiply(e,s){return e===0||s===0?0:this.expTable[(this.logTable[e]+this.logTable[s])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+F.toHexString(this.primitive)+","+this.size+")"}equals(e){return e===this}}ot.AZTEC_DATA_12=new ot(4201,4096,1),ot.AZTEC_DATA_10=new ot(1033,1024,1),ot.AZTEC_DATA_6=new ot(67,64,1),ot.AZTEC_PARAM=new ot(19,16,1),ot.QR_CODE_FIELD_256=new ot(285,256,0),ot.DATA_MATRIX_FIELD_256=new ot(301,256,1),ot.AZTEC_DATA_8=ot.DATA_MATRIX_FIELD_256,ot.MAXICODE_FIELD_64=ot.AZTEC_DATA_6;class hn extends y{}hn.kind="ReedSolomonException";class De extends y{}De.kind="IllegalStateException";class Be{constructor(e){this.field=e}decode(e,s){const o=this.field,u=new st(o,e),h=new Int32Array(s);let f=!0;for(let G=0;G<s;G++){const Q=u.evaluateAt(o.exp(G+o.getGeneratorBase()));h[h.length-1-G]=Q,Q!==0&&(f=!1)}if(f)return;const x=new st(o,h),E=this.runEuclideanAlgorithm(o.buildMonomial(s,1),x,s),C=E[0],I=E[1],D=this.findErrorLocations(C),B=this.findErrorMagnitudes(I,D);for(let G=0;G<D.length;G++){const Q=e.length-1-o.log(D[G]);if(Q<0)throw new hn("Bad error location");e[Q]=ot.addOrSubtract(e[Q],B[G])}}runEuclideanAlgorithm(e,s,o){if(e.getDegree()<s.getDegree()){const G=e;e=s,s=G}const u=this.field;let h=e,f=s,x=u.getZero(),E=u.getOne();for(;f.getDegree()>=(o/2|0);){let G=h,Q=x;if(h=f,x=E,h.isZero())throw new hn("r_{i-1} was zero");f=G;let te=u.getZero();const ae=h.getCoefficient(h.getDegree()),me=u.inverse(ae);for(;f.getDegree()>=h.getDegree()&&!f.isZero();){const Oe=f.getDegree()-h.getDegree(),Pe=u.multiply(f.getCoefficient(f.getDegree()),me);te=te.addOrSubtract(u.buildMonomial(Oe,Pe)),f=f.addOrSubtract(h.multiplyByMonomial(Oe,Pe))}if(E=te.multiply(x).addOrSubtract(Q),f.getDegree()>=h.getDegree())throw new De("Division algorithm failed to reduce polynomial?")}const C=E.getCoefficient(0);if(C===0)throw new hn("sigmaTilde(0) was zero");const I=u.inverse(C),D=E.multiplyScalar(I),B=f.multiplyScalar(I);return[D,B]}findErrorLocations(e){const s=e.getDegree();if(s===1)return Int32Array.from([e.getCoefficient(1)]);const o=new Int32Array(s);let u=0;const h=this.field;for(let f=1;f<h.getSize()&&u<s;f++)e.evaluateAt(f)===0&&(o[u]=h.inverse(f),u++);if(u!==s)throw new hn("Error locator degree does not match number of roots");return o}findErrorMagnitudes(e,s){const o=s.length,u=new Int32Array(o),h=this.field;for(let f=0;f<o;f++){const x=h.inverse(s[f]);let E=1;for(let C=0;C<o;C++)if(f!==C){const I=h.multiply(s[C],x),D=(I&1)===0?I|1:I&-2;E=h.multiply(E,D)}u[f]=h.multiply(e.evaluateAt(x),h.inverse(E)),h.getGeneratorBase()!==0&&(u[f]=h.multiply(u[f],x))}return u}}var it;(function(P){P[P.UPPER=0]="UPPER",P[P.LOWER=1]="LOWER",P[P.MIXED=2]="MIXED",P[P.DIGIT=3]="DIGIT",P[P.PUNCT=4]="PUNCT",P[P.BINARY=5]="BINARY"})(it||(it={}));class qe{decode(e){this.ddata=e;let s=e.getBits(),o=this.extractBits(s),u=this.correctBits(o),h=qe.convertBoolArrayToByteArray(u),f=qe.getEncodedData(u),x=new We(h,f,null,null);return x.setNumBits(u.length),x}static highLevelDecode(e){return this.getEncodedData(e)}static getEncodedData(e){let s=e.length,o=it.UPPER,u=it.UPPER,h="",f=0;for(;f<s;)if(u===it.BINARY){if(s-f<5)break;let x=qe.readCode(e,f,5);if(f+=5,x===0){if(s-f<11)break;x=qe.readCode(e,f,11)+31,f+=11}for(let E=0;E<x;E++){if(s-f<8){f=s;break}const C=qe.readCode(e,f,8);h+=ce.castAsNonUtf8Char(C),f+=8}u=o}else{let x=u===it.DIGIT?4:5;if(s-f<x)break;let E=qe.readCode(e,f,x);f+=x;let C=qe.getCharacter(u,E);C.startsWith("CTRL_")?(o=u,u=qe.getTable(C.charAt(5)),C.charAt(6)==="L"&&(o=u)):(h+=C,u=o)}return h}static getTable(e){switch(e){case"L":return it.LOWER;case"P":return it.PUNCT;case"M":return it.MIXED;case"D":return it.DIGIT;case"B":return it.BINARY;case"U":default:return it.UPPER}}static getCharacter(e,s){switch(e){case it.UPPER:return qe.UPPER_TABLE[s];case it.LOWER:return qe.LOWER_TABLE[s];case it.MIXED:return qe.MIXED_TABLE[s];case it.PUNCT:return qe.PUNCT_TABLE[s];case it.DIGIT:return qe.DIGIT_TABLE[s];default:throw new De("Bad table")}}correctBits(e){let s,o;this.ddata.getNbLayers()<=2?(o=6,s=ot.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(o=8,s=ot.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(o=10,s=ot.AZTEC_DATA_10):(o=12,s=ot.AZTEC_DATA_12);let u=this.ddata.getNbDatablocks(),h=e.length/o;if(h<u)throw new H;let f=e.length%o,x=new Int32Array(h);for(let B=0;B<h;B++,f+=o)x[B]=qe.readCode(e,f,o);try{new Be(s).decode(x,h-u)}catch(B){throw new H(B)}let E=(1<<o)-1,C=0;for(let B=0;B<u;B++){let G=x[B];if(G===0||G===E)throw new H;(G===1||G===E-1)&&C++}let I=new Array(u*o-C),D=0;for(let B=0;B<u;B++){let G=x[B];if(G===1||G===E-1)I.fill(G>1,D,D+o-1),D+=o-1;else for(let Q=o-1;Q>=0;--Q)I[D++]=(G&1<<Q)!==0}return I}extractBits(e){let s=this.ddata.isCompact(),o=this.ddata.getNbLayers(),u=(s?11:14)+o*4,h=new Int32Array(u),f=new Array(this.totalBitsInLayer(o,s));if(s)for(let x=0;x<h.length;x++)h[x]=x;else{let x=u+1+2*F.truncDivision(F.truncDivision(u,2)-1,15),E=u/2,C=F.truncDivision(x,2);for(let I=0;I<E;I++){let D=I+F.truncDivision(I,15);h[E-I-1]=C-D-1,h[E+I]=C+D+1}}for(let x=0,E=0;x<o;x++){let C=(o-x)*4+(s?9:12),I=x*2,D=u-1-I;for(let B=0;B<C;B++){let G=B*2;for(let Q=0;Q<2;Q++)f[E+G+Q]=e.get(h[I+Q],h[I+B]),f[E+2*C+G+Q]=e.get(h[I+B],h[D-Q]),f[E+4*C+G+Q]=e.get(h[D-Q],h[D-B]),f[E+6*C+G+Q]=e.get(h[D-B],h[I+Q])}E+=C*8}return f}static readCode(e,s,o){let u=0;for(let h=s;h<s+o;h++)u<<=1,e[h]&&(u|=1);return u}static readByte(e,s){let o=e.length-s;return o>=8?qe.readCode(e,s,8):qe.readCode(e,s,o)<<8-o}static convertBoolArrayToByteArray(e){let s=new Uint8Array((e.length+7)/8);for(let o=0;o<s.length;o++)s[o]=qe.readByte(e,8*o);return s}totalBitsInLayer(e,s){return((s?88:112)+16*e)*e}}qe.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],qe.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],qe.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],qe.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],qe.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class tt{constructor(){}static round(e){return e===NaN?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0}static distance(e,s,o,u){const h=e-o,f=s-u;return Math.sqrt(h*h+f*f)}static sum(e){let s=0;for(let o=0,u=e.length;o!==u;o++){const h=e[o];s+=h}return s}}class fn{static floatToIntBits(e){return e}}fn.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Le{constructor(e,s){this.x=e,this.y=s}getX(){return this.x}getY(){return this.y}equals(e){if(e instanceof Le){const s=e;return this.x===s.x&&this.y===s.y}return!1}hashCode(){return 31*fn.floatToIntBits(this.x)+fn.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(e){const s=this.distance(e[0],e[1]),o=this.distance(e[1],e[2]),u=this.distance(e[0],e[2]);let h,f,x;if(o>=s&&o>=u?(f=e[0],h=e[1],x=e[2]):u>=o&&u>=s?(f=e[1],h=e[0],x=e[2]):(f=e[2],h=e[0],x=e[1]),this.crossProductZ(h,f,x)<0){const E=h;h=x,x=E}e[0]=h,e[1]=f,e[2]=x}static distance(e,s){return tt.distance(e.x,e.y,s.x,s.y)}static crossProductZ(e,s,o){const u=s.x,h=s.y;return(o.x-u)*(e.y-h)-(o.y-h)*(e.x-u)}}class fr{constructor(e,s){this.bits=e,this.points=s}getBits(){return this.bits}getPoints(){return this.points}}class zi extends fr{constructor(e,s,o,u,h){super(e,s),this.compact=o,this.nbDatablocks=u,this.nbLayers=h}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Zn{constructor(e,s,o,u){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),s==null&&(s=Zn.INIT_SIZE),o==null&&(o=e.getWidth()/2|0),u==null&&(u=e.getHeight()/2|0);const h=s/2|0;if(this.leftInit=o-h,this.rightInit=o+h,this.upInit=u-h,this.downInit=u+h,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new ie}detect(){let e=this.leftInit,s=this.rightInit,o=this.upInit,u=this.downInit,h=!1,f=!0,x=!1,E=!1,C=!1,I=!1,D=!1;const B=this.width,G=this.height;for(;f;){f=!1;let Q=!0;for(;(Q||!E)&&s<B;)Q=this.containsBlackPoint(o,u,s,!1),Q?(s++,f=!0,E=!0):E||s++;if(s>=B){h=!0;break}let te=!0;for(;(te||!C)&&u<G;)te=this.containsBlackPoint(e,s,u,!0),te?(u++,f=!0,C=!0):C||u++;if(u>=G){h=!0;break}let ae=!0;for(;(ae||!I)&&e>=0;)ae=this.containsBlackPoint(o,u,e,!1),ae?(e--,f=!0,I=!0):I||e--;if(e<0){h=!0;break}let me=!0;for(;(me||!D)&&o>=0;)me=this.containsBlackPoint(e,s,o,!0),me?(o--,f=!0,D=!0):D||o--;if(o<0){h=!0;break}f&&(x=!0)}if(!h&&x){const Q=s-e;let te=null;for(let Pe=1;te===null&&Pe<Q;Pe++)te=this.getBlackPointOnSegment(e,u-Pe,e+Pe,u);if(te==null)throw new ie;let ae=null;for(let Pe=1;ae===null&&Pe<Q;Pe++)ae=this.getBlackPointOnSegment(e,o+Pe,e+Pe,o);if(ae==null)throw new ie;let me=null;for(let Pe=1;me===null&&Pe<Q;Pe++)me=this.getBlackPointOnSegment(s,o+Pe,s-Pe,o);if(me==null)throw new ie;let Oe=null;for(let Pe=1;Oe===null&&Pe<Q;Pe++)Oe=this.getBlackPointOnSegment(s,u-Pe,s-Pe,u);if(Oe==null)throw new ie;return this.centerEdges(Oe,te,me,ae)}else throw new ie}getBlackPointOnSegment(e,s,o,u){const h=tt.round(tt.distance(e,s,o,u)),f=(o-e)/h,x=(u-s)/h,E=this.image;for(let C=0;C<h;C++){const I=tt.round(e+C*f),D=tt.round(s+C*x);if(E.get(I,D))return new Le(I,D)}return null}centerEdges(e,s,o,u){const h=e.getX(),f=e.getY(),x=s.getX(),E=s.getY(),C=o.getX(),I=o.getY(),D=u.getX(),B=u.getY(),G=Zn.CORR;return h<this.width/2?[new Le(D-G,B+G),new Le(x+G,E+G),new Le(C-G,I-G),new Le(h+G,f-G)]:[new Le(D+G,B+G),new Le(x+G,E-G),new Le(C-G,I+G),new Le(h-G,f-G)]}containsBlackPoint(e,s,o,u){const h=this.image;if(u){for(let f=e;f<=s;f++)if(h.get(f,o))return!0}else for(let f=e;f<=s;f++)if(h.get(o,f))return!0;return!1}}Zn.INIT_SIZE=10,Zn.CORR=1;class Qn{static checkAndNudgePoints(e,s){const o=e.getWidth(),u=e.getHeight();let h=!0;for(let f=0;f<s.length&&h;f+=2){const x=Math.floor(s[f]),E=Math.floor(s[f+1]);if(x<-1||x>o||E<-1||E>u)throw new ie;h=!1,x===-1?(s[f]=0,h=!0):x===o&&(s[f]=o-1,h=!0),E===-1?(s[f+1]=0,h=!0):E===u&&(s[f+1]=u-1,h=!0)}h=!0;for(let f=s.length-2;f>=0&&h;f-=2){const x=Math.floor(s[f]),E=Math.floor(s[f+1]);if(x<-1||x>o||E<-1||E>u)throw new ie;h=!1,x===-1?(s[f]=0,h=!0):x===o&&(s[f]=o-1,h=!0),E===-1?(s[f+1]=0,h=!0):E===u&&(s[f+1]=u-1,h=!0)}}}class Ln{constructor(e,s,o,u,h,f,x,E,C){this.a11=e,this.a21=s,this.a31=o,this.a12=u,this.a22=h,this.a32=f,this.a13=x,this.a23=E,this.a33=C}static quadrilateralToQuadrilateral(e,s,o,u,h,f,x,E,C,I,D,B,G,Q,te,ae){const me=Ln.quadrilateralToSquare(e,s,o,u,h,f,x,E);return Ln.squareToQuadrilateral(C,I,D,B,G,Q,te,ae).times(me)}transformPoints(e){const s=e.length,o=this.a11,u=this.a12,h=this.a13,f=this.a21,x=this.a22,E=this.a23,C=this.a31,I=this.a32,D=this.a33;for(let B=0;B<s;B+=2){const G=e[B],Q=e[B+1],te=h*G+E*Q+D;e[B]=(o*G+f*Q+C)/te,e[B+1]=(u*G+x*Q+I)/te}}transformPointsWithValues(e,s){const o=this.a11,u=this.a12,h=this.a13,f=this.a21,x=this.a22,E=this.a23,C=this.a31,I=this.a32,D=this.a33,B=e.length;for(let G=0;G<B;G++){const Q=e[G],te=s[G],ae=h*Q+E*te+D;e[G]=(o*Q+f*te+C)/ae,s[G]=(u*Q+x*te+I)/ae}}static squareToQuadrilateral(e,s,o,u,h,f,x,E){const C=e-o+h-x,I=s-u+f-E;if(C===0&&I===0)return new Ln(o-e,h-o,e,u-s,f-u,s,0,0,1);{const D=o-h,B=x-h,G=u-f,Q=E-f,te=D*Q-B*G,ae=(C*Q-B*I)/te,me=(D*I-C*G)/te;return new Ln(o-e+ae*o,x-e+me*x,e,u-s+ae*u,E-s+me*E,s,ae,me,1)}}static quadrilateralToSquare(e,s,o,u,h,f,x,E){return Ln.squareToQuadrilateral(e,s,o,u,h,f,x,E).buildAdjoint()}buildAdjoint(){return new Ln(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(e){return new Ln(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)}}class Fr extends Qn{sampleGrid(e,s,o,u,h,f,x,E,C,I,D,B,G,Q,te,ae,me,Oe,Pe){const Ne=Ln.quadrilateralToQuadrilateral(u,h,f,x,E,C,I,D,B,G,Q,te,ae,me,Oe,Pe);return this.sampleGridWithTransform(e,s,o,Ne)}sampleGridWithTransform(e,s,o,u){if(s<=0||o<=0)throw new ie;const h=new Ce(s,o),f=new Float32Array(2*s);for(let x=0;x<o;x++){const E=f.length,C=x+.5;for(let I=0;I<E;I+=2)f[I]=I/2+.5,f[I+1]=C;u.transformPoints(f),Qn.checkAndNudgePoints(e,f);try{for(let I=0;I<E;I+=2)e.get(Math.floor(f[I]),Math.floor(f[I+1]))&&h.set(I/2,x)}catch{throw new ie}}return h}}class Ct{static setGridSampler(e){Ct.gridSampler=e}static getInstance(){return Ct.gridSampler}}Ct.gridSampler=new Fr;class It{constructor(e,s){this.x=e,this.y=s}toResultPoint(){return new Le(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Wn{constructor(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}detect(){return this.detectMirror(!1)}detectMirror(e){let s=this.getMatrixCenter(),o=this.getBullsEyeCorners(s);if(e){let f=o[0];o[0]=o[2],o[2]=f}this.extractParameters(o);let u=this.sampleGrid(this.image,o[this.shift%4],o[(this.shift+1)%4],o[(this.shift+2)%4],o[(this.shift+3)%4]),h=this.getMatrixCornerPoints(o);return new zi(u,h,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new ie;let s=2*this.nbCenterLayers,o=new Int32Array([this.sampleLine(e[0],e[1],s),this.sampleLine(e[1],e[2],s),this.sampleLine(e[2],e[3],s),this.sampleLine(e[3],e[0],s)]);this.shift=this.getRotation(o,s);let u=0;for(let f=0;f<4;f++){let x=o[(this.shift+f)%4];this.compact?(u<<=7,u+=x>>1&127):(u<<=10,u+=(x>>2&992)+(x>>1&31))}let h=this.getCorrectedParameterData(u,this.compact);this.compact?(this.nbLayers=(h>>6)+1,this.nbDataBlocks=(h&63)+1):(this.nbLayers=(h>>11)+1,this.nbDataBlocks=(h&2047)+1)}getRotation(e,s){let o=0;e.forEach((u,h,f)=>{let x=(u>>s-2<<1)+(u&1);o=(o<<3)+x}),o=((o&1)<<11)+(o>>1);for(let u=0;u<4;u++)if(F.bitCount(o^this.EXPECTED_CORNER_BITS[u])<=2)return u;throw new ie}getCorrectedParameterData(e,s){let o,u;s?(o=7,u=2):(o=10,u=4);let h=o-u,f=new Int32Array(o);for(let E=o-1;E>=0;--E)f[E]=e&15,e>>=4;try{new Be(ot.AZTEC_PARAM).decode(f,h)}catch{throw new ie}let x=0;for(let E=0;E<u;E++)x=(x<<4)+f[E];return x}getBullsEyeCorners(e){let s=e,o=e,u=e,h=e,f=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let D=this.getFirstDifferent(s,f,1,-1),B=this.getFirstDifferent(o,f,1,1),G=this.getFirstDifferent(u,f,-1,1),Q=this.getFirstDifferent(h,f,-1,-1);if(this.nbCenterLayers>2){let te=this.distancePoint(Q,D)*this.nbCenterLayers/(this.distancePoint(h,s)*(this.nbCenterLayers+2));if(te<.75||te>1.25||!this.isWhiteOrBlackRectangle(D,B,G,Q))break}s=D,o=B,u=G,h=Q,f=!f}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new ie;this.compact=this.nbCenterLayers===5;let x=new Le(s.getX()+.5,s.getY()-.5),E=new Le(o.getX()+.5,o.getY()+.5),C=new Le(u.getX()-.5,u.getY()+.5),I=new Le(h.getX()-.5,h.getY()-.5);return this.expandSquare([x,E,C,I],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let e,s,o,u;try{let x=new Zn(this.image).detect();e=x[0],s=x[1],o=x[2],u=x[3]}catch{let E=this.image.getWidth()/2,C=this.image.getHeight()/2;e=this.getFirstDifferent(new It(E+7,C-7),!1,1,-1).toResultPoint(),s=this.getFirstDifferent(new It(E+7,C+7),!1,1,1).toResultPoint(),o=this.getFirstDifferent(new It(E-7,C+7),!1,-1,1).toResultPoint(),u=this.getFirstDifferent(new It(E-7,C-7),!1,-1,-1).toResultPoint()}let h=tt.round((e.getX()+u.getX()+s.getX()+o.getX())/4),f=tt.round((e.getY()+u.getY()+s.getY()+o.getY())/4);try{let x=new Zn(this.image,15,h,f).detect();e=x[0],s=x[1],o=x[2],u=x[3]}catch{e=this.getFirstDifferent(new It(h+7,f-7),!1,1,-1).toResultPoint(),s=this.getFirstDifferent(new It(h+7,f+7),!1,1,1).toResultPoint(),o=this.getFirstDifferent(new It(h-7,f+7),!1,-1,1).toResultPoint(),u=this.getFirstDifferent(new It(h-7,f-7),!1,-1,-1).toResultPoint()}return h=tt.round((e.getX()+u.getX()+s.getX()+o.getX())/4),f=tt.round((e.getY()+u.getY()+s.getY()+o.getY())/4),new It(h,f)}getMatrixCornerPoints(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())}sampleGrid(e,s,o,u,h){let f=Ct.getInstance(),x=this.getDimension(),E=x/2-this.nbCenterLayers,C=x/2+this.nbCenterLayers;return f.sampleGrid(e,x,x,E,E,C,E,C,C,E,C,s.getX(),s.getY(),o.getX(),o.getY(),u.getX(),u.getY(),h.getX(),h.getY())}sampleLine(e,s,o){let u=0,h=this.distanceResultPoint(e,s),f=h/o,x=e.getX(),E=e.getY(),C=f*(s.getX()-e.getX())/h,I=f*(s.getY()-e.getY())/h;for(let D=0;D<o;D++)this.image.get(tt.round(x+D*C),tt.round(E+D*I))&&(u|=1<<o-D-1);return u}isWhiteOrBlackRectangle(e,s,o,u){let h=3;e=new It(e.getX()-h,e.getY()+h),s=new It(s.getX()-h,s.getY()-h),o=new It(o.getX()+h,o.getY()-h),u=new It(u.getX()+h,u.getY()+h);let f=this.getColor(u,e);if(f===0)return!1;let x=this.getColor(e,s);return x!==f||(x=this.getColor(s,o),x!==f)?!1:(x=this.getColor(o,u),x===f)}getColor(e,s){let o=this.distancePoint(e,s),u=(s.getX()-e.getX())/o,h=(s.getY()-e.getY())/o,f=0,x=e.getX(),E=e.getY(),C=this.image.get(e.getX(),e.getY()),I=Math.ceil(o);for(let B=0;B<I;B++)x+=u,E+=h,this.image.get(tt.round(x),tt.round(E))!==C&&f++;let D=f/o;return D>.1&&D<.9?0:D<=.1===C?1:-1}getFirstDifferent(e,s,o,u){let h=e.getX()+o,f=e.getY()+u;for(;this.isValid(h,f)&&this.image.get(h,f)===s;)h+=o,f+=u;for(h-=o,f-=u;this.isValid(h,f)&&this.image.get(h,f)===s;)h+=o;for(h-=o;this.isValid(h,f)&&this.image.get(h,f)===s;)f+=u;return f-=u,new It(h,f)}expandSquare(e,s,o){let u=o/(2*s),h=e[0].getX()-e[2].getX(),f=e[0].getY()-e[2].getY(),x=(e[0].getX()+e[2].getX())/2,E=(e[0].getY()+e[2].getY())/2,C=new Le(x+u*h,E+u*f),I=new Le(x-u*h,E-u*f);h=e[1].getX()-e[3].getX(),f=e[1].getY()-e[3].getY(),x=(e[1].getX()+e[3].getX())/2,E=(e[1].getY()+e[3].getY())/2;let D=new Le(x+u*h,E+u*f),B=new Le(x-u*h,E-u*f);return[C,D,I,B]}isValid(e,s){return e>=0&&e<this.image.getWidth()&&s>0&&s<this.image.getHeight()}isValidPoint(e){let s=tt.round(e.getX()),o=tt.round(e.getY());return this.isValid(s,o)}distancePoint(e,s){return tt.distance(e.getX(),e.getY(),s.getX(),s.getY())}distanceResultPoint(e,s){return tt.distance(e.getX(),e.getY(),s.getX(),s.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(F.truncDivision(this.nbLayers-4,8)+1)+15}}class bi{decode(e,s=null){let o=null,u=new Wn(e.getBlackMatrix()),h=null,f=null;try{let I=u.detectMirror(!1);h=I.getPoints(),this.reportFoundResultPoints(s,h),f=new qe().decode(I)}catch(I){o=I}if(f==null)try{let I=u.detectMirror(!0);h=I.getPoints(),this.reportFoundResultPoints(s,h),f=new qe().decode(I)}catch(I){throw o??I}let x=new ke(f.getText(),f.getRawBytes(),f.getNumBits(),h,be.AZTEC,k.currentTimeMillis()),E=f.getByteSegments();E!=null&&x.putMetadata(Te.BYTE_SEGMENTS,E);let C=f.getECLevel();return C!=null&&x.putMetadata(Te.ERROR_CORRECTION_LEVEL,C),x}reportFoundResultPoints(e,s){if(e!=null){let o=e.get(Z.NEED_RESULT_POINT_CALLBACK);o!=null&&s.forEach((u,h,f)=>{o.foundPossibleResultPoint(u)})}}reset(){}}class bd extends Ae{constructor(e=500){super(new bi,e)}}class on{decode(e,s){try{return this.doDecode(e,s)}catch{if(s&&s.get(Z.TRY_HARDER)===!0&&e.isRotateSupported()){const h=e.rotateCounterClockwise(),f=this.doDecode(h,s),x=f.getResultMetadata();let E=270;x!==null&&x.get(Te.ORIENTATION)===!0&&(E=E+x.get(Te.ORIENTATION)%360),f.putMetadata(Te.ORIENTATION,E);const C=f.getResultPoints();if(C!==null){const I=h.getHeight();for(let D=0;D<C.length;D++)C[D]=new Le(I-C[D].getY()-1,C[D].getX())}return f}else throw new ie}}reset(){}doDecode(e,s){const o=e.getWidth(),u=e.getHeight();let h=new $(o);const f=s&&s.get(Z.TRY_HARDER)===!0,x=Math.max(1,u>>(f?8:5));let E;f?E=u:E=15;const C=Math.trunc(u/2);for(let I=0;I<E;I++){const D=Math.trunc((I+1)/2),B=(I&1)===0,G=C+x*(B?D:-D);if(G<0||G>=u)break;try{h=e.getBlackRow(G,h)}catch{continue}for(let Q=0;Q<2;Q++){if(Q===1&&(h.reverse(),s&&s.get(Z.NEED_RESULT_POINT_CALLBACK)===!0)){const te=new Map;s.forEach((ae,me)=>te.set(me,ae)),te.delete(Z.NEED_RESULT_POINT_CALLBACK),s=te}try{const te=this.decodeRow(G,h,s);if(Q===1){te.putMetadata(Te.ORIENTATION,180);const ae=te.getResultPoints();ae!==null&&(ae[0]=new Le(o-ae[0].getX()-1,ae[0].getY()),ae[1]=new Le(o-ae[1].getX()-1,ae[1].getY()))}return te}catch{}}}throw new ie}static recordPattern(e,s,o){const u=o.length;for(let C=0;C<u;C++)o[C]=0;const h=e.getSize();if(s>=h)throw new ie;let f=!e.get(s),x=0,E=s;for(;E<h;){if(e.get(E)!==f)o[x]++;else{if(++x===u)break;o[x]=1,f=!f}E++}if(!(x===u||x===u-1&&E===h))throw new ie}static recordPatternInReverse(e,s,o){let u=o.length,h=e.get(s);for(;s>0&&u>=0;)e.get(--s)!==h&&(u--,h=!h);if(u>=0)throw new ie;on.recordPattern(e,s+1,o)}static patternMatchVariance(e,s,o){const u=e.length;let h=0,f=0;for(let C=0;C<u;C++)h+=e[C],f+=s[C];if(h<f)return Number.POSITIVE_INFINITY;const x=h/f;o*=x;let E=0;for(let C=0;C<u;C++){const I=e[C],D=s[C]*x,B=I>D?I-D:D-I;if(B>o)return Number.POSITIVE_INFINITY;E+=B}return E/h}}class Me extends on{static findStartPattern(e){const s=e.getSize(),o=e.getNextSet(0);let u=0,h=Int32Array.from([0,0,0,0,0,0]),f=o,x=!1;const E=6;for(let C=o;C<s;C++)if(e.get(C)!==x)h[u]++;else{if(u===E-1){let I=Me.MAX_AVG_VARIANCE,D=-1;for(let B=Me.CODE_START_A;B<=Me.CODE_START_C;B++){const G=on.patternMatchVariance(h,Me.CODE_PATTERNS[B],Me.MAX_INDIVIDUAL_VARIANCE);G<I&&(I=G,D=B)}if(D>=0&&e.isRange(Math.max(0,f-(C-f)/2),f,!1))return Int32Array.from([f,C,D]);f+=h[0]+h[1],h=h.slice(2,h.length-1),h[u-1]=0,h[u]=0,u--}else u++;h[u]=1,x=!x}throw new ie}static decodeCode(e,s,o){on.recordPattern(e,o,s);let u=Me.MAX_AVG_VARIANCE,h=-1;for(let f=0;f<Me.CODE_PATTERNS.length;f++){const x=Me.CODE_PATTERNS[f],E=this.patternMatchVariance(s,x,Me.MAX_INDIVIDUAL_VARIANCE);E<u&&(u=E,h=f)}if(h>=0)return h;throw new ie}decodeRow(e,s,o){const u=o&&o.get(Z.ASSUME_GS1)===!0,h=Me.findStartPattern(s),f=h[2];let x=0;const E=new Uint8Array(20);E[x++]=f;let C;switch(f){case Me.CODE_START_A:C=Me.CODE_CODE_A;break;case Me.CODE_START_B:C=Me.CODE_CODE_B;break;case Me.CODE_START_C:C=Me.CODE_CODE_C;break;default:throw new H}let I=!1,D=!1,B="",G=h[0],Q=h[1];const te=Int32Array.from([0,0,0,0,0,0]);let ae=0,me=0,Oe=f,Pe=0,Ne=!0,At=!1,mt=!1;for(;!I;){const ni=D;switch(D=!1,ae=me,me=Me.decodeCode(s,te,Q),E[x++]=me,me!==Me.CODE_STOP&&(Ne=!0),me!==Me.CODE_STOP&&(Pe++,Oe+=Pe*me),G=Q,Q+=te.reduce((xs,fl)=>xs+fl,0),me){case Me.CODE_START_A:case Me.CODE_START_B:case Me.CODE_START_C:throw new H}switch(C){case Me.CODE_CODE_A:if(me<64)mt===At?B+=String.fromCharCode(32+me):B+=String.fromCharCode(32+me+128),mt=!1;else if(me<96)mt===At?B+=String.fromCharCode(me-64):B+=String.fromCharCode(me+64),mt=!1;else switch(me!==Me.CODE_STOP&&(Ne=!1),me){case Me.CODE_FNC_1:u&&(B.length===0?B+="]C1":B+="");break;case Me.CODE_FNC_2:case Me.CODE_FNC_3:break;case Me.CODE_FNC_4_A:!At&&mt?(At=!0,mt=!1):At&&mt?(At=!1,mt=!1):mt=!0;break;case Me.CODE_SHIFT:D=!0,C=Me.CODE_CODE_B;break;case Me.CODE_CODE_B:C=Me.CODE_CODE_B;break;case Me.CODE_CODE_C:C=Me.CODE_CODE_C;break;case Me.CODE_STOP:I=!0;break}break;case Me.CODE_CODE_B:if(me<96)mt===At?B+=String.fromCharCode(32+me):B+=String.fromCharCode(32+me+128),mt=!1;else switch(me!==Me.CODE_STOP&&(Ne=!1),me){case Me.CODE_FNC_1:u&&(B.length===0?B+="]C1":B+="");break;case Me.CODE_FNC_2:case Me.CODE_FNC_3:break;case Me.CODE_FNC_4_B:!At&&mt?(At=!0,mt=!1):At&&mt?(At=!1,mt=!1):mt=!0;break;case Me.CODE_SHIFT:D=!0,C=Me.CODE_CODE_A;break;case Me.CODE_CODE_A:C=Me.CODE_CODE_A;break;case Me.CODE_CODE_C:C=Me.CODE_CODE_C;break;case Me.CODE_STOP:I=!0;break}break;case Me.CODE_CODE_C:if(me<100)me<10&&(B+="0"),B+=me;else switch(me!==Me.CODE_STOP&&(Ne=!1),me){case Me.CODE_FNC_1:u&&(B.length===0?B+="]C1":B+="");break;case Me.CODE_CODE_A:C=Me.CODE_CODE_A;break;case Me.CODE_CODE_B:C=Me.CODE_CODE_B;break;case Me.CODE_STOP:I=!0;break}break}ni&&(C=C===Me.CODE_CODE_A?Me.CODE_CODE_B:Me.CODE_CODE_A)}const nr=Q-G;if(Q=s.getNextUnset(Q),!s.isRange(Q,Math.min(s.getSize(),Q+(Q-G)/2),!1))throw new ie;if(Oe-=Pe*ae,Oe%103!==ae)throw new R;const Rr=B.length;if(Rr===0)throw new ie;Rr>0&&Ne&&(C===Me.CODE_CODE_C?B=B.substring(0,Rr-2):B=B.substring(0,Rr-1));const bn=(h[1]+h[0])/2,Ft=G+nr/2,an=E.length,qn=new Uint8Array(an);for(let ni=0;ni<an;ni++)qn[ni]=E[ni];const qi=[new Le(bn,e),new Le(Ft,e)];return new ke(B,qn,0,qi,be.CODE_128,new Date().getTime())}}Me.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Me.MAX_AVG_VARIANCE=.25,Me.MAX_INDIVIDUAL_VARIANCE=.7,Me.CODE_SHIFT=98,Me.CODE_CODE_C=99,Me.CODE_CODE_B=100,Me.CODE_CODE_A=101,Me.CODE_FNC_1=102,Me.CODE_FNC_2=97,Me.CODE_FNC_3=96,Me.CODE_FNC_4_A=101,Me.CODE_FNC_4_B=100,Me.CODE_START_A=103,Me.CODE_START_B=104,Me.CODE_START_C=105,Me.CODE_STOP=106;class wn extends on{constructor(e=!1,s=!1){super(),this.usingCheckDigit=e,this.extendedMode=s,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(e,s,o){let u=this.counters;u.fill(0),this.decodeRowResult="";let h=wn.findAsteriskPattern(s,u),f=s.getNextSet(h[1]),x=s.getSize(),E,C;do{wn.recordPattern(s,f,u);let te=wn.toNarrowWidePattern(u);if(te<0)throw new ie;E=wn.patternToChar(te),this.decodeRowResult+=E,C=f;for(let ae of u)f+=ae;f=s.getNextSet(f)}while(E!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let I=0;for(let te of u)I+=te;let D=f-C-I;if(f!==x&&D*2<I)throw new ie;if(this.usingCheckDigit){let te=this.decodeRowResult.length-1,ae=0;for(let me=0;me<te;me++)ae+=wn.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(me));if(this.decodeRowResult.charAt(te)!==wn.ALPHABET_STRING.charAt(ae%43))throw new R;this.decodeRowResult=this.decodeRowResult.substring(0,te)}if(this.decodeRowResult.length===0)throw new ie;let B;this.extendedMode?B=wn.decodeExtended(this.decodeRowResult):B=this.decodeRowResult;let G=(h[1]+h[0])/2,Q=C+I/2;return new ke(B,null,0,[new Le(G,e),new Le(Q,e)],be.CODE_39,new Date().getTime())}static findAsteriskPattern(e,s){let o=e.getSize(),u=e.getNextSet(0),h=0,f=u,x=!1,E=s.length;for(let C=u;C<o;C++)if(e.get(C)!==x)s[h]++;else{if(h===E-1){if(this.toNarrowWidePattern(s)===wn.ASTERISK_ENCODING&&e.isRange(Math.max(0,f-Math.floor((C-f)/2)),f,!1))return[f,C];f+=s[0]+s[1],s.copyWithin(0,2,2+h-1),s[h-1]=0,s[h]=0,h--}else h++;s[h]=1,x=!x}throw new ie}static toNarrowWidePattern(e){let s=e.length,o=0,u;do{let h=2147483647;for(let E of e)E<h&&E>o&&(h=E);o=h,u=0;let f=0,x=0;for(let E=0;E<s;E++){let C=e[E];C>o&&(x|=1<<s-1-E,u++,f+=C)}if(u===3){for(let E=0;E<s&&u>0;E++){let C=e[E];if(C>o&&(u--,C*2>=f))return-1}return x}}while(u>3);return-1}static patternToChar(e){for(let s=0;s<wn.CHARACTER_ENCODINGS.length;s++)if(wn.CHARACTER_ENCODINGS[s]===e)return wn.ALPHABET_STRING.charAt(s);if(e===wn.ASTERISK_ENCODING)return"*";throw new ie}static decodeExtended(e){let s=e.length,o="";for(let u=0;u<s;u++){let h=e.charAt(u);if(h==="+"||h==="$"||h==="%"||h==="/"){let f=e.charAt(u+1),x="\0";switch(h){case"+":if(f>="A"&&f<="Z")x=String.fromCharCode(f.charCodeAt(0)+32);else throw new H;break;case"$":if(f>="A"&&f<="Z")x=String.fromCharCode(f.charCodeAt(0)-64);else throw new H;break;case"%":if(f>="A"&&f<="E")x=String.fromCharCode(f.charCodeAt(0)-38);else if(f>="F"&&f<="J")x=String.fromCharCode(f.charCodeAt(0)-11);else if(f>="K"&&f<="O")x=String.fromCharCode(f.charCodeAt(0)+16);else if(f>="P"&&f<="T")x=String.fromCharCode(f.charCodeAt(0)+43);else if(f==="U")x="\0";else if(f==="V")x="@";else if(f==="W")x="`";else if(f==="X"||f==="Y"||f==="Z")x="";else throw new H;break;case"/":if(f>="A"&&f<="O")x=String.fromCharCode(f.charCodeAt(0)-32);else if(f==="Z")x=":";else throw new H;break}o+=x,u++}else o+=h}return o}}wn.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",wn.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],wn.ASTERISK_ENCODING=148;class Bt extends on{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(e,s,o){let u=this.decodeStart(s),h=this.decodeEnd(s),f=new ve;Bt.decodeMiddle(s,u[1],h[0],f);let x=f.toString(),E=null;o!=null&&(E=o.get(Z.ALLOWED_LENGTHS)),E==null&&(E=Bt.DEFAULT_ALLOWED_LENGTHS);let C=x.length,I=!1,D=0;for(let Q of E){if(C===Q){I=!0;break}Q>D&&(D=Q)}if(!I&&C>D&&(I=!0),!I)throw new H;const B=[new Le(u[1],e),new Le(h[0],e)];return new ke(x,null,0,B,be.ITF,new Date().getTime())}static decodeMiddle(e,s,o,u){let h=new Int32Array(10),f=new Int32Array(5),x=new Int32Array(5);for(h.fill(0),f.fill(0),x.fill(0);s<o;){on.recordPattern(e,s,h);for(let C=0;C<5;C++){let I=2*C;f[C]=h[I],x[C]=h[I+1]}let E=Bt.decodeDigit(f);u.append(E.toString()),E=this.decodeDigit(x),u.append(E.toString()),h.forEach(function(C){s+=C})}}decodeStart(e){let s=Bt.skipWhiteSpace(e),o=Bt.findGuardPattern(e,s,Bt.START_PATTERN);return this.narrowLineWidth=(o[1]-o[0])/4,this.validateQuietZone(e,o[0]),o}validateQuietZone(e,s){let o=this.narrowLineWidth*10;o=o<s?o:s;for(let u=s-1;o>0&&u>=0&&!e.get(u);u--)o--;if(o!==0)throw new ie}static skipWhiteSpace(e){const s=e.getSize(),o=e.getNextSet(0);if(o===s)throw new ie;return o}decodeEnd(e){e.reverse();try{let s=Bt.skipWhiteSpace(e),o;try{o=Bt.findGuardPattern(e,s,Bt.END_PATTERN_REVERSED[0])}catch(h){h instanceof ie&&(o=Bt.findGuardPattern(e,s,Bt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(e,o[0]);let u=o[0];return o[0]=e.getSize()-o[1],o[1]=e.getSize()-u,o}finally{e.reverse()}}static findGuardPattern(e,s,o){let u=o.length,h=new Int32Array(u),f=e.getSize(),x=!1,E=0,C=s;h.fill(0);for(let I=s;I<f;I++)if(e.get(I)!==x)h[E]++;else{if(E===u-1){if(on.patternMatchVariance(h,o,Bt.MAX_INDIVIDUAL_VARIANCE)<Bt.MAX_AVG_VARIANCE)return[C,I];C+=h[0]+h[1],k.arraycopy(h,2,h,0,E-1),h[E-1]=0,h[E]=0,E--}else E++;h[E]=1,x=!x}throw new ie}static decodeDigit(e){let s=Bt.MAX_AVG_VARIANCE,o=-1,u=Bt.PATTERNS.length;for(let h=0;h<u;h++){let f=Bt.PATTERNS[h],x=on.patternMatchVariance(e,f,Bt.MAX_INDIVIDUAL_VARIANCE);x<s?(s=x,o=h):x===s&&(o=-1)}if(o>=0)return o%10;throw new ie}}Bt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Bt.MAX_AVG_VARIANCE=.38,Bt.MAX_INDIVIDUAL_VARIANCE=.5,Bt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Bt.START_PATTERN=Int32Array.from([1,1,1,1]),Bt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Xt extends on{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(e){let s=!1,o,u=0,h=Int32Array.from([0,0,0]);for(;!s;){h=Int32Array.from([0,0,0]),o=Xt.findGuardPattern(e,u,!1,this.START_END_PATTERN,h);let f=o[0];u=o[1];let x=f-(u-f);x>=0&&(s=e.isRange(x,f,!1))}return o}static checkChecksum(e){return Xt.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let s=e.length;if(s===0)return!1;let o=parseInt(e.charAt(s-1),10);return Xt.getStandardUPCEANChecksum(e.substring(0,s-1))===o}static getStandardUPCEANChecksum(e){let s=e.length,o=0;for(let u=s-1;u>=0;u-=2){let h=e.charAt(u).charCodeAt(0)-48;if(h<0||h>9)throw new H;o+=h}o*=3;for(let u=s-2;u>=0;u-=2){let h=e.charAt(u).charCodeAt(0)-48;if(h<0||h>9)throw new H;o+=h}return(1e3-o)%10}static decodeEnd(e,s){return Xt.findGuardPattern(e,s,!1,Xt.START_END_PATTERN,new Int32Array(Xt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(e,s,o,u){return this.findGuardPattern(e,s,o,u,new Int32Array(u.length))}static findGuardPattern(e,s,o,u,h){let f=e.getSize();s=o?e.getNextUnset(s):e.getNextSet(s);let x=0,E=s,C=u.length,I=o;for(let D=s;D<f;D++)if(e.get(D)!==I)h[x]++;else{if(x===C-1){if(on.patternMatchVariance(h,u,Xt.MAX_INDIVIDUAL_VARIANCE)<Xt.MAX_AVG_VARIANCE)return Int32Array.from([E,D]);E+=h[0]+h[1];let B=h.slice(2,h.length-1);for(let G=0;G<x-1;G++)h[G]=B[G];h[x-1]=0,h[x]=0,x--}else x++;h[x]=1,I=!I}throw new ie}static decodeDigit(e,s,o,u){this.recordPattern(e,o,s);let h=this.MAX_AVG_VARIANCE,f=-1,x=u.length;for(let E=0;E<x;E++){let C=u[E],I=on.patternMatchVariance(s,C,Xt.MAX_INDIVIDUAL_VARIANCE);I<h&&(h=I,f=E)}if(f>=0)return f;throw new ie}}Xt.MAX_AVG_VARIANCE=.48,Xt.MAX_INDIVIDUAL_VARIANCE=.7,Xt.START_END_PATTERN=Int32Array.from([1,1,1]),Xt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Xt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Xt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Vi{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,s,o){let u=this.decodeRowStringBuffer,h=this.decodeMiddle(s,o,u),f=u.toString(),x=Vi.parseExtensionString(f),E=[new Le((o[0]+o[1])/2,e),new Le(h,e)],C=new ke(f,null,0,E,be.UPC_EAN_EXTENSION,new Date().getTime());return x!=null&&C.putAllMetadata(x),C}decodeMiddle(e,s,o){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let h=e.getSize(),f=s[1],x=0;for(let C=0;C<5&&f<h;C++){let I=Xt.decodeDigit(e,u,f,Xt.L_AND_G_PATTERNS);o+=String.fromCharCode(48+I%10);for(let D of u)f+=D;I>=10&&(x|=1<<4-C),C!==4&&(f=e.getNextSet(f),f=e.getNextUnset(f))}if(o.length!==5)throw new ie;let E=this.determineCheckDigit(x);if(Vi.extensionChecksum(o.toString())!==E)throw new ie;return f}static extensionChecksum(e){let s=e.length,o=0;for(let u=s-2;u>=0;u-=2)o+=e.charAt(u).charCodeAt(0)-48;o*=3;for(let u=s-1;u>=0;u-=2)o+=e.charAt(u).charCodeAt(0)-48;return o*=3,o%10}determineCheckDigit(e){for(let s=0;s<10;s++)if(e===this.CHECK_DIGIT_ENCODINGS[s])return s;throw new ie}static parseExtensionString(e){if(e.length!==5)return null;let s=Vi.parseExtension5String(e);return s==null?null:new Map([[Te.SUGGESTED_PRICE,s]])}static parseExtension5String(e){let s;switch(e.charAt(0)){case"0":s="";break;case"5":s="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}s="";break;default:s="";break}let o=parseInt(e.substring(1)),u=(o/100).toString(),h=o%100,f=h<10?"0"+h:h.toString();return s+u+"."+f}}class Xs{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,s,o){let u=this.decodeRowStringBuffer,h=this.decodeMiddle(s,o,u),f=u.toString(),x=Xs.parseExtensionString(f),E=[new Le((o[0]+o[1])/2,e),new Le(h,e)],C=new ke(f,null,0,E,be.UPC_EAN_EXTENSION,new Date().getTime());return x!=null&&C.putAllMetadata(x),C}decodeMiddle(e,s,o){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let h=e.getSize(),f=s[1],x=0;for(let E=0;E<2&&f<h;E++){let C=Xt.decodeDigit(e,u,f,Xt.L_AND_G_PATTERNS);o+=String.fromCharCode(48+C%10);for(let I of u)f+=I;C>=10&&(x|=1<<1-E),E!==1&&(f=e.getNextSet(f),f=e.getNextUnset(f))}if(o.length!==2)throw new ie;if(parseInt(o.toString())%4!==x)throw new ie;return f}static parseExtensionString(e){return e.length!==2?null:new Map([[Te.ISSUE_NUMBER,parseInt(e)]])}}class Lo{static decodeRow(e,s,o){let u=Xt.findGuardPattern(s,o,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Vi().decodeRow(e,s,u)}catch{return new Xs().decodeRow(e,s,u)}}}Lo.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Tt extends Xt{constructor(){super(),this.decodeRowStringBuffer="",Tt.L_AND_G_PATTERNS=Tt.L_PATTERNS.map(e=>Int32Array.from(e));for(let e=10;e<20;e++){let s=Tt.L_PATTERNS[e-10],o=new Int32Array(s.length);for(let u=0;u<s.length;u++)o[u]=s[s.length-u-1];Tt.L_AND_G_PATTERNS[e]=o}}decodeRow(e,s,o){let u=Tt.findStartGuardPattern(s),h=o==null?null:o.get(Z.NEED_RESULT_POINT_CALLBACK);if(h!=null){const Ne=new Le((u[0]+u[1])/2,e);h.foundPossibleResultPoint(Ne)}let f=this.decodeMiddle(s,u,this.decodeRowStringBuffer),x=f.rowOffset,E=f.resultString;if(h!=null){const Ne=new Le(x,e);h.foundPossibleResultPoint(Ne)}let C=this.decodeEnd(s,x);if(h!=null){const Ne=new Le((C[0]+C[1])/2,e);h.foundPossibleResultPoint(Ne)}let I=C[1],D=I+(I-C[0]);if(D>=s.getSize()||!s.isRange(I,D,!1))throw new ie;let B=E.toString();if(B.length<8)throw new H;if(!Tt.checkChecksum(B))throw new R;let G=(u[1]+u[0])/2,Q=(C[1]+C[0])/2,te=this.getBarcodeFormat(),ae=[new Le(G,e),new Le(Q,e)],me=new ke(B,null,0,ae,te,new Date().getTime()),Oe=0;try{let Ne=Lo.decodeRow(e,s,C[1]);me.putMetadata(Te.UPC_EAN_EXTENSION,Ne.getText()),me.putAllMetadata(Ne.getResultMetadata()),me.addResultPoints(Ne.getResultPoints()),Oe=Ne.getText().length}catch{}let Pe=o==null?null:o.get(Z.ALLOWED_EAN_EXTENSIONS);if(Pe!=null){let Ne=!1;for(let At in Pe)if(Oe.toString()===At){Ne=!0;break}if(!Ne)throw new ie}return me}decodeEnd(e,s){return Tt.findGuardPattern(e,s,!1,Tt.START_END_PATTERN,new Int32Array(Tt.START_END_PATTERN.length).fill(0))}static checkChecksum(e){return Tt.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let s=e.length;if(s===0)return!1;let o=parseInt(e.charAt(s-1),10);return Tt.getStandardUPCEANChecksum(e.substring(0,s-1))===o}static getStandardUPCEANChecksum(e){let s=e.length,o=0;for(let u=s-1;u>=0;u-=2){let h=e.charAt(u).charCodeAt(0)-48;if(h<0||h>9)throw new H;o+=h}o*=3;for(let u=s-2;u>=0;u-=2){let h=e.charAt(u).charCodeAt(0)-48;if(h<0||h>9)throw new H;o+=h}return(1e3-o)%10}}class gr extends Tt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,s,o){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let h=e.getSize(),f=s[1],x=0;for(let C=0;C<6&&f<h;C++){let I=Tt.decodeDigit(e,u,f,Tt.L_AND_G_PATTERNS);o+=String.fromCharCode(48+I%10);for(let D of u)f+=D;I>=10&&(x|=1<<5-C)}o=gr.determineFirstDigit(o,x),f=Tt.findGuardPattern(e,f,!0,Tt.MIDDLE_PATTERN,new Int32Array(Tt.MIDDLE_PATTERN.length).fill(0))[1];for(let C=0;C<6&&f<h;C++){let I=Tt.decodeDigit(e,u,f,Tt.L_PATTERNS);o+=String.fromCharCode(48+I);for(let D of u)f+=D}return{rowOffset:f,resultString:o}}getBarcodeFormat(){return be.EAN_13}static determineFirstDigit(e,s){for(let o=0;o<10;o++)if(s===this.FIRST_DIGIT_ENCODINGS[o])return e=String.fromCharCode(48+o)+e,e;throw new ie}}gr.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class qa extends Tt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,s,o){const u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let h=e.getSize(),f=s[1];for(let E=0;E<4&&f<h;E++){let C=Tt.decodeDigit(e,u,f,Tt.L_PATTERNS);o+=String.fromCharCode(48+C);for(let I of u)f+=I}f=Tt.findGuardPattern(e,f,!0,Tt.MIDDLE_PATTERN,new Int32Array(Tt.MIDDLE_PATTERN.length).fill(0))[1];for(let E=0;E<4&&f<h;E++){let C=Tt.decodeDigit(e,u,f,Tt.L_PATTERNS);o+=String.fromCharCode(48+C);for(let I of u)f+=I}return{rowOffset:f,resultString:o}}getBarcodeFormat(){return be.EAN_8}}class Xa extends Tt{constructor(){super(...arguments),this.ean13Reader=new gr}getBarcodeFormat(){return be.UPC_A}decode(e,s){return this.maybeReturnResult(this.ean13Reader.decode(e))}decodeRow(e,s,o){return this.maybeReturnResult(this.ean13Reader.decodeRow(e,s,o))}decodeMiddle(e,s,o){return this.ean13Reader.decodeMiddle(e,s,o)}maybeReturnResult(e){let s=e.getText();if(s.charAt(0)==="0"){let o=new ke(s.substring(1),null,null,e.getResultPoints(),be.UPC_A);return e.getResultMetadata()!=null&&o.putAllMetadata(e.getResultMetadata()),o}else throw new ie}reset(){this.ean13Reader.reset()}}class pr extends Tt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(e,s,o){const u=this.decodeMiddleCounters.map(C=>C);u[0]=0,u[1]=0,u[2]=0,u[3]=0;const h=e.getSize();let f=s[1],x=0;for(let C=0;C<6&&f<h;C++){const I=pr.decodeDigit(e,u,f,pr.L_AND_G_PATTERNS);o+=String.fromCharCode(48+I%10);for(let D of u)f+=D;I>=10&&(x|=1<<5-C)}let E=pr.determineNumSysAndCheckDigit(o,x);return{rowOffset:f,resultString:E}}decodeEnd(e,s){return pr.findGuardPatternWithoutCounters(e,s,!0,pr.MIDDLE_END_PATTERN)}checkChecksum(e){return Tt.checkChecksum(pr.convertUPCEtoUPCA(e))}static determineNumSysAndCheckDigit(e,s){for(let o=0;o<=1;o++)for(let u=0;u<10;u++)if(s===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[o][u]){let h=String.fromCharCode(48+o),f=String.fromCharCode(48+u);return h+e+f}throw ie.getNotFoundInstance()}getBarcodeFormat(){return be.UPC_E}static convertUPCEtoUPCA(e){const s=e.slice(1,7).split("").map(h=>h.charCodeAt(0)),o=new ve;o.append(e.charAt(0));let u=s[5];switch(u){case 0:case 1:case 2:o.appendChars(s,0,2),o.append(u),o.append("0000"),o.appendChars(s,2,3);break;case 3:o.appendChars(s,0,3),o.append("00000"),o.appendChars(s,3,2);break;case 4:o.appendChars(s,0,4),o.append("00000"),o.append(s[4]);break;default:o.appendChars(s,0,5),o.append("0000"),o.append(u);break}return e.length>=8&&o.append(e.charAt(7)),o.toString()}}pr.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),pr.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Bo extends on{constructor(e){super();let s=e==null?null:e.get(Z.POSSIBLE_FORMATS),o=[];a(s)?(o.push(new gr),o.push(new Xa),o.push(new qa),o.push(new pr)):(s.indexOf(be.EAN_13)>-1&&o.push(new gr),s.indexOf(be.UPC_A)>-1&&o.push(new Xa),s.indexOf(be.EAN_8)>-1&&o.push(new qa),s.indexOf(be.UPC_E)>-1&&o.push(new pr)),this.readers=o}decodeRow(e,s,o){for(let u of this.readers)try{const h=u.decodeRow(e,s,o),f=h.getBarcodeFormat()===be.EAN_13&&h.getText().charAt(0)==="0",x=o==null?null:o.get(Z.POSSIBLE_FORMATS),E=x==null||x.includes(be.UPC_A);if(f&&E){const C=h.getRawBytes(),I=new ke(h.getText().substring(1),C,C?C.length:null,h.getResultPoints(),be.UPC_A);return I.putAllMetadata(h.getResultMetadata()),I}return h}catch{}throw new ie}reset(){for(let e of this.readers)e.reset()}}class In extends on{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(e,s){for(let o=0;o<s.length;o++)if(on.patternMatchVariance(e,s[o],In.MAX_INDIVIDUAL_VARIANCE)<In.MAX_AVG_VARIANCE)return o;throw new ie}static count(e){return tt.sum(new Int32Array(e))}static increment(e,s){let o=0,u=s[0];for(let h=1;h<e.length;h++)s[h]>u&&(u=s[h],o=h);e[o]++}static decrement(e,s){let o=0,u=s[0];for(let h=1;h<e.length;h++)s[h]<u&&(u=s[h],o=h);e[o]--}static isFinderPattern(e){let s=e[0]+e[1],o=s+e[2]+e[3],u=s/o;if(u>=In.MIN_FINDER_PATTERN_RATIO&&u<=In.MAX_FINDER_PATTERN_RATIO){let h=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER;for(let x of e)x>f&&(f=x),x<h&&(h=x);return f<10*h}return!1}}In.MAX_AVG_VARIANCE=.2,In.MAX_INDIVIDUAL_VARIANCE=.45,In.MIN_FINDER_PATTERN_RATIO=9.5/12,In.MAX_FINDER_PATTERN_RATIO=12.5/14;class Ei{constructor(e,s){this.value=e,this.checksumPortion=s}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(e){if(!(e instanceof Ei))return!1;const s=e;return this.value===s.value&&this.checksumPortion===s.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Ks{constructor(e,s,o,u,h){this.value=e,this.startEnd=s,this.value=e,this.startEnd=s,this.resultPoints=new Array,this.resultPoints.push(new Le(o,h)),this.resultPoints.push(new Le(u,h))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(e){if(!(e instanceof Ks))return!1;const s=e;return this.value===s.value}hashCode(){return this.value}}class Jn{constructor(){}static getRSSvalue(e,s,o){let u=0;for(let E of e)u+=E;let h=0,f=0,x=e.length;for(let E=0;E<x-1;E++){let C;for(C=1,f|=1<<E;C<e[E];C++,f&=~(1<<E)){let I=Jn.combins(u-C-1,x-E-2);if(o&&f===0&&u-C-(x-E-1)>=x-E-1&&(I-=Jn.combins(u-C-(x-E),x-E-2)),x-E-1>1){let D=0;for(let B=u-C-(x-E-2);B>s;B--)D+=Jn.combins(u-C-B-1,x-E-3);I-=D*(x-1-E)}else u-C>s&&I--;h+=I}u-=C}return h}static combins(e,s){let o,u;e-s>s?(u=s,o=e-s):(u=e-s,o=s);let h=1,f=1;for(let x=e;x>o;x--)h*=x,f<=u&&(h/=f,f++);for(;f<=u;)h/=f,f++;return h}}class Ka{static buildBitArray(e){let s=e.length*2-1;e[e.length-1].getRightChar()==null&&(s-=1);let o=12*s,u=new $(o),h=0,x=e[0].getRightChar().getValue();for(let E=11;E>=0;--E)(x&1<<E)!=0&&u.set(h),h++;for(let E=1;E<e.length;++E){let C=e[E],I=C.getLeftChar().getValue();for(let D=11;D>=0;--D)(I&1<<D)!=0&&u.set(h),h++;if(C.getRightChar()!=null){let D=C.getRightChar().getValue();for(let B=11;B>=0;--B)(D&1<<B)!=0&&u.set(h),h++}}return u}}class Sr{constructor(e,s){s?this.decodedInformation=null:(this.finished=e,this.decodedInformation=s)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Ya{constructor(e){this.newPosition=e}getNewPosition(){return this.newPosition}}class Sn extends Ya{constructor(e,s){super(e),this.value=s}getValue(){return this.value}isFNC1(){return this.value===Sn.FNC1}}Sn.FNC1="$";class Ur extends Ya{constructor(e,s,o){super(e),o?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=s}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Hn extends Ya{constructor(e,s,o){if(super(e),s<0||s>10||o<0||o>10)throw new H;this.firstDigit=s,this.secondDigit=o}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Hn.FNC1}isSecondDigitFNC1(){return this.secondDigit===Hn.FNC1}isAnyFNC1(){return this.firstDigit===Hn.FNC1||this.secondDigit===Hn.FNC1}}Hn.FNC1=10;class Fe{constructor(){}static parseFieldsInGeneralPurpose(e){if(!e)return null;if(e.length<2)throw new ie;let s=e.substring(0,2);for(let h of Fe.TWO_DIGIT_DATA_LENGTH)if(h[0]===s)return h[1]===Fe.VARIABLE_LENGTH?Fe.processVariableAI(2,h[2],e):Fe.processFixedAI(2,h[1],e);if(e.length<3)throw new ie;let o=e.substring(0,3);for(let h of Fe.THREE_DIGIT_DATA_LENGTH)if(h[0]===o)return h[1]===Fe.VARIABLE_LENGTH?Fe.processVariableAI(3,h[2],e):Fe.processFixedAI(3,h[1],e);for(let h of Fe.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(h[0]===o)return h[1]===Fe.VARIABLE_LENGTH?Fe.processVariableAI(4,h[2],e):Fe.processFixedAI(4,h[1],e);if(e.length<4)throw new ie;let u=e.substring(0,4);for(let h of Fe.FOUR_DIGIT_DATA_LENGTH)if(h[0]===u)return h[1]===Fe.VARIABLE_LENGTH?Fe.processVariableAI(4,h[2],e):Fe.processFixedAI(4,h[1],e);throw new ie}static processFixedAI(e,s,o){if(o.length<e)throw new ie;let u=o.substring(0,e);if(o.length<e+s)throw new ie;let h=o.substring(e,e+s),f=o.substring(e+s),x="("+u+")"+h,E=Fe.parseFieldsInGeneralPurpose(f);return E==null?x:x+E}static processVariableAI(e,s,o){let u=o.substring(0,e),h;o.length<e+s?h=o.length:h=e+s;let f=o.substring(e,h),x=o.substring(h),E="("+u+")"+f,C=Fe.parseFieldsInGeneralPurpose(x);return C==null?E:E+C}}Fe.VARIABLE_LENGTH=[],Fe.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Fe.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Fe.VARIABLE_LENGTH,20],["22",Fe.VARIABLE_LENGTH,29],["30",Fe.VARIABLE_LENGTH,8],["37",Fe.VARIABLE_LENGTH,8],["90",Fe.VARIABLE_LENGTH,30],["91",Fe.VARIABLE_LENGTH,30],["92",Fe.VARIABLE_LENGTH,30],["93",Fe.VARIABLE_LENGTH,30],["94",Fe.VARIABLE_LENGTH,30],["95",Fe.VARIABLE_LENGTH,30],["96",Fe.VARIABLE_LENGTH,30],["97",Fe.VARIABLE_LENGTH,3],["98",Fe.VARIABLE_LENGTH,30],["99",Fe.VARIABLE_LENGTH,30]],Fe.THREE_DIGIT_DATA_LENGTH=[["240",Fe.VARIABLE_LENGTH,30],["241",Fe.VARIABLE_LENGTH,30],["242",Fe.VARIABLE_LENGTH,6],["250",Fe.VARIABLE_LENGTH,30],["251",Fe.VARIABLE_LENGTH,30],["253",Fe.VARIABLE_LENGTH,17],["254",Fe.VARIABLE_LENGTH,20],["400",Fe.VARIABLE_LENGTH,30],["401",Fe.VARIABLE_LENGTH,30],["402",17],["403",Fe.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Fe.VARIABLE_LENGTH,20],["421",Fe.VARIABLE_LENGTH,15],["422",3],["423",Fe.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Fe.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Fe.VARIABLE_LENGTH,15],["391",Fe.VARIABLE_LENGTH,18],["392",Fe.VARIABLE_LENGTH,15],["393",Fe.VARIABLE_LENGTH,18],["703",Fe.VARIABLE_LENGTH,30]],Fe.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Fe.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Fe.VARIABLE_LENGTH,20],["8003",Fe.VARIABLE_LENGTH,30],["8004",Fe.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Fe.VARIABLE_LENGTH,30],["8008",Fe.VARIABLE_LENGTH,12],["8018",18],["8020",Fe.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Fe.VARIABLE_LENGTH,70],["8200",Fe.VARIABLE_LENGTH,70]];class as{constructor(e){this.buffer=new ve,this.information=e}decodeAllCodes(e,s){let o=s,u=null;do{let h=this.decodeGeneralPurposeField(o,u),f=Fe.parseFieldsInGeneralPurpose(h.getNewString());if(f!=null&&e.append(f),h.isRemaining()?u=""+h.getRemainingValue():u=null,o===h.getNewPosition())break;o=h.getNewPosition()}while(!0);return e.toString()}isStillNumeric(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(let s=e;s<e+3;++s)if(this.information.get(s))return!0;return this.information.get(e+3)}decodeNumeric(e){if(e+7>this.information.getSize()){let h=this.extractNumericValueFromBitArray(e,4);return h===0?new Hn(this.information.getSize(),Hn.FNC1,Hn.FNC1):new Hn(this.information.getSize(),h-1,Hn.FNC1)}let s=this.extractNumericValueFromBitArray(e,7),o=(s-8)/11,u=(s-8)%11;return new Hn(e+7,o,u)}extractNumericValueFromBitArray(e,s){return as.extractNumericValueFromBitArray(this.information,e,s)}static extractNumericValueFromBitArray(e,s,o){let u=0;for(let h=0;h<o;++h)e.get(s+h)&&(u|=1<<o-h-1);return u}decodeGeneralPurposeField(e,s){this.buffer.setLengthToZero(),s!=null&&this.buffer.append(s),this.current.setPosition(e);let o=this.parseBlocks();return o!=null&&o.isRemaining()?new Ur(this.current.getPosition(),this.buffer.toString(),o.getRemainingValue()):new Ur(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let e,s;do{let o=this.current.getPosition();if(this.current.isAlpha()?(s=this.parseAlphaBlock(),e=s.isFinished()):this.current.isIsoIec646()?(s=this.parseIsoIec646Block(),e=s.isFinished()):(s=this.parseNumericBlock(),e=s.isFinished()),!(o!==this.current.getPosition())&&!e)break}while(!e);return s.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){let s;return e.isSecondDigitFNC1()?s=new Ur(this.current.getPosition(),this.buffer.toString()):s=new Ur(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new Sr(!0,s)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){let s=new Ur(this.current.getPosition(),this.buffer.toString());return new Sr(!0,s)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Sr(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let s=new Ur(this.current.getPosition(),this.buffer.toString());return new Sr(!0,s)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Sr(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let s=new Ur(this.current.getPosition(),this.buffer.toString());return new Sr(!0,s)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Sr(!1)}isStillIsoIec646(e){if(e+5>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(e,5);if(s>=5&&s<16)return!0;if(e+7>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(e,7);if(o>=64&&o<116)return!0;if(e+8>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(e,8);return u>=232&&u<253}decodeIsoIec646(e){let s=this.extractNumericValueFromBitArray(e,5);if(s===15)return new Sn(e+5,Sn.FNC1);if(s>=5&&s<15)return new Sn(e+5,"0"+(s-5));let o=this.extractNumericValueFromBitArray(e,7);if(o>=64&&o<90)return new Sn(e+7,""+(o+1));if(o>=90&&o<116)return new Sn(e+7,""+(o+7));let u=this.extractNumericValueFromBitArray(e,8),h;switch(u){case 232:h="!";break;case 233:h='"';break;case 234:h="%";break;case 235:h="&";break;case 236:h="'";break;case 237:h="(";break;case 238:h=")";break;case 239:h="*";break;case 240:h="+";break;case 241:h=",";break;case 242:h="-";break;case 243:h=".";break;case 244:h="/";break;case 245:h=":";break;case 246:h=";";break;case 247:h="<";break;case 248:h="=";break;case 249:h=">";break;case 250:h="?";break;case 251:h="_";break;case 252:h=" ";break;default:throw new H}return new Sn(e+8,h)}isStillAlpha(e){if(e+5>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(e,5);if(s>=5&&s<16)return!0;if(e+6>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(e,6);return o>=16&&o<63}decodeAlphanumeric(e){let s=this.extractNumericValueFromBitArray(e,5);if(s===15)return new Sn(e+5,Sn.FNC1);if(s>=5&&s<15)return new Sn(e+5,"0"+(s-5));let o=this.extractNumericValueFromBitArray(e,6);if(o>=32&&o<58)return new Sn(e+6,""+(o+33));let u;switch(o){case 58:u="*";break;case 59:u=",";break;case 60:u="-";break;case 61:u=".";break;case 62:u="/";break;default:throw new De("Decoding invalid alphanumeric value: "+o)}return new Sn(e+6,u)}isAlphaTo646ToAlphaLatch(e){if(e+1>this.information.getSize())return!1;for(let s=0;s<5&&s+e<this.information.getSize();++s)if(s===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+s))return!1;return!0}isAlphaOr646ToNumericLatch(e){if(e+3>this.information.getSize())return!1;for(let s=e;s<e+3;++s)if(this.information.get(s))return!1;return!0}isNumericToAlphaNumericLatch(e){if(e+1>this.information.getSize())return!1;for(let s=0;s<4&&s+e<this.information.getSize();++s)if(this.information.get(e+s))return!1;return!0}}class Za{constructor(e){this.information=e,this.generalDecoder=new as(e)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class er extends Za{constructor(e){super(e)}encodeCompressedGtin(e,s){e.append("(01)");let o=e.length();e.append("9"),this.encodeCompressedGtinWithoutAI(e,s,o)}encodeCompressedGtinWithoutAI(e,s,o){for(let u=0;u<4;++u){let h=this.getGeneralDecoder().extractNumericValueFromBitArray(s+10*u,10);h/100===0&&e.append("0"),h/10===0&&e.append("0"),e.append(h)}er.appendCheckDigit(e,o)}static appendCheckDigit(e,s){let o=0;for(let u=0;u<13;u++){let h=e.charAt(u+s).charCodeAt(0)-48;o+=(u&1)===0?3*h:h}o=10-o%10,o===10&&(o=0),e.append(o)}}er.GTIN_SIZE=40;class mr extends er{constructor(e){super(e)}parseInformation(){let e=new ve;e.append("(01)");let s=e.length(),o=this.getGeneralDecoder().extractNumericValueFromBitArray(mr.HEADER_SIZE,4);return e.append(o),this.encodeCompressedGtinWithoutAI(e,mr.HEADER_SIZE+4,s),this.getGeneralDecoder().decodeAllCodes(e,mr.HEADER_SIZE+44)}}mr.HEADER_SIZE=4;class Ys extends Za{constructor(e){super(e)}parseInformation(){let e=new ve;return this.getGeneralDecoder().decodeAllCodes(e,Ys.HEADER_SIZE)}}Ys.HEADER_SIZE=5;class Zs extends er{constructor(e){super(e)}encodeCompressedWeight(e,s,o){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(s,o);this.addWeightCode(e,u);let h=this.checkWeight(u),f=1e5;for(let x=0;x<5;++x)h/f===0&&e.append("0"),f/=10;e.append(h)}}class zr extends Zs{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()!=zr.HEADER_SIZE+Zs.GTIN_SIZE+zr.WEIGHT_SIZE)throw new ie;let e=new ve;return this.encodeCompressedGtin(e,zr.HEADER_SIZE),this.encodeCompressedWeight(e,zr.HEADER_SIZE+Zs.GTIN_SIZE,zr.WEIGHT_SIZE),e.toString()}}zr.HEADER_SIZE=5,zr.WEIGHT_SIZE=15;class nc extends zr{constructor(e){super(e)}addWeightCode(e,s){e.append("(3103)")}checkWeight(e){return e}}class rc extends zr{constructor(e){super(e)}addWeightCode(e,s){s<1e4?e.append("(3202)"):e.append("(3203)")}checkWeight(e){return e<1e4?e:e-1e4}}class Ar extends er{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<Ar.HEADER_SIZE+er.GTIN_SIZE)throw new ie;let e=new ve;this.encodeCompressedGtin(e,Ar.HEADER_SIZE);let s=this.getGeneralDecoder().extractNumericValueFromBitArray(Ar.HEADER_SIZE+er.GTIN_SIZE,Ar.LAST_DIGIT_SIZE);e.append("(392"),e.append(s),e.append(")");let o=this.getGeneralDecoder().decodeGeneralPurposeField(Ar.HEADER_SIZE+er.GTIN_SIZE+Ar.LAST_DIGIT_SIZE,null);return e.append(o.getNewString()),e.toString()}}Ar.HEADER_SIZE=8,Ar.LAST_DIGIT_SIZE=2;class Bn extends er{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<Bn.HEADER_SIZE+er.GTIN_SIZE)throw new ie;let e=new ve;this.encodeCompressedGtin(e,Bn.HEADER_SIZE);let s=this.getGeneralDecoder().extractNumericValueFromBitArray(Bn.HEADER_SIZE+er.GTIN_SIZE,Bn.LAST_DIGIT_SIZE);e.append("(393"),e.append(s),e.append(")");let o=this.getGeneralDecoder().extractNumericValueFromBitArray(Bn.HEADER_SIZE+er.GTIN_SIZE+Bn.LAST_DIGIT_SIZE,Bn.FIRST_THREE_DIGITS_SIZE);o/100==0&&e.append("0"),o/10==0&&e.append("0"),e.append(o);let u=this.getGeneralDecoder().decodeGeneralPurposeField(Bn.HEADER_SIZE+er.GTIN_SIZE+Bn.LAST_DIGIT_SIZE+Bn.FIRST_THREE_DIGITS_SIZE,null);return e.append(u.getNewString()),e.toString()}}Bn.HEADER_SIZE=8,Bn.LAST_DIGIT_SIZE=2,Bn.FIRST_THREE_DIGITS_SIZE=10;class Kt extends Zs{constructor(e,s,o){super(e),this.dateCode=o,this.firstAIdigits=s}parseInformation(){if(this.getInformation().getSize()!=Kt.HEADER_SIZE+Kt.GTIN_SIZE+Kt.WEIGHT_SIZE+Kt.DATE_SIZE)throw new ie;let e=new ve;return this.encodeCompressedGtin(e,Kt.HEADER_SIZE),this.encodeCompressedWeight(e,Kt.HEADER_SIZE+Kt.GTIN_SIZE,Kt.WEIGHT_SIZE),this.encodeCompressedDate(e,Kt.HEADER_SIZE+Kt.GTIN_SIZE+Kt.WEIGHT_SIZE),e.toString()}encodeCompressedDate(e,s){let o=this.getGeneralDecoder().extractNumericValueFromBitArray(s,Kt.DATE_SIZE);if(o==38400)return;e.append("("),e.append(this.dateCode),e.append(")");let u=o%32;o/=32;let h=o%12+1;o/=12;let f=o;f/10==0&&e.append("0"),e.append(f),h/10==0&&e.append("0"),e.append(h),u/10==0&&e.append("0"),e.append(u)}addWeightCode(e,s){e.append("("),e.append(this.firstAIdigits),e.append(s/1e5),e.append(")")}checkWeight(e){return e%1e5}}Kt.HEADER_SIZE=8,Kt.WEIGHT_SIZE=20,Kt.DATE_SIZE=16;function ic(P){try{if(P.get(1))return new mr(P);if(!P.get(2))return new Ys(P);switch(as.extractNumericValueFromBitArray(P,1,4)){case 4:return new nc(P);case 5:return new rc(P)}switch(as.extractNumericValueFromBitArray(P,1,5)){case 12:return new Ar(P);case 13:return new Bn(P)}switch(as.extractNumericValueFromBitArray(P,1,7)){case 56:return new Kt(P,"310","11");case 57:return new Kt(P,"320","11");case 58:return new Kt(P,"310","13");case 59:return new Kt(P,"320","13");case 60:return new Kt(P,"310","15");case 61:return new Kt(P,"320","15");case 62:return new Kt(P,"310","17");case 63:return new Kt(P,"320","17")}}catch(e){throw console.log(e),new De("unknown decoder: "+P)}}class zt{constructor(e,s,o,u){this.leftchar=e,this.rightchar=s,this.finderpattern=o,this.maybeLast=u}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(e,s){return e instanceof zt?zt.equalsOrNull(e.leftchar,s.leftchar)&&zt.equalsOrNull(e.rightchar,s.rightchar)&&zt.equalsOrNull(e.finderpattern,s.finderpattern):!1}static equalsOrNull(e,s){return e===null?s===null:zt.equals(e,s)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Qa{constructor(e,s,o){this.pairs=e,this.rowNumber=s,this.wasReversed=o}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(e){return this.checkEqualitity(this,e)}toString(){return"{ "+this.pairs+" }"}equals(e,s){return e instanceof Qa?this.checkEqualitity(e,s)&&e.wasReversed===s.wasReversed:!1}checkEqualitity(e,s){if(!e||!s)return;let o;return e.forEach((u,h)=>{s.forEach(f=>{u.getLeftChar().getValue()===f.getLeftChar().getValue()&&u.getRightChar().getValue()===f.getRightChar().getValue()&&u.getFinderPatter().getValue()===f.getFinderPatter().getValue()&&(o=!0)})}),o}}class Se extends In{constructor(e){super(...arguments),this.pairs=new Array(Se.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=e===!0}decodeRow(e,s,o){this.pairs.length=0,this.startFromEven=!1;try{return Se.constructResult(this.decodeRow2pairs(e,s))}catch(u){this.verbose&&console.log(u)}return this.pairs.length=0,this.startFromEven=!0,Se.constructResult(this.decodeRow2pairs(e,s))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(e,s){let o=!1;for(;!o;)try{this.pairs.push(this.retrieveNextPair(s,this.pairs,e))}catch(h){if(h instanceof ie){if(!this.pairs.length)throw new ie;o=!0}}if(this.checkChecksum())return this.pairs;let u;if(this.rows.length?u=!0:u=!1,this.storeRow(e,!1),u){let h=this.checkRowsBoolean(!1);if(h!=null||(h=this.checkRowsBoolean(!0),h!=null))return h}throw new ie}checkRowsBoolean(e){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,e&&(this.rows=this.rows.reverse());let s=null;try{s=this.checkRows(new Array,0)}catch(o){this.verbose&&console.log(o)}return e&&(this.rows=this.rows.reverse()),s}checkRows(e,s){for(let o=s;o<this.rows.length;o++){let u=this.rows[o];this.pairs.length=0;for(let f of e)this.pairs.push(f.getPairs());if(this.pairs.push(u.getPairs()),!Se.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let h=new Array(e);h.push(u);try{return this.checkRows(h,o+1)}catch(f){this.verbose&&console.log(f)}}throw new ie}static isValidSequence(e){for(let s of Se.FINDER_PATTERN_SEQUENCES){if(e.length>s.length)continue;let o=!0;for(let u=0;u<e.length;u++)if(e[u].getFinderPattern().getValue()!=s[u]){o=!1;break}if(o)return!0}return!1}storeRow(e,s){let o=0,u=!1,h=!1;for(;o<this.rows.length;){let f=this.rows[o];if(f.getRowNumber()>e){h=f.isEquivalent(this.pairs);break}u=f.isEquivalent(this.pairs),o++}h||u||Se.isPartialRow(this.pairs,this.rows)||(this.rows.push(o,new Qa(this.pairs,e,s)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(e,s){for(let o of s)if(o.getPairs().length!==e.length){for(let u of o.getPairs())for(let h of e)if(zt.equals(u,h))break}}static isPartialRow(e,s){for(let o of s){let u=!0;for(let h of e){let f=!1;for(let x of o.getPairs())if(h.equals(x)){f=!0;break}if(!f){u=!1;break}}if(u)return!0}return!1}getRows(){return this.rows}static constructResult(e){let s=Ka.buildBitArray(e),u=ic(s).parseInformation(),h=e[0].getFinderPattern().getResultPoints(),f=e[e.length-1].getFinderPattern().getResultPoints(),x=[h[0],h[1],f[0],f[1]];return new ke(u,null,null,x,be.RSS_EXPANDED,null)}checkChecksum(){let e=this.pairs.get(0),s=e.getLeftChar(),o=e.getRightChar();if(o==null)return!1;let u=o.getChecksumPortion(),h=2;for(let x=1;x<this.pairs.size();++x){let E=this.pairs.get(x);u+=E.getLeftChar().getChecksumPortion(),h++;let C=E.getRightChar();C!=null&&(u+=C.getChecksumPortion(),h++)}return u%=211,211*(h-4)+u==s.getValue()}static getNextSecondBar(e,s){let o;return e.get(s)?(o=e.getNextUnset(s),o=e.getNextSet(o)):(o=e.getNextSet(s),o=e.getNextUnset(o)),o}retrieveNextPair(e,s,o){let u=s.length%2==0;this.startFromEven&&(u=!u);let h,f=!0,x=-1;do this.findNextPair(e,s,x),h=this.parseFoundFinderPattern(e,o,u),h==null?x=Se.getNextSecondBar(e,this.startEnd[0]):f=!1;while(f);let E=this.decodeDataCharacter(e,h,u,!0);if(!this.isEmptyPair(s)&&s[s.length-1].mustBeLast())throw new ie;let C;try{C=this.decodeDataCharacter(e,h,u,!1)}catch(I){C=null,this.verbose&&console.log(I)}return new zt(E,C,h,!0)}isEmptyPair(e){return e.length===0}findNextPair(e,s,o){let u=this.getDecodeFinderCounters();u[0]=0,u[1]=0,u[2]=0,u[3]=0;let h=e.getSize(),f;o>=0?f=o:this.isEmptyPair(s)?f=0:f=s[s.length-1].getFinderPattern().getStartEnd()[1];let x=s.length%2!=0;this.startFromEven&&(x=!x);let E=!1;for(;f<h&&(E=!e.get(f),!!E);)f++;let C=0,I=f;for(let D=f;D<h;D++)if(e.get(D)!=E)u[C]++;else{if(C==3){if(x&&Se.reverseCounters(u),Se.isFinderPattern(u)){this.startEnd[0]=I,this.startEnd[1]=D;return}x&&Se.reverseCounters(u),I+=u[0]+u[1],u[0]=u[2],u[1]=u[3],u[2]=0,u[3]=0,C--}else C++;u[C]=1,E=!E}throw new ie}static reverseCounters(e){let s=e.length;for(let o=0;o<s/2;++o){let u=e[o];e[o]=e[s-o-1],e[s-o-1]=u}}parseFoundFinderPattern(e,s,o){let u,h,f;if(o){let C=this.startEnd[0]-1;for(;C>=0&&!e.get(C);)C--;C++,u=this.startEnd[0]-C,h=C,f=this.startEnd[1]}else h=this.startEnd[0],f=e.getNextUnset(this.startEnd[1]+1),u=f-this.startEnd[1];let x=this.getDecodeFinderCounters();k.arraycopy(x,0,x,1,x.length-1),x[0]=u;let E;try{E=this.parseFinderValue(x,Se.FINDER_PATTERNS)}catch{return null}return new Ks(E,[h,f],h,f,s)}decodeDataCharacter(e,s,o,u){let h=this.getDataCharacterCounters();for(let Ft=0;Ft<h.length;Ft++)h[Ft]=0;if(u)Se.recordPatternInReverse(e,s.getStartEnd()[0],h);else{Se.recordPattern(e,s.getStartEnd()[1],h);for(let Ft=0,an=h.length-1;Ft<an;Ft++,an--){let qn=h[Ft];h[Ft]=h[an],h[an]=qn}}let f=17,x=tt.sum(new Int32Array(h))/f,E=(s.getStartEnd()[1]-s.getStartEnd()[0])/15;if(Math.abs(x-E)/E>.3)throw new ie;let C=this.getOddCounts(),I=this.getEvenCounts(),D=this.getOddRoundingErrors(),B=this.getEvenRoundingErrors();for(let Ft=0;Ft<h.length;Ft++){let an=1*h[Ft]/x,qn=an+.5;if(qn<1){if(an<.3)throw new ie;qn=1}else if(qn>8){if(an>8.7)throw new ie;qn=8}let qi=Ft/2;(Ft&1)==0?(C[qi]=qn,D[qi]=an-qn):(I[qi]=qn,B[qi]=an-qn)}this.adjustOddEvenCounts(f);let G=4*s.getValue()+(o?0:2)+(u?0:1)-1,Q=0,te=0;for(let Ft=C.length-1;Ft>=0;Ft--){if(Se.isNotA1left(s,o,u)){let an=Se.WEIGHTS[G][2*Ft];te+=C[Ft]*an}Q+=C[Ft]}let ae=0;for(let Ft=I.length-1;Ft>=0;Ft--)if(Se.isNotA1left(s,o,u)){let an=Se.WEIGHTS[G][2*Ft+1];ae+=I[Ft]*an}let me=te+ae;if((Q&1)!=0||Q>13||Q<4)throw new ie;let Oe=(13-Q)/2,Pe=Se.SYMBOL_WIDEST[Oe],Ne=9-Pe,At=Jn.getRSSvalue(C,Pe,!0),mt=Jn.getRSSvalue(I,Ne,!1),nr=Se.EVEN_TOTAL_SUBSET[Oe],Rr=Se.GSUM[Oe],bn=At*nr+mt+Rr;return new Ei(bn,me)}static isNotA1left(e,s,o){return!(e.getValue()==0&&s&&o)}adjustOddEvenCounts(e){let s=tt.sum(new Int32Array(this.getOddCounts())),o=tt.sum(new Int32Array(this.getEvenCounts())),u=!1,h=!1;s>13?h=!0:s<4&&(u=!0);let f=!1,x=!1;o>13?x=!0:o<4&&(f=!0);let E=s+o-e,C=(s&1)==1,I=(o&1)==0;if(E==1)if(C){if(I)throw new ie;h=!0}else{if(!I)throw new ie;x=!0}else if(E==-1)if(C){if(I)throw new ie;u=!0}else{if(!I)throw new ie;f=!0}else if(E==0){if(C){if(!I)throw new ie;s<o?(u=!0,x=!0):(h=!0,f=!0)}else if(I)throw new ie}else throw new ie;if(u){if(h)throw new ie;Se.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(h&&Se.decrement(this.getOddCounts(),this.getOddRoundingErrors()),f){if(x)throw new ie;Se.increment(this.getEvenCounts(),this.getOddRoundingErrors())}x&&Se.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Se.SYMBOL_WIDEST=[7,5,4,3,1],Se.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Se.GSUM=[0,348,1388,2948,3988],Se.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Se.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Se.FINDER_PAT_A=0,Se.FINDER_PAT_B=1,Se.FINDER_PAT_C=2,Se.FINDER_PAT_D=3,Se.FINDER_PAT_E=4,Se.FINDER_PAT_F=5,Se.FINDER_PATTERN_SEQUENCES=[[Se.FINDER_PAT_A,Se.FINDER_PAT_A],[Se.FINDER_PAT_A,Se.FINDER_PAT_B,Se.FINDER_PAT_B],[Se.FINDER_PAT_A,Se.FINDER_PAT_C,Se.FINDER_PAT_B,Se.FINDER_PAT_D],[Se.FINDER_PAT_A,Se.FINDER_PAT_E,Se.FINDER_PAT_B,Se.FINDER_PAT_D,Se.FINDER_PAT_C],[Se.FINDER_PAT_A,Se.FINDER_PAT_E,Se.FINDER_PAT_B,Se.FINDER_PAT_D,Se.FINDER_PAT_D,Se.FINDER_PAT_F],[Se.FINDER_PAT_A,Se.FINDER_PAT_E,Se.FINDER_PAT_B,Se.FINDER_PAT_D,Se.FINDER_PAT_E,Se.FINDER_PAT_F,Se.FINDER_PAT_F],[Se.FINDER_PAT_A,Se.FINDER_PAT_A,Se.FINDER_PAT_B,Se.FINDER_PAT_B,Se.FINDER_PAT_C,Se.FINDER_PAT_C,Se.FINDER_PAT_D,Se.FINDER_PAT_D],[Se.FINDER_PAT_A,Se.FINDER_PAT_A,Se.FINDER_PAT_B,Se.FINDER_PAT_B,Se.FINDER_PAT_C,Se.FINDER_PAT_C,Se.FINDER_PAT_D,Se.FINDER_PAT_E,Se.FINDER_PAT_E],[Se.FINDER_PAT_A,Se.FINDER_PAT_A,Se.FINDER_PAT_B,Se.FINDER_PAT_B,Se.FINDER_PAT_C,Se.FINDER_PAT_C,Se.FINDER_PAT_D,Se.FINDER_PAT_E,Se.FINDER_PAT_F,Se.FINDER_PAT_F],[Se.FINDER_PAT_A,Se.FINDER_PAT_A,Se.FINDER_PAT_B,Se.FINDER_PAT_B,Se.FINDER_PAT_C,Se.FINDER_PAT_D,Se.FINDER_PAT_D,Se.FINDER_PAT_E,Se.FINDER_PAT_E,Se.FINDER_PAT_F,Se.FINDER_PAT_F]],Se.MAX_PAIRS=11;class sc extends Ei{constructor(e,s,o){super(e,s),this.count=0,this.finderPattern=o}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class $t extends In{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(e,s,o){const u=this.decodePair(s,!1,e,o);$t.addOrTally(this.possibleLeftPairs,u),s.reverse();let h=this.decodePair(s,!0,e,o);$t.addOrTally(this.possibleRightPairs,h),s.reverse();for(let f of this.possibleLeftPairs)if(f.getCount()>1){for(let x of this.possibleRightPairs)if(x.getCount()>1&&$t.checkChecksum(f,x))return $t.constructResult(f,x)}throw new ie}static addOrTally(e,s){if(s==null)return;let o=!1;for(let u of e)if(u.getValue()===s.getValue()){u.incrementCount(),o=!0;break}o||e.push(s)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(e,s){let o=4537077*e.getValue()+s.getValue(),u=new String(o).toString(),h=new ve;for(let C=13-u.length;C>0;C--)h.append("0");h.append(u);let f=0;for(let C=0;C<13;C++){let I=h.charAt(C).charCodeAt(0)-48;f+=(C&1)===0?3*I:I}f=10-f%10,f===10&&(f=0),h.append(f.toString());let x=e.getFinderPattern().getResultPoints(),E=s.getFinderPattern().getResultPoints();return new ke(h.toString(),null,0,[x[0],x[1],E[0],E[1]],be.RSS_14,new Date().getTime())}static checkChecksum(e,s){let o=(e.getChecksumPortion()+16*s.getChecksumPortion())%79,u=9*e.getFinderPattern().getValue()+s.getFinderPattern().getValue();return u>72&&u--,u>8&&u--,o===u}decodePair(e,s,o,u){try{let h=this.findFinderPattern(e,s),f=this.parseFoundFinderPattern(e,o,s,h),x=u==null?null:u.get(Z.NEED_RESULT_POINT_CALLBACK);if(x!=null){let I=(h[0]+h[1])/2;s&&(I=e.getSize()-1-I),x.foundPossibleResultPoint(new Le(I,o))}let E=this.decodeDataCharacter(e,f,!0),C=this.decodeDataCharacter(e,f,!1);return new sc(1597*E.getValue()+C.getValue(),E.getChecksumPortion()+4*C.getChecksumPortion(),f)}catch{return null}}decodeDataCharacter(e,s,o){let u=this.getDataCharacterCounters();for(let ae=0;ae<u.length;ae++)u[ae]=0;if(o)on.recordPatternInReverse(e,s.getStartEnd()[0],u);else{on.recordPattern(e,s.getStartEnd()[1]+1,u);for(let ae=0,me=u.length-1;ae<me;ae++,me--){let Oe=u[ae];u[ae]=u[me],u[me]=Oe}}let h=o?16:15,f=tt.sum(new Int32Array(u))/h,x=this.getOddCounts(),E=this.getEvenCounts(),C=this.getOddRoundingErrors(),I=this.getEvenRoundingErrors();for(let ae=0;ae<u.length;ae++){let me=u[ae]/f,Oe=Math.floor(me+.5);Oe<1?Oe=1:Oe>8&&(Oe=8);let Pe=Math.floor(ae/2);(ae&1)===0?(x[Pe]=Oe,C[Pe]=me-Oe):(E[Pe]=Oe,I[Pe]=me-Oe)}this.adjustOddEvenCounts(o,h);let D=0,B=0;for(let ae=x.length-1;ae>=0;ae--)B*=9,B+=x[ae],D+=x[ae];let G=0,Q=0;for(let ae=E.length-1;ae>=0;ae--)G*=9,G+=E[ae],Q+=E[ae];let te=B+3*G;if(o){if((D&1)!==0||D>12||D<4)throw new ie;let ae=(12-D)/2,me=$t.OUTSIDE_ODD_WIDEST[ae],Oe=9-me,Pe=Jn.getRSSvalue(x,me,!1),Ne=Jn.getRSSvalue(E,Oe,!0),At=$t.OUTSIDE_EVEN_TOTAL_SUBSET[ae],mt=$t.OUTSIDE_GSUM[ae];return new Ei(Pe*At+Ne+mt,te)}else{if((Q&1)!==0||Q>10||Q<4)throw new ie;let ae=(10-Q)/2,me=$t.INSIDE_ODD_WIDEST[ae],Oe=9-me,Pe=Jn.getRSSvalue(x,me,!0),Ne=Jn.getRSSvalue(E,Oe,!1),At=$t.INSIDE_ODD_TOTAL_SUBSET[ae],mt=$t.INSIDE_GSUM[ae];return new Ei(Ne*At+Pe+mt,te)}}findFinderPattern(e,s){let o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;let u=e.getSize(),h=!1,f=0;for(;f<u&&(h=!e.get(f),s!==h);)f++;let x=0,E=f;for(let C=f;C<u;C++)if(e.get(C)!==h)o[x]++;else{if(x===3){if(In.isFinderPattern(o))return[E,C];E+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,x--}else x++;o[x]=1,h=!h}throw new ie}parseFoundFinderPattern(e,s,o,u){let h=e.get(u[0]),f=u[0]-1;for(;f>=0&&h!==e.get(f);)f--;f++;const x=u[0]-f,E=this.getDecodeFinderCounters(),C=new Int32Array(E.length);k.arraycopy(E,0,C,1,E.length-1),C[0]=x;const I=this.parseFinderValue(C,$t.FINDER_PATTERNS);let D=f,B=u[1];return o&&(D=e.getSize()-1-D,B=e.getSize()-1-B),new Ks(I,[f,u[1]],D,B,s)}adjustOddEvenCounts(e,s){let o=tt.sum(new Int32Array(this.getOddCounts())),u=tt.sum(new Int32Array(this.getEvenCounts())),h=!1,f=!1,x=!1,E=!1;e?(o>12?f=!0:o<4&&(h=!0),u>12?E=!0:u<4&&(x=!0)):(o>11?f=!0:o<5&&(h=!0),u>10?E=!0:u<4&&(x=!0));let C=o+u-s,I=(o&1)===(e?1:0),D=(u&1)===1;if(C===1)if(I){if(D)throw new ie;f=!0}else{if(!D)throw new ie;E=!0}else if(C===-1)if(I){if(D)throw new ie;h=!0}else{if(!D)throw new ie;x=!0}else if(C===0){if(I){if(!D)throw new ie;o<u?(h=!0,E=!0):(f=!0,x=!0)}else if(D)throw new ie}else throw new ie;if(h){if(f)throw new ie;In.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(f&&In.decrement(this.getOddCounts(),this.getOddRoundingErrors()),x){if(E)throw new ie;In.increment(this.getEvenCounts(),this.getOddRoundingErrors())}E&&In.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}$t.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],$t.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],$t.OUTSIDE_GSUM=[0,161,961,2015,2715],$t.INSIDE_GSUM=[0,336,1036,1516],$t.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],$t.INSIDE_ODD_WIDEST=[2,4,6,8],$t.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class ls extends on{constructor(e,s){super(),this.readers=[],this.verbose=s===!0;const o=e?e.get(Z.POSSIBLE_FORMATS):null,u=e&&e.get(Z.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;o?((o.includes(be.EAN_13)||o.includes(be.UPC_A)||o.includes(be.EAN_8)||o.includes(be.UPC_E))&&this.readers.push(new Bo(e)),o.includes(be.CODE_39)&&this.readers.push(new wn(u)),o.includes(be.CODE_128)&&this.readers.push(new Me),o.includes(be.ITF)&&this.readers.push(new Bt),o.includes(be.RSS_14)&&this.readers.push(new $t),o.includes(be.RSS_EXPANDED)&&this.readers.push(new Se(this.verbose))):(this.readers.push(new Bo(e)),this.readers.push(new wn),this.readers.push(new Bo(e)),this.readers.push(new Me),this.readers.push(new Bt),this.readers.push(new $t),this.readers.push(new Se(this.verbose)))}decodeRow(e,s,o){for(let u=0;u<this.readers.length;u++)try{return this.readers[u].decodeRow(e,s,o)}catch{}throw new ie}reset(){this.readers.forEach(e=>e.reset())}}class oc extends Ae{constructor(e=500,s){super(new ls(s),e,s)}}class Dt{constructor(e,s,o){this.ecCodewords=e,this.ecBlocks=[s],o&&this.ecBlocks.push(o)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class vt{constructor(e,s){this.count=e,this.dataCodewords=s}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ot{constructor(e,s,o,u,h,f){this.versionNumber=e,this.symbolSizeRows=s,this.symbolSizeColumns=o,this.dataRegionSizeRows=u,this.dataRegionSizeColumns=h,this.ecBlocks=f;let x=0;const E=f.getECCodewords(),C=f.getECBlocks();for(let I of C)x+=I.getCount()*(I.getDataCodewords()+E);this.totalCodewords=x}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(e,s){if((e&1)!==0||(s&1)!==0)throw new H;for(let o of Ot.VERSIONS)if(o.symbolSizeRows===e&&o.symbolSizeColumns===s)return o;throw new H}toString(){return""+this.versionNumber}static buildVersions(){return[new Ot(1,10,10,8,8,new Dt(5,new vt(1,3))),new Ot(2,12,12,10,10,new Dt(7,new vt(1,5))),new Ot(3,14,14,12,12,new Dt(10,new vt(1,8))),new Ot(4,16,16,14,14,new Dt(12,new vt(1,12))),new Ot(5,18,18,16,16,new Dt(14,new vt(1,18))),new Ot(6,20,20,18,18,new Dt(18,new vt(1,22))),new Ot(7,22,22,20,20,new Dt(20,new vt(1,30))),new Ot(8,24,24,22,22,new Dt(24,new vt(1,36))),new Ot(9,26,26,24,24,new Dt(28,new vt(1,44))),new Ot(10,32,32,14,14,new Dt(36,new vt(1,62))),new Ot(11,36,36,16,16,new Dt(42,new vt(1,86))),new Ot(12,40,40,18,18,new Dt(48,new vt(1,114))),new Ot(13,44,44,20,20,new Dt(56,new vt(1,144))),new Ot(14,48,48,22,22,new Dt(68,new vt(1,174))),new Ot(15,52,52,24,24,new Dt(42,new vt(2,102))),new Ot(16,64,64,14,14,new Dt(56,new vt(2,140))),new Ot(17,72,72,16,16,new Dt(36,new vt(4,92))),new Ot(18,80,80,18,18,new Dt(48,new vt(4,114))),new Ot(19,88,88,20,20,new Dt(56,new vt(4,144))),new Ot(20,96,96,22,22,new Dt(68,new vt(4,174))),new Ot(21,104,104,24,24,new Dt(56,new vt(6,136))),new Ot(22,120,120,18,18,new Dt(68,new vt(6,175))),new Ot(23,132,132,20,20,new Dt(62,new vt(8,163))),new Ot(24,144,144,22,22,new Dt(62,new vt(8,156),new vt(2,155))),new Ot(25,8,18,6,16,new Dt(7,new vt(1,5))),new Ot(26,8,32,6,14,new Dt(11,new vt(1,10))),new Ot(27,12,26,10,24,new Dt(14,new vt(1,16))),new Ot(28,12,36,10,16,new Dt(18,new vt(1,22))),new Ot(29,16,36,14,16,new Dt(24,new vt(1,32))),new Ot(30,16,48,14,22,new Dt(28,new vt(1,49)))]}}Ot.VERSIONS=Ot.buildVersions();class cr{constructor(e){const s=e.getHeight();if(s<8||s>144||(s&1)!==0)throw new H;this.version=cr.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new Ce(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(e){const s=e.getHeight(),o=e.getWidth();return Ot.getVersionForDimensions(s,o)}readCodewords(){const e=new Int8Array(this.version.getTotalCodewords());let s=0,o=4,u=0;const h=this.mappingBitMatrix.getHeight(),f=this.mappingBitMatrix.getWidth();let x=!1,E=!1,C=!1,I=!1;do if(o===h&&u===0&&!x)e[s++]=this.readCorner1(h,f)&255,o-=2,u+=2,x=!0;else if(o===h-2&&u===0&&(f&3)!==0&&!E)e[s++]=this.readCorner2(h,f)&255,o-=2,u+=2,E=!0;else if(o===h+4&&u===2&&(f&7)===0&&!C)e[s++]=this.readCorner3(h,f)&255,o-=2,u+=2,C=!0;else if(o===h-2&&u===0&&(f&7)===4&&!I)e[s++]=this.readCorner4(h,f)&255,o-=2,u+=2,I=!0;else{do o<h&&u>=0&&!this.readMappingMatrix.get(u,o)&&(e[s++]=this.readUtah(o,u,h,f)&255),o-=2,u+=2;while(o>=0&&u<f);o+=1,u+=3;do o>=0&&u<f&&!this.readMappingMatrix.get(u,o)&&(e[s++]=this.readUtah(o,u,h,f)&255),o+=2,u-=2;while(o<h&&u>=0);o+=3,u+=1}while(o<h||u<f);if(s!==this.version.getTotalCodewords())throw new H;return e}readModule(e,s,o,u){return e<0&&(e+=o,s+=4-(o+4&7)),s<0&&(s+=u,e+=4-(u+4&7)),this.readMappingMatrix.set(s,e),this.mappingBitMatrix.get(s,e)}readUtah(e,s,o,u){let h=0;return this.readModule(e-2,s-2,o,u)&&(h|=1),h<<=1,this.readModule(e-2,s-1,o,u)&&(h|=1),h<<=1,this.readModule(e-1,s-2,o,u)&&(h|=1),h<<=1,this.readModule(e-1,s-1,o,u)&&(h|=1),h<<=1,this.readModule(e-1,s,o,u)&&(h|=1),h<<=1,this.readModule(e,s-2,o,u)&&(h|=1),h<<=1,this.readModule(e,s-1,o,u)&&(h|=1),h<<=1,this.readModule(e,s,o,u)&&(h|=1),h}readCorner1(e,s){let o=0;return this.readModule(e-1,0,e,s)&&(o|=1),o<<=1,this.readModule(e-1,1,e,s)&&(o|=1),o<<=1,this.readModule(e-1,2,e,s)&&(o|=1),o<<=1,this.readModule(0,s-2,e,s)&&(o|=1),o<<=1,this.readModule(0,s-1,e,s)&&(o|=1),o<<=1,this.readModule(1,s-1,e,s)&&(o|=1),o<<=1,this.readModule(2,s-1,e,s)&&(o|=1),o<<=1,this.readModule(3,s-1,e,s)&&(o|=1),o}readCorner2(e,s){let o=0;return this.readModule(e-3,0,e,s)&&(o|=1),o<<=1,this.readModule(e-2,0,e,s)&&(o|=1),o<<=1,this.readModule(e-1,0,e,s)&&(o|=1),o<<=1,this.readModule(0,s-4,e,s)&&(o|=1),o<<=1,this.readModule(0,s-3,e,s)&&(o|=1),o<<=1,this.readModule(0,s-2,e,s)&&(o|=1),o<<=1,this.readModule(0,s-1,e,s)&&(o|=1),o<<=1,this.readModule(1,s-1,e,s)&&(o|=1),o}readCorner3(e,s){let o=0;return this.readModule(e-1,0,e,s)&&(o|=1),o<<=1,this.readModule(e-1,s-1,e,s)&&(o|=1),o<<=1,this.readModule(0,s-3,e,s)&&(o|=1),o<<=1,this.readModule(0,s-2,e,s)&&(o|=1),o<<=1,this.readModule(0,s-1,e,s)&&(o|=1),o<<=1,this.readModule(1,s-3,e,s)&&(o|=1),o<<=1,this.readModule(1,s-2,e,s)&&(o|=1),o<<=1,this.readModule(1,s-1,e,s)&&(o|=1),o}readCorner4(e,s){let o=0;return this.readModule(e-3,0,e,s)&&(o|=1),o<<=1,this.readModule(e-2,0,e,s)&&(o|=1),o<<=1,this.readModule(e-1,0,e,s)&&(o|=1),o<<=1,this.readModule(0,s-2,e,s)&&(o|=1),o<<=1,this.readModule(0,s-1,e,s)&&(o|=1),o<<=1,this.readModule(1,s-1,e,s)&&(o|=1),o<<=1,this.readModule(2,s-1,e,s)&&(o|=1),o<<=1,this.readModule(3,s-1,e,s)&&(o|=1),o}extractDataRegion(e){const s=this.version.getSymbolSizeRows(),o=this.version.getSymbolSizeColumns();if(e.getHeight()!==s)throw new _("Dimension of bitMatrix must match the version size");const u=this.version.getDataRegionSizeRows(),h=this.version.getDataRegionSizeColumns(),f=s/u|0,x=o/h|0,E=f*u,C=x*h,I=new Ce(C,E);for(let D=0;D<f;++D){const B=D*u;for(let G=0;G<x;++G){const Q=G*h;for(let te=0;te<u;++te){const ae=D*(u+2)+1+te,me=B+te;for(let Oe=0;Oe<h;++Oe){const Pe=G*(h+2)+1+Oe;if(e.get(Pe,ae)){const Ne=Q+Oe;I.set(Ne,me)}}}}}return I}}class Ja{constructor(e,s){this.numDataCodewords=e,this.codewords=s}static getDataBlocks(e,s){const o=s.getECBlocks();let u=0;const h=o.getECBlocks();for(let te of h)u+=te.getCount();const f=new Array(u);let x=0;for(let te of h)for(let ae=0;ae<te.getCount();ae++){const me=te.getDataCodewords(),Oe=o.getECCodewords()+me;f[x++]=new Ja(me,new Uint8Array(Oe))}const C=f[0].codewords.length-o.getECCodewords(),I=C-1;let D=0;for(let te=0;te<I;te++)for(let ae=0;ae<x;ae++)f[ae].codewords[te]=e[D++];const B=s.getVersionNumber()===24,G=B?8:x;for(let te=0;te<G;te++)f[te].codewords[C-1]=e[D++];const Q=f[0].codewords.length;for(let te=C;te<Q;te++)for(let ae=0;ae<x;ae++){const me=B?(ae+8)%x:ae,Oe=B&&me>7?te-1:te;f[me].codewords[Oe]=e[D++]}if(D!==e.length)throw new _;return f}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class el{constructor(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(e){if(e<1||e>32||e>this.available())throw new _(""+e);let s=0,o=this.bitOffset,u=this.byteOffset;const h=this.bytes;if(o>0){const f=8-o,x=e<f?e:f,E=f-x,C=255>>8-x<<E;s=(h[u]&C)>>E,e-=x,o+=x,o===8&&(o=0,u++)}if(e>0){for(;e>=8;)s=s<<8|h[u]&255,u++,e-=8;if(e>0){const f=8-e,x=255>>f<<f;s=s<<e|(h[u]&x)>>f,o+=e}}return this.bitOffset=o,this.byteOffset=u,s}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var yn;(function(P){P[P.PAD_ENCODE=0]="PAD_ENCODE",P[P.ASCII_ENCODE=1]="ASCII_ENCODE",P[P.C40_ENCODE=2]="C40_ENCODE",P[P.TEXT_ENCODE=3]="TEXT_ENCODE",P[P.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",P[P.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",P[P.BASE256_ENCODE=6]="BASE256_ENCODE"})(yn||(yn={}));class _r{static decode(e){const s=new el(e),o=new ve,u=new ve,h=new Array;let f=yn.ASCII_ENCODE;do if(f===yn.ASCII_ENCODE)f=this.decodeAsciiSegment(s,o,u);else{switch(f){case yn.C40_ENCODE:this.decodeC40Segment(s,o);break;case yn.TEXT_ENCODE:this.decodeTextSegment(s,o);break;case yn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(s,o);break;case yn.EDIFACT_ENCODE:this.decodeEdifactSegment(s,o);break;case yn.BASE256_ENCODE:this.decodeBase256Segment(s,o,h);break;default:throw new H}f=yn.ASCII_ENCODE}while(f!==yn.PAD_ENCODE&&s.available()>0);return u.length()>0&&o.append(u.toString()),new We(e,o.toString(),h.length===0?null:h,null)}static decodeAsciiSegment(e,s,o){let u=!1;do{let h=e.readBits(8);if(h===0)throw new H;if(h<=128)return u&&(h+=128),s.append(String.fromCharCode(h-1)),yn.ASCII_ENCODE;if(h===129)return yn.PAD_ENCODE;if(h<=229){const f=h-130;f<10&&s.append("0"),s.append(""+f)}else switch(h){case 230:return yn.C40_ENCODE;case 231:return yn.BASE256_ENCODE;case 232:s.append("");break;case 233:case 234:break;case 235:u=!0;break;case 236:s.append("[)>05"),o.insert(0,"");break;case 237:s.append("[)>06"),o.insert(0,"");break;case 238:return yn.ANSIX12_ENCODE;case 239:return yn.TEXT_ENCODE;case 240:return yn.EDIFACT_ENCODE;case 241:break;default:if(h!==254||e.available()!==0)throw new H;break}}while(e.available()>0);return yn.ASCII_ENCODE}static decodeC40Segment(e,s){let o=!1;const u=[];let h=0;do{if(e.available()===8)return;const f=e.readBits(8);if(f===254)return;this.parseTwoBytes(f,e.readBits(8),u);for(let x=0;x<3;x++){const E=u[x];switch(h){case 0:if(E<3)h=E+1;else if(E<this.C40_BASIC_SET_CHARS.length){const C=this.C40_BASIC_SET_CHARS[E];o?(s.append(String.fromCharCode(C.charCodeAt(0)+128)),o=!1):s.append(C)}else throw new H;break;case 1:o?(s.append(String.fromCharCode(E+128)),o=!1):s.append(String.fromCharCode(E)),h=0;break;case 2:if(E<this.C40_SHIFT2_SET_CHARS.length){const C=this.C40_SHIFT2_SET_CHARS[E];o?(s.append(String.fromCharCode(C.charCodeAt(0)+128)),o=!1):s.append(C)}else switch(E){case 27:s.append("");break;case 30:o=!0;break;default:throw new H}h=0;break;case 3:o?(s.append(String.fromCharCode(E+224)),o=!1):s.append(String.fromCharCode(E+96)),h=0;break;default:throw new H}}}while(e.available()>0)}static decodeTextSegment(e,s){let o=!1,u=[],h=0;do{if(e.available()===8)return;const f=e.readBits(8);if(f===254)return;this.parseTwoBytes(f,e.readBits(8),u);for(let x=0;x<3;x++){const E=u[x];switch(h){case 0:if(E<3)h=E+1;else if(E<this.TEXT_BASIC_SET_CHARS.length){const C=this.TEXT_BASIC_SET_CHARS[E];o?(s.append(String.fromCharCode(C.charCodeAt(0)+128)),o=!1):s.append(C)}else throw new H;break;case 1:o?(s.append(String.fromCharCode(E+128)),o=!1):s.append(String.fromCharCode(E)),h=0;break;case 2:if(E<this.TEXT_SHIFT2_SET_CHARS.length){const C=this.TEXT_SHIFT2_SET_CHARS[E];o?(s.append(String.fromCharCode(C.charCodeAt(0)+128)),o=!1):s.append(C)}else switch(E){case 27:s.append("");break;case 30:o=!0;break;default:throw new H}h=0;break;case 3:if(E<this.TEXT_SHIFT3_SET_CHARS.length){const C=this.TEXT_SHIFT3_SET_CHARS[E];o?(s.append(String.fromCharCode(C.charCodeAt(0)+128)),o=!1):s.append(C),h=0}else throw new H;break;default:throw new H}}}while(e.available()>0)}static decodeAnsiX12Segment(e,s){const o=[];do{if(e.available()===8)return;const u=e.readBits(8);if(u===254)return;this.parseTwoBytes(u,e.readBits(8),o);for(let h=0;h<3;h++){const f=o[h];switch(f){case 0:s.append("\r");break;case 1:s.append("*");break;case 2:s.append(">");break;case 3:s.append(" ");break;default:if(f<14)s.append(String.fromCharCode(f+44));else if(f<40)s.append(String.fromCharCode(f+51));else throw new H;break}}}while(e.available()>0)}static parseTwoBytes(e,s,o){let u=(e<<8)+s-1,h=Math.floor(u/1600);o[0]=h,u-=h*1600,h=Math.floor(u/40),o[1]=h,o[2]=u-h*40}static decodeEdifactSegment(e,s){do{if(e.available()<=16)return;for(let o=0;o<4;o++){let u=e.readBits(6);if(u===31){const h=8-e.getBitOffset();h!==8&&e.readBits(h);return}(u&32)===0&&(u|=64),s.append(String.fromCharCode(u))}}while(e.available()>0)}static decodeBase256Segment(e,s,o){let u=1+e.getByteOffset();const h=this.unrandomize255State(e.readBits(8),u++);let f;if(h===0?f=e.available()/8|0:h<250?f=h:f=250*(h-249)+this.unrandomize255State(e.readBits(8),u++),f<0)throw new H;const x=new Uint8Array(f);for(let E=0;E<f;E++){if(e.available()<8)throw new H;x[E]=this.unrandomize255State(e.readBits(8),u++)}o.push(x);try{s.append(Ee.decode(x,ce.ISO88591))}catch(E){throw new De("Platform does not support required encoding: "+E.message)}}static unrandomize255State(e,s){const o=149*s%255+1,u=e-o;return u>=0?u:u+256}}_r.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],_r.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],_r.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],_r.TEXT_SHIFT2_SET_CHARS=_r.C40_SHIFT2_SET_CHARS,_r.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Fo{constructor(){this.rsDecoder=new Be(ot.DATA_MATRIX_FIELD_256)}decode(e){const s=new cr(e),o=s.getVersion(),u=s.readCodewords(),h=Ja.getDataBlocks(u,o);let f=0;for(let C of h)f+=C.getNumDataCodewords();const x=new Uint8Array(f),E=h.length;for(let C=0;C<E;C++){const I=h[C],D=I.getCodewords(),B=I.getNumDataCodewords();this.correctErrors(D,B);for(let G=0;G<B;G++)x[G*E+C]=D[G]}return _r.decode(x)}correctErrors(e,s){const o=new Int32Array(e);try{this.rsDecoder.decode(o,e.length-s)}catch{throw new R}for(let u=0;u<s;u++)e[u]=o[u]}}class Gt{constructor(e){this.image=e,this.rectangleDetector=new Zn(this.image)}detect(){const e=this.rectangleDetector.detect();let s=this.detectSolid1(e);if(s=this.detectSolid2(s),s[3]=this.correctTopRight(s),!s[3])throw new ie;s=this.shiftToModuleCenter(s);const o=s[0],u=s[1],h=s[2],f=s[3];let x=this.transitionsBetween(o,f)+1,E=this.transitionsBetween(h,f)+1;(x&1)===1&&(x+=1),(E&1)===1&&(E+=1),4*x<7*E&&4*E<7*x&&(x=E=Math.max(x,E));let C=Gt.sampleGrid(this.image,o,u,h,f,x,E);return new fr(C,[o,u,h,f])}static shiftPoint(e,s,o){let u=(s.getX()-e.getX())/(o+1),h=(s.getY()-e.getY())/(o+1);return new Le(e.getX()+u,e.getY()+h)}static moveAway(e,s,o){let u=e.getX(),h=e.getY();return u<s?u-=1:u+=1,h<o?h-=1:h+=1,new Le(u,h)}detectSolid1(e){let s=e[0],o=e[1],u=e[3],h=e[2],f=this.transitionsBetween(s,o),x=this.transitionsBetween(o,u),E=this.transitionsBetween(u,h),C=this.transitionsBetween(h,s),I=f,D=[h,s,o,u];return I>x&&(I=x,D[0]=s,D[1]=o,D[2]=u,D[3]=h),I>E&&(I=E,D[0]=o,D[1]=u,D[2]=h,D[3]=s),I>C&&(D[0]=u,D[1]=h,D[2]=s,D[3]=o),D}detectSolid2(e){let s=e[0],o=e[1],u=e[2],h=e[3],f=this.transitionsBetween(s,h),x=Gt.shiftPoint(o,u,(f+1)*4),E=Gt.shiftPoint(u,o,(f+1)*4),C=this.transitionsBetween(x,s),I=this.transitionsBetween(E,h);return C<I?(e[0]=s,e[1]=o,e[2]=u,e[3]=h):(e[0]=o,e[1]=u,e[2]=h,e[3]=s),e}correctTopRight(e){let s=e[0],o=e[1],u=e[2],h=e[3],f=this.transitionsBetween(s,h),x=this.transitionsBetween(o,h),E=Gt.shiftPoint(s,o,(x+1)*4),C=Gt.shiftPoint(u,o,(f+1)*4);f=this.transitionsBetween(E,h),x=this.transitionsBetween(C,h);let I=new Le(h.getX()+(u.getX()-o.getX())/(f+1),h.getY()+(u.getY()-o.getY())/(f+1)),D=new Le(h.getX()+(s.getX()-o.getX())/(x+1),h.getY()+(s.getY()-o.getY())/(x+1));if(!this.isValid(I))return this.isValid(D)?D:null;if(!this.isValid(D))return I;let B=this.transitionsBetween(E,I)+this.transitionsBetween(C,I),G=this.transitionsBetween(E,D)+this.transitionsBetween(C,D);return B>G?I:D}shiftToModuleCenter(e){let s=e[0],o=e[1],u=e[2],h=e[3],f=this.transitionsBetween(s,h)+1,x=this.transitionsBetween(u,h)+1,E=Gt.shiftPoint(s,o,x*4),C=Gt.shiftPoint(u,o,f*4);f=this.transitionsBetween(E,h)+1,x=this.transitionsBetween(C,h)+1,(f&1)===1&&(f+=1),(x&1)===1&&(x+=1);let I=(s.getX()+o.getX()+u.getX()+h.getX())/4,D=(s.getY()+o.getY()+u.getY()+h.getY())/4;s=Gt.moveAway(s,I,D),o=Gt.moveAway(o,I,D),u=Gt.moveAway(u,I,D),h=Gt.moveAway(h,I,D);let B,G;return E=Gt.shiftPoint(s,o,x*4),E=Gt.shiftPoint(E,h,f*4),B=Gt.shiftPoint(o,s,x*4),B=Gt.shiftPoint(B,u,f*4),C=Gt.shiftPoint(u,h,x*4),C=Gt.shiftPoint(C,o,f*4),G=Gt.shiftPoint(h,u,x*4),G=Gt.shiftPoint(G,s,f*4),[E,B,C,G]}isValid(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()}static sampleGrid(e,s,o,u,h,f,x){return Ct.getInstance().sampleGrid(e,f,x,.5,.5,f-.5,.5,f-.5,x-.5,.5,x-.5,s.getX(),s.getY(),h.getX(),h.getY(),u.getX(),u.getY(),o.getX(),o.getY())}transitionsBetween(e,s){let o=Math.trunc(e.getX()),u=Math.trunc(e.getY()),h=Math.trunc(s.getX()),f=Math.trunc(s.getY()),x=Math.abs(f-u)>Math.abs(h-o);if(x){let te=o;o=u,u=te,te=h,h=f,f=te}let E=Math.abs(h-o),C=Math.abs(f-u),I=-E/2,D=u<f?1:-1,B=o<h?1:-1,G=0,Q=this.image.get(x?u:o,x?o:u);for(let te=o,ae=u;te!==h;te+=B){let me=this.image.get(x?ae:te,x?te:ae);if(me!==Q&&(G++,Q=me),I+=C,I>0){if(ae===f)break;ae+=D,I-=E}}return G}}class Nr{constructor(){this.decoder=new Fo}decode(e,s=null){let o,u;if(s!=null&&s.has(Z.PURE_BARCODE)){const C=Nr.extractPureBits(e.getBlackMatrix());o=this.decoder.decode(C),u=Nr.NO_POINTS}else{const C=new Gt(e.getBlackMatrix()).detect();o=this.decoder.decode(C.getBits()),u=C.getPoints()}const h=o.getRawBytes(),f=new ke(o.getText(),h,8*h.length,u,be.DATA_MATRIX,k.currentTimeMillis()),x=o.getByteSegments();x!=null&&f.putMetadata(Te.BYTE_SEGMENTS,x);const E=o.getECLevel();return E!=null&&f.putMetadata(Te.ERROR_CORRECTION_LEVEL,E),f}reset(){}static extractPureBits(e){const s=e.getTopLeftOnBit(),o=e.getBottomRightOnBit();if(s==null||o==null)throw new ie;const u=this.moduleSize(s,e);let h=s[1];const f=o[1];let x=s[0];const C=(o[0]-x+1)/u,I=(f-h+1)/u;if(C<=0||I<=0)throw new ie;const D=u/2;h+=D,x+=D;const B=new Ce(C,I);for(let G=0;G<I;G++){const Q=h+G*u;for(let te=0;te<C;te++)e.get(x+te*u,Q)&&B.set(te,G)}return B}static moduleSize(e,s){const o=s.getWidth();let u=e[0];const h=e[1];for(;u<o&&s.get(u,h);)u++;if(u===o)throw new ie;const f=u-e[0];if(f===0)throw new ie;return f}}Nr.NO_POINTS=[];class Ed extends Ae{constructor(e=500){super(new Nr,e)}}var cs;(function(P){P[P.L=0]="L",P[P.M=1]="M",P[P.Q=2]="Q",P[P.H=3]="H"})(cs||(cs={}));class Vt{constructor(e,s,o){this.value=e,this.stringValue=s,this.bits=o,Vt.FOR_BITS.set(o,this),Vt.FOR_VALUE.set(e,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(e){switch(e){case"L":return Vt.L;case"M":return Vt.M;case"Q":return Vt.Q;case"H":return Vt.H;default:throw new A(e+"not available")}}toString(){return this.stringValue}equals(e){if(!(e instanceof Vt))return!1;const s=e;return this.value===s.value}static forBits(e){if(e<0||e>=Vt.FOR_BITS.size)throw new _;return Vt.FOR_BITS.get(e)}}Vt.FOR_BITS=new Map,Vt.FOR_VALUE=new Map,Vt.L=new Vt(cs.L,"L",1),Vt.M=new Vt(cs.M,"M",0),Vt.Q=new Vt(cs.Q,"Q",3),Vt.H=new Vt(cs.H,"H",2);class Tn{constructor(e){this.errorCorrectionLevel=Vt.forBits(e>>3&3),this.dataMask=e&7}static numBitsDiffering(e,s){return F.bitCount(e^s)}static decodeFormatInformation(e,s){const o=Tn.doDecodeFormatInformation(e,s);return o!==null?o:Tn.doDecodeFormatInformation(e^Tn.FORMAT_INFO_MASK_QR,s^Tn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(e,s){let o=Number.MAX_SAFE_INTEGER,u=0;for(const h of Tn.FORMAT_INFO_DECODE_LOOKUP){const f=h[0];if(f===e||f===s)return new Tn(h[1]);let x=Tn.numBitsDiffering(e,f);x<o&&(u=h[1],o=x),e!==s&&(x=Tn.numBitsDiffering(s,f),x<o&&(u=h[1],o=x))}return o<=3?new Tn(u):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(e){if(!(e instanceof Tn))return!1;const s=e;return this.errorCorrectionLevel===s.errorCorrectionLevel&&this.dataMask===s.dataMask}}Tn.FORMAT_INFO_MASK_QR=21522,Tn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class ue{constructor(e,...s){this.ecCodewordsPerBlock=e,this.ecBlocks=s}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let e=0;const s=this.ecBlocks;for(const o of s)e+=o.getCount();return e}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class W{constructor(e,s){this.count=e,this.dataCodewords=s}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class et{constructor(e,s,...o){this.versionNumber=e,this.alignmentPatternCenters=s,this.ecBlocks=o;let u=0;const h=o[0].getECCodewordsPerBlock(),f=o[0].getECBlocks();for(const x of f)u+=x.getCount()*(x.getDataCodewords()+h);this.totalCodewords=u}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(e){return this.ecBlocks[e.getValue()]}static getProvisionalVersionForDimension(e){if(e%4!==1)throw new H;try{return this.getVersionForNumber((e-17)/4)}catch{throw new H}}static getVersionForNumber(e){if(e<1||e>40)throw new _;return et.VERSIONS[e-1]}static decodeVersionInformation(e){let s=Number.MAX_SAFE_INTEGER,o=0;for(let u=0;u<et.VERSION_DECODE_INFO.length;u++){const h=et.VERSION_DECODE_INFO[u];if(h===e)return et.getVersionForNumber(u+7);const f=Tn.numBitsDiffering(e,h);f<s&&(o=u+7,s=f)}return s<=3?et.getVersionForNumber(o):null}buildFunctionPattern(){const e=this.getDimensionForVersion(),s=new Ce(e);s.setRegion(0,0,9,9),s.setRegion(e-8,0,8,9),s.setRegion(0,e-8,9,8);const o=this.alignmentPatternCenters.length;for(let u=0;u<o;u++){const h=this.alignmentPatternCenters[u]-2;for(let f=0;f<o;f++)u===0&&(f===0||f===o-1)||u===o-1&&f===0||s.setRegion(this.alignmentPatternCenters[f]-2,h,5,5)}return s.setRegion(6,9,1,e-17),s.setRegion(9,6,e-17,1),this.versionNumber>6&&(s.setRegion(e-11,0,3,6),s.setRegion(0,e-11,6,3)),s}toString(){return""+this.versionNumber}}et.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),et.VERSIONS=[new et(1,new Int32Array(0),new ue(7,new W(1,19)),new ue(10,new W(1,16)),new ue(13,new W(1,13)),new ue(17,new W(1,9))),new et(2,Int32Array.from([6,18]),new ue(10,new W(1,34)),new ue(16,new W(1,28)),new ue(22,new W(1,22)),new ue(28,new W(1,16))),new et(3,Int32Array.from([6,22]),new ue(15,new W(1,55)),new ue(26,new W(1,44)),new ue(18,new W(2,17)),new ue(22,new W(2,13))),new et(4,Int32Array.from([6,26]),new ue(20,new W(1,80)),new ue(18,new W(2,32)),new ue(26,new W(2,24)),new ue(16,new W(4,9))),new et(5,Int32Array.from([6,30]),new ue(26,new W(1,108)),new ue(24,new W(2,43)),new ue(18,new W(2,15),new W(2,16)),new ue(22,new W(2,11),new W(2,12))),new et(6,Int32Array.from([6,34]),new ue(18,new W(2,68)),new ue(16,new W(4,27)),new ue(24,new W(4,19)),new ue(28,new W(4,15))),new et(7,Int32Array.from([6,22,38]),new ue(20,new W(2,78)),new ue(18,new W(4,31)),new ue(18,new W(2,14),new W(4,15)),new ue(26,new W(4,13),new W(1,14))),new et(8,Int32Array.from([6,24,42]),new ue(24,new W(2,97)),new ue(22,new W(2,38),new W(2,39)),new ue(22,new W(4,18),new W(2,19)),new ue(26,new W(4,14),new W(2,15))),new et(9,Int32Array.from([6,26,46]),new ue(30,new W(2,116)),new ue(22,new W(3,36),new W(2,37)),new ue(20,new W(4,16),new W(4,17)),new ue(24,new W(4,12),new W(4,13))),new et(10,Int32Array.from([6,28,50]),new ue(18,new W(2,68),new W(2,69)),new ue(26,new W(4,43),new W(1,44)),new ue(24,new W(6,19),new W(2,20)),new ue(28,new W(6,15),new W(2,16))),new et(11,Int32Array.from([6,30,54]),new ue(20,new W(4,81)),new ue(30,new W(1,50),new W(4,51)),new ue(28,new W(4,22),new W(4,23)),new ue(24,new W(3,12),new W(8,13))),new et(12,Int32Array.from([6,32,58]),new ue(24,new W(2,92),new W(2,93)),new ue(22,new W(6,36),new W(2,37)),new ue(26,new W(4,20),new W(6,21)),new ue(28,new W(7,14),new W(4,15))),new et(13,Int32Array.from([6,34,62]),new ue(26,new W(4,107)),new ue(22,new W(8,37),new W(1,38)),new ue(24,new W(8,20),new W(4,21)),new ue(22,new W(12,11),new W(4,12))),new et(14,Int32Array.from([6,26,46,66]),new ue(30,new W(3,115),new W(1,116)),new ue(24,new W(4,40),new W(5,41)),new ue(20,new W(11,16),new W(5,17)),new ue(24,new W(11,12),new W(5,13))),new et(15,Int32Array.from([6,26,48,70]),new ue(22,new W(5,87),new W(1,88)),new ue(24,new W(5,41),new W(5,42)),new ue(30,new W(5,24),new W(7,25)),new ue(24,new W(11,12),new W(7,13))),new et(16,Int32Array.from([6,26,50,74]),new ue(24,new W(5,98),new W(1,99)),new ue(28,new W(7,45),new W(3,46)),new ue(24,new W(15,19),new W(2,20)),new ue(30,new W(3,15),new W(13,16))),new et(17,Int32Array.from([6,30,54,78]),new ue(28,new W(1,107),new W(5,108)),new ue(28,new W(10,46),new W(1,47)),new ue(28,new W(1,22),new W(15,23)),new ue(28,new W(2,14),new W(17,15))),new et(18,Int32Array.from([6,30,56,82]),new ue(30,new W(5,120),new W(1,121)),new ue(26,new W(9,43),new W(4,44)),new ue(28,new W(17,22),new W(1,23)),new ue(28,new W(2,14),new W(19,15))),new et(19,Int32Array.from([6,30,58,86]),new ue(28,new W(3,113),new W(4,114)),new ue(26,new W(3,44),new W(11,45)),new ue(26,new W(17,21),new W(4,22)),new ue(26,new W(9,13),new W(16,14))),new et(20,Int32Array.from([6,34,62,90]),new ue(28,new W(3,107),new W(5,108)),new ue(26,new W(3,41),new W(13,42)),new ue(30,new W(15,24),new W(5,25)),new ue(28,new W(15,15),new W(10,16))),new et(21,Int32Array.from([6,28,50,72,94]),new ue(28,new W(4,116),new W(4,117)),new ue(26,new W(17,42)),new ue(28,new W(17,22),new W(6,23)),new ue(30,new W(19,16),new W(6,17))),new et(22,Int32Array.from([6,26,50,74,98]),new ue(28,new W(2,111),new W(7,112)),new ue(28,new W(17,46)),new ue(30,new W(7,24),new W(16,25)),new ue(24,new W(34,13))),new et(23,Int32Array.from([6,30,54,78,102]),new ue(30,new W(4,121),new W(5,122)),new ue(28,new W(4,47),new W(14,48)),new ue(30,new W(11,24),new W(14,25)),new ue(30,new W(16,15),new W(14,16))),new et(24,Int32Array.from([6,28,54,80,106]),new ue(30,new W(6,117),new W(4,118)),new ue(28,new W(6,45),new W(14,46)),new ue(30,new W(11,24),new W(16,25)),new ue(30,new W(30,16),new W(2,17))),new et(25,Int32Array.from([6,32,58,84,110]),new ue(26,new W(8,106),new W(4,107)),new ue(28,new W(8,47),new W(13,48)),new ue(30,new W(7,24),new W(22,25)),new ue(30,new W(22,15),new W(13,16))),new et(26,Int32Array.from([6,30,58,86,114]),new ue(28,new W(10,114),new W(2,115)),new ue(28,new W(19,46),new W(4,47)),new ue(28,new W(28,22),new W(6,23)),new ue(30,new W(33,16),new W(4,17))),new et(27,Int32Array.from([6,34,62,90,118]),new ue(30,new W(8,122),new W(4,123)),new ue(28,new W(22,45),new W(3,46)),new ue(30,new W(8,23),new W(26,24)),new ue(30,new W(12,15),new W(28,16))),new et(28,Int32Array.from([6,26,50,74,98,122]),new ue(30,new W(3,117),new W(10,118)),new ue(28,new W(3,45),new W(23,46)),new ue(30,new W(4,24),new W(31,25)),new ue(30,new W(11,15),new W(31,16))),new et(29,Int32Array.from([6,30,54,78,102,126]),new ue(30,new W(7,116),new W(7,117)),new ue(28,new W(21,45),new W(7,46)),new ue(30,new W(1,23),new W(37,24)),new ue(30,new W(19,15),new W(26,16))),new et(30,Int32Array.from([6,26,52,78,104,130]),new ue(30,new W(5,115),new W(10,116)),new ue(28,new W(19,47),new W(10,48)),new ue(30,new W(15,24),new W(25,25)),new ue(30,new W(23,15),new W(25,16))),new et(31,Int32Array.from([6,30,56,82,108,134]),new ue(30,new W(13,115),new W(3,116)),new ue(28,new W(2,46),new W(29,47)),new ue(30,new W(42,24),new W(1,25)),new ue(30,new W(23,15),new W(28,16))),new et(32,Int32Array.from([6,34,60,86,112,138]),new ue(30,new W(17,115)),new ue(28,new W(10,46),new W(23,47)),new ue(30,new W(10,24),new W(35,25)),new ue(30,new W(19,15),new W(35,16))),new et(33,Int32Array.from([6,30,58,86,114,142]),new ue(30,new W(17,115),new W(1,116)),new ue(28,new W(14,46),new W(21,47)),new ue(30,new W(29,24),new W(19,25)),new ue(30,new W(11,15),new W(46,16))),new et(34,Int32Array.from([6,34,62,90,118,146]),new ue(30,new W(13,115),new W(6,116)),new ue(28,new W(14,46),new W(23,47)),new ue(30,new W(44,24),new W(7,25)),new ue(30,new W(59,16),new W(1,17))),new et(35,Int32Array.from([6,30,54,78,102,126,150]),new ue(30,new W(12,121),new W(7,122)),new ue(28,new W(12,47),new W(26,48)),new ue(30,new W(39,24),new W(14,25)),new ue(30,new W(22,15),new W(41,16))),new et(36,Int32Array.from([6,24,50,76,102,128,154]),new ue(30,new W(6,121),new W(14,122)),new ue(28,new W(6,47),new W(34,48)),new ue(30,new W(46,24),new W(10,25)),new ue(30,new W(2,15),new W(64,16))),new et(37,Int32Array.from([6,28,54,80,106,132,158]),new ue(30,new W(17,122),new W(4,123)),new ue(28,new W(29,46),new W(14,47)),new ue(30,new W(49,24),new W(10,25)),new ue(30,new W(24,15),new W(46,16))),new et(38,Int32Array.from([6,32,58,84,110,136,162]),new ue(30,new W(4,122),new W(18,123)),new ue(28,new W(13,46),new W(32,47)),new ue(30,new W(48,24),new W(14,25)),new ue(30,new W(42,15),new W(32,16))),new et(39,Int32Array.from([6,26,54,82,110,138,166]),new ue(30,new W(20,117),new W(4,118)),new ue(28,new W(40,47),new W(7,48)),new ue(30,new W(43,24),new W(22,25)),new ue(30,new W(10,15),new W(67,16))),new et(40,Int32Array.from([6,30,58,86,114,142,170]),new ue(30,new W(19,118),new W(6,119)),new ue(28,new W(18,47),new W(31,48)),new ue(30,new W(34,24),new W(34,25)),new ue(30,new W(20,15),new W(61,16)))];var gn;(function(P){P[P.DATA_MASK_000=0]="DATA_MASK_000",P[P.DATA_MASK_001=1]="DATA_MASK_001",P[P.DATA_MASK_010=2]="DATA_MASK_010",P[P.DATA_MASK_011=3]="DATA_MASK_011",P[P.DATA_MASK_100=4]="DATA_MASK_100",P[P.DATA_MASK_101=5]="DATA_MASK_101",P[P.DATA_MASK_110=6]="DATA_MASK_110",P[P.DATA_MASK_111=7]="DATA_MASK_111"})(gn||(gn={}));class bt{constructor(e,s){this.value=e,this.isMasked=s}unmaskBitMatrix(e,s){for(let o=0;o<s;o++)for(let u=0;u<s;u++)this.isMasked(o,u)&&e.flip(u,o)}}bt.values=new Map([[gn.DATA_MASK_000,new bt(gn.DATA_MASK_000,(P,e)=>(P+e&1)===0)],[gn.DATA_MASK_001,new bt(gn.DATA_MASK_001,(P,e)=>(P&1)===0)],[gn.DATA_MASK_010,new bt(gn.DATA_MASK_010,(P,e)=>e%3===0)],[gn.DATA_MASK_011,new bt(gn.DATA_MASK_011,(P,e)=>(P+e)%3===0)],[gn.DATA_MASK_100,new bt(gn.DATA_MASK_100,(P,e)=>(Math.floor(P/2)+Math.floor(e/3)&1)===0)],[gn.DATA_MASK_101,new bt(gn.DATA_MASK_101,(P,e)=>P*e%6===0)],[gn.DATA_MASK_110,new bt(gn.DATA_MASK_110,(P,e)=>P*e%6<3)],[gn.DATA_MASK_111,new bt(gn.DATA_MASK_111,(P,e)=>(P+e+P*e%3&1)===0)]]);class ac{constructor(e){const s=e.getHeight();if(s<21||(s&3)!==1)throw new H;this.bitMatrix=e}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let e=0;for(let h=0;h<6;h++)e=this.copyBit(h,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(let h=5;h>=0;h--)e=this.copyBit(8,h,e);const s=this.bitMatrix.getHeight();let o=0;const u=s-7;for(let h=s-1;h>=u;h--)o=this.copyBit(8,h,o);for(let h=s-8;h<s;h++)o=this.copyBit(h,8,o);if(this.parsedFormatInfo=Tn.decodeFormatInformation(e,o),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new H}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const e=this.bitMatrix.getHeight(),s=Math.floor((e-17)/4);if(s<=6)return et.getVersionForNumber(s);let o=0;const u=e-11;for(let f=5;f>=0;f--)for(let x=e-9;x>=u;x--)o=this.copyBit(x,f,o);let h=et.decodeVersionInformation(o);if(h!==null&&h.getDimensionForVersion()===e)return this.parsedVersion=h,h;o=0;for(let f=5;f>=0;f--)for(let x=e-9;x>=u;x--)o=this.copyBit(f,x,o);if(h=et.decodeVersionInformation(o),h!==null&&h.getDimensionForVersion()===e)return this.parsedVersion=h,h;throw new H}copyBit(e,s,o){return(this.isMirror?this.bitMatrix.get(s,e):this.bitMatrix.get(e,s))?o<<1|1:o<<1}readCodewords(){const e=this.readFormatInformation(),s=this.readVersion(),o=bt.values.get(e.getDataMask()),u=this.bitMatrix.getHeight();o.unmaskBitMatrix(this.bitMatrix,u);const h=s.buildFunctionPattern();let f=!0;const x=new Uint8Array(s.getTotalCodewords());let E=0,C=0,I=0;for(let D=u-1;D>0;D-=2){D===6&&D--;for(let B=0;B<u;B++){const G=f?u-1-B:B;for(let Q=0;Q<2;Q++)h.get(D-Q,G)||(I++,C<<=1,this.bitMatrix.get(D-Q,G)&&(C|=1),I===8&&(x[E++]=C,I=0,C=0))}f=!f}if(E!==s.getTotalCodewords())throw new H;return x}remask(){if(this.parsedFormatInfo===null)return;const e=bt.values[this.parsedFormatInfo.getDataMask()],s=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,s)}setMirror(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e}mirror(){const e=this.bitMatrix;for(let s=0,o=e.getWidth();s<o;s++)for(let u=s+1,h=e.getHeight();u<h;u++)e.get(s,u)!==e.get(u,s)&&(e.flip(u,s),e.flip(s,u))}}class Uo{constructor(e,s){this.numDataCodewords=e,this.codewords=s}static getDataBlocks(e,s,o){if(e.length!==s.getTotalCodewords())throw new _;const u=s.getECBlocksForLevel(o);let h=0;const f=u.getECBlocks();for(const Q of f)h+=Q.getCount();const x=new Array(h);let E=0;for(const Q of f)for(let te=0;te<Q.getCount();te++){const ae=Q.getDataCodewords(),me=u.getECCodewordsPerBlock()+ae;x[E++]=new Uo(ae,new Uint8Array(me))}const C=x[0].codewords.length;let I=x.length-1;for(;I>=0&&x[I].codewords.length!==C;)I--;I++;const D=C-u.getECCodewordsPerBlock();let B=0;for(let Q=0;Q<D;Q++)for(let te=0;te<E;te++)x[te].codewords[Q]=e[B++];for(let Q=I;Q<E;Q++)x[Q].codewords[D]=e[B++];const G=x[0].codewords.length;for(let Q=D;Q<G;Q++)for(let te=0;te<E;te++){const ae=te<I?Q:Q+1;x[te].codewords[ae]=e[B++]}return x}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var tr;(function(P){P[P.TERMINATOR=0]="TERMINATOR",P[P.NUMERIC=1]="NUMERIC",P[P.ALPHANUMERIC=2]="ALPHANUMERIC",P[P.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",P[P.BYTE=4]="BYTE",P[P.ECI=5]="ECI",P[P.KANJI=6]="KANJI",P[P.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",P[P.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",P[P.HANZI=9]="HANZI"})(tr||(tr={}));class nt{constructor(e,s,o,u){this.value=e,this.stringValue=s,this.characterCountBitsForVersions=o,this.bits=u,nt.FOR_BITS.set(u,this),nt.FOR_VALUE.set(e,this)}static forBits(e){const s=nt.FOR_BITS.get(e);if(s===void 0)throw new _;return s}getCharacterCountBits(e){const s=e.getVersionNumber();let o;return s<=9?o=0:s<=26?o=1:o=2,this.characterCountBitsForVersions[o]}getValue(){return this.value}getBits(){return this.bits}equals(e){if(!(e instanceof nt))return!1;const s=e;return this.value===s.value}toString(){return this.stringValue}}nt.FOR_BITS=new Map,nt.FOR_VALUE=new Map,nt.TERMINATOR=new nt(tr.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),nt.NUMERIC=new nt(tr.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),nt.ALPHANUMERIC=new nt(tr.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),nt.STRUCTURED_APPEND=new nt(tr.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),nt.BYTE=new nt(tr.BYTE,"BYTE",Int32Array.from([8,16,16]),4),nt.ECI=new nt(tr.ECI,"ECI",Int32Array.from([0,0,0]),7),nt.KANJI=new nt(tr.KANJI,"KANJI",Int32Array.from([8,10,12]),8),nt.FNC1_FIRST_POSITION=new nt(tr.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),nt.FNC1_SECOND_POSITION=new nt(tr.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),nt.HANZI=new nt(tr.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Yt{static decode(e,s,o,u){const h=new el(e);let f=new ve;const x=new Array;let E=-1,C=-1;try{let I=null,D=!1,B;do{if(h.available()<4)B=nt.TERMINATOR;else{const G=h.readBits(4);B=nt.forBits(G)}switch(B){case nt.TERMINATOR:break;case nt.FNC1_FIRST_POSITION:case nt.FNC1_SECOND_POSITION:D=!0;break;case nt.STRUCTURED_APPEND:if(h.available()<16)throw new H;E=h.readBits(8),C=h.readBits(8);break;case nt.ECI:const G=Yt.parseECIValue(h);if(I=V.getCharacterSetECIByValue(G),I===null)throw new H;break;case nt.HANZI:const Q=h.readBits(4),te=h.readBits(B.getCharacterCountBits(s));Q===Yt.GB2312_SUBSET&&Yt.decodeHanziSegment(h,f,te);break;default:const ae=h.readBits(B.getCharacterCountBits(s));switch(B){case nt.NUMERIC:Yt.decodeNumericSegment(h,f,ae);break;case nt.ALPHANUMERIC:Yt.decodeAlphanumericSegment(h,f,ae,D);break;case nt.BYTE:Yt.decodeByteSegment(h,f,ae,I,x,u);break;case nt.KANJI:Yt.decodeKanjiSegment(h,f,ae);break;default:throw new H}break}}while(B!==nt.TERMINATOR)}catch{throw new H}return new We(e,f.toString(),x.length===0?null:x,o===null?null:o.toString(),E,C)}static decodeHanziSegment(e,s,o){if(o*13>e.available())throw new H;const u=new Uint8Array(2*o);let h=0;for(;o>0;){const f=e.readBits(13);let x=f/96<<8&4294967295|f%96;x<959?x+=41377:x+=42657,u[h]=x>>8&255,u[h+1]=x&255,h+=2,o--}try{s.append(Ee.decode(u,ce.GB2312))}catch(f){throw new H(f)}}static decodeKanjiSegment(e,s,o){if(o*13>e.available())throw new H;const u=new Uint8Array(2*o);let h=0;for(;o>0;){const f=e.readBits(13);let x=f/192<<8&4294967295|f%192;x<7936?x+=33088:x+=49472,u[h]=x>>8,u[h+1]=x,h+=2,o--}try{s.append(Ee.decode(u,ce.SHIFT_JIS))}catch(f){throw new H(f)}}static decodeByteSegment(e,s,o,u,h,f){if(8*o>e.available())throw new H;const x=new Uint8Array(o);for(let C=0;C<o;C++)x[C]=e.readBits(8);let E;u===null?E=ce.guessEncoding(x,f):E=u.getName();try{s.append(Ee.decode(x,E))}catch(C){throw new H(C)}h.push(x)}static toAlphaNumericChar(e){if(e>=Yt.ALPHANUMERIC_CHARS.length)throw new H;return Yt.ALPHANUMERIC_CHARS[e]}static decodeAlphanumericSegment(e,s,o,u){const h=s.length();for(;o>1;){if(e.available()<11)throw new H;const f=e.readBits(11);s.append(Yt.toAlphaNumericChar(Math.floor(f/45))),s.append(Yt.toAlphaNumericChar(f%45)),o-=2}if(o===1){if(e.available()<6)throw new H;s.append(Yt.toAlphaNumericChar(e.readBits(6)))}if(u)for(let f=h;f<s.length();f++)s.charAt(f)==="%"&&(f<s.length()-1&&s.charAt(f+1)==="%"?s.deleteCharAt(f+1):s.setCharAt(f,""))}static decodeNumericSegment(e,s,o){for(;o>=3;){if(e.available()<10)throw new H;const u=e.readBits(10);if(u>=1e3)throw new H;s.append(Yt.toAlphaNumericChar(Math.floor(u/100))),s.append(Yt.toAlphaNumericChar(Math.floor(u/10)%10)),s.append(Yt.toAlphaNumericChar(u%10)),o-=3}if(o===2){if(e.available()<7)throw new H;const u=e.readBits(7);if(u>=100)throw new H;s.append(Yt.toAlphaNumericChar(Math.floor(u/10))),s.append(Yt.toAlphaNumericChar(u%10))}else if(o===1){if(e.available()<4)throw new H;const u=e.readBits(4);if(u>=10)throw new H;s.append(Yt.toAlphaNumericChar(u))}}static parseECIValue(e){const s=e.readBits(8);if((s&128)===0)return s&127;if((s&192)===128){const o=e.readBits(8);return(s&63)<<8&4294967295|o}if((s&224)===192){const o=e.readBits(16);return(s&31)<<16&4294967295|o}throw new H}}Yt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Yt.GB2312_SUBSET=1;class tl{constructor(e){this.mirrored=e}isMirrored(){return this.mirrored}applyMirroredCorrection(e){if(!this.mirrored||e===null||e.length<3)return;const s=e[0];e[0]=e[2],e[2]=s}}class nl{constructor(){this.rsDecoder=new Be(ot.QR_CODE_FIELD_256)}decodeBooleanArray(e,s){return this.decodeBitMatrix(Ce.parseFromBooleanArray(e),s)}decodeBitMatrix(e,s){const o=new ac(e);let u=null;try{return this.decodeBitMatrixParser(o,s)}catch(h){u=h}try{o.remask(),o.setMirror(!0),o.readVersion(),o.readFormatInformation(),o.mirror();const h=this.decodeBitMatrixParser(o,s);return h.setOther(new tl(!0)),h}catch(h){throw u!==null?u:h}}decodeBitMatrixParser(e,s){const o=e.readVersion(),u=e.readFormatInformation().getErrorCorrectionLevel(),h=e.readCodewords(),f=Uo.getDataBlocks(h,o,u);let x=0;for(const I of f)x+=I.getNumDataCodewords();const E=new Uint8Array(x);let C=0;for(const I of f){const D=I.getCodewords(),B=I.getNumDataCodewords();this.correctErrors(D,B);for(let G=0;G<B;G++)E[C++]=D[G]}return Yt.decode(E,o,u,s)}correctErrors(e,s){const o=new Int32Array(e);try{this.rsDecoder.decode(o,e.length-s)}catch{throw new R}for(let u=0;u<s;u++)e[u]=o[u]}}class us extends Le{constructor(e,s,o){super(e,s),this.estimatedModuleSize=o}aboutEquals(e,s,o){if(Math.abs(s-this.getY())<=e&&Math.abs(o-this.getX())<=e){const u=Math.abs(e-this.estimatedModuleSize);return u<=1||u<=this.estimatedModuleSize}return!1}combineEstimate(e,s,o){const u=(this.getX()+s)/2,h=(this.getY()+e)/2,f=(this.estimatedModuleSize+o)/2;return new us(u,h,f)}}class Ir{constructor(e,s,o,u,h,f,x){this.image=e,this.startX=s,this.startY=o,this.width=u,this.height=h,this.moduleSize=f,this.resultPointCallback=x,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const e=this.startX,s=this.height,o=this.width,u=e+o,h=this.startY+s/2,f=new Int32Array(3),x=this.image;for(let E=0;E<s;E++){const C=h+((E&1)===0?Math.floor((E+1)/2):-Math.floor((E+1)/2));f[0]=0,f[1]=0,f[2]=0;let I=e;for(;I<u&&!x.get(I,C);)I++;let D=0;for(;I<u;){if(x.get(I,C))if(D===1)f[1]++;else if(D===2){if(this.foundPatternCross(f)){const B=this.handlePossibleCenter(f,C,I);if(B!==null)return B}f[0]=f[2],f[1]=1,f[2]=0,D=1}else f[++D]++;else D===1&&D++,f[D]++;I++}if(this.foundPatternCross(f)){const B=this.handlePossibleCenter(f,C,u);if(B!==null)return B}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new ie}static centerFromEnd(e,s){return s-e[2]-e[1]/2}foundPatternCross(e){const s=this.moduleSize,o=s/2;for(let u=0;u<3;u++)if(Math.abs(s-e[u])>=o)return!1;return!0}crossCheckVertical(e,s,o,u){const h=this.image,f=h.getHeight(),x=this.crossCheckStateCount;x[0]=0,x[1]=0,x[2]=0;let E=e;for(;E>=0&&h.get(s,E)&&x[1]<=o;)x[1]++,E--;if(E<0||x[1]>o)return NaN;for(;E>=0&&!h.get(s,E)&&x[0]<=o;)x[0]++,E--;if(x[0]>o)return NaN;for(E=e+1;E<f&&h.get(s,E)&&x[1]<=o;)x[1]++,E++;if(E===f||x[1]>o)return NaN;for(;E<f&&!h.get(s,E)&&x[2]<=o;)x[2]++,E++;if(x[2]>o)return NaN;const C=x[0]+x[1]+x[2];return 5*Math.abs(C-u)>=2*u?NaN:this.foundPatternCross(x)?Ir.centerFromEnd(x,E):NaN}handlePossibleCenter(e,s,o){const u=e[0]+e[1]+e[2],h=Ir.centerFromEnd(e,o),f=this.crossCheckVertical(s,h,2*e[1],u);if(!isNaN(f)){const x=(e[0]+e[1]+e[2])/3;for(const C of this.possibleCenters)if(C.aboutEquals(x,f,h))return C.combineEstimate(f,h,x);const E=new us(h,f,x);this.possibleCenters.push(E),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(E)}return null}}class Vr extends Le{constructor(e,s,o,u){super(e,s),this.estimatedModuleSize=o,this.count=u,u===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(e,s,o){if(Math.abs(s-this.getY())<=e&&Math.abs(o-this.getX())<=e){const u=Math.abs(e-this.estimatedModuleSize);return u<=1||u<=this.estimatedModuleSize}return!1}combineEstimate(e,s,o){const u=this.count+1,h=(this.count*this.getX()+s)/u,f=(this.count*this.getY()+e)/u,x=(this.count*this.estimatedModuleSize+o)/u;return new Vr(h,f,x,u)}}class Ci{constructor(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class rn{constructor(e,s){this.image=e,this.resultPointCallback=s,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=s}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(e){const s=e!=null&&e.get(Z.TRY_HARDER)!==void 0,o=e!=null&&e.get(Z.PURE_BARCODE)!==void 0,u=this.image,h=u.getHeight(),f=u.getWidth();let x=Math.floor(3*h/(4*rn.MAX_MODULES));(x<rn.MIN_SKIP||s)&&(x=rn.MIN_SKIP);let E=!1;const C=new Int32Array(5);for(let D=x-1;D<h&&!E;D+=x){C[0]=0,C[1]=0,C[2]=0,C[3]=0,C[4]=0;let B=0;for(let G=0;G<f;G++)if(u.get(G,D))(B&1)===1&&B++,C[B]++;else if((B&1)===0)if(B===4)if(rn.foundPatternCross(C)){if(this.handlePossibleCenter(C,D,G,o)===!0)if(x=2,this.hasSkipped===!0)E=this.haveMultiplyConfirmedCenters();else{const te=this.findRowSkip();te>C[2]&&(D+=te-C[2]-x,G=f-1)}else{C[0]=C[2],C[1]=C[3],C[2]=C[4],C[3]=1,C[4]=0,B=3;continue}B=0,C[0]=0,C[1]=0,C[2]=0,C[3]=0,C[4]=0}else C[0]=C[2],C[1]=C[3],C[2]=C[4],C[3]=1,C[4]=0,B=3;else C[++B]++;else C[B]++;rn.foundPatternCross(C)&&this.handlePossibleCenter(C,D,f,o)===!0&&(x=C[0],this.hasSkipped&&(E=this.haveMultiplyConfirmedCenters()))}const I=this.selectBestPatterns();return Le.orderBestPatterns(I),new Ci(I)}static centerFromEnd(e,s){return s-e[4]-e[3]-e[2]/2}static foundPatternCross(e){let s=0;for(let h=0;h<5;h++){const f=e[h];if(f===0)return!1;s+=f}if(s<7)return!1;const o=s/7,u=o/2;return Math.abs(o-e[0])<u&&Math.abs(o-e[1])<u&&Math.abs(3*o-e[2])<3*u&&Math.abs(o-e[3])<u&&Math.abs(o-e[4])<u}getCrossCheckStateCount(){const e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e}crossCheckDiagonal(e,s,o,u){const h=this.getCrossCheckStateCount();let f=0;const x=this.image;for(;e>=f&&s>=f&&x.get(s-f,e-f);)h[2]++,f++;if(e<f||s<f)return!1;for(;e>=f&&s>=f&&!x.get(s-f,e-f)&&h[1]<=o;)h[1]++,f++;if(e<f||s<f||h[1]>o)return!1;for(;e>=f&&s>=f&&x.get(s-f,e-f)&&h[0]<=o;)h[0]++,f++;if(h[0]>o)return!1;const E=x.getHeight(),C=x.getWidth();for(f=1;e+f<E&&s+f<C&&x.get(s+f,e+f);)h[2]++,f++;if(e+f>=E||s+f>=C)return!1;for(;e+f<E&&s+f<C&&!x.get(s+f,e+f)&&h[3]<o;)h[3]++,f++;if(e+f>=E||s+f>=C||h[3]>=o)return!1;for(;e+f<E&&s+f<C&&x.get(s+f,e+f)&&h[4]<o;)h[4]++,f++;if(h[4]>=o)return!1;const I=h[0]+h[1]+h[2]+h[3]+h[4];return Math.abs(I-u)<2*u&&rn.foundPatternCross(h)}crossCheckVertical(e,s,o,u){const h=this.image,f=h.getHeight(),x=this.getCrossCheckStateCount();let E=e;for(;E>=0&&h.get(s,E);)x[2]++,E--;if(E<0)return NaN;for(;E>=0&&!h.get(s,E)&&x[1]<=o;)x[1]++,E--;if(E<0||x[1]>o)return NaN;for(;E>=0&&h.get(s,E)&&x[0]<=o;)x[0]++,E--;if(x[0]>o)return NaN;for(E=e+1;E<f&&h.get(s,E);)x[2]++,E++;if(E===f)return NaN;for(;E<f&&!h.get(s,E)&&x[3]<o;)x[3]++,E++;if(E===f||x[3]>=o)return NaN;for(;E<f&&h.get(s,E)&&x[4]<o;)x[4]++,E++;if(x[4]>=o)return NaN;const C=x[0]+x[1]+x[2]+x[3]+x[4];return 5*Math.abs(C-u)>=2*u?NaN:rn.foundPatternCross(x)?rn.centerFromEnd(x,E):NaN}crossCheckHorizontal(e,s,o,u){const h=this.image,f=h.getWidth(),x=this.getCrossCheckStateCount();let E=e;for(;E>=0&&h.get(E,s);)x[2]++,E--;if(E<0)return NaN;for(;E>=0&&!h.get(E,s)&&x[1]<=o;)x[1]++,E--;if(E<0||x[1]>o)return NaN;for(;E>=0&&h.get(E,s)&&x[0]<=o;)x[0]++,E--;if(x[0]>o)return NaN;for(E=e+1;E<f&&h.get(E,s);)x[2]++,E++;if(E===f)return NaN;for(;E<f&&!h.get(E,s)&&x[3]<o;)x[3]++,E++;if(E===f||x[3]>=o)return NaN;for(;E<f&&h.get(E,s)&&x[4]<o;)x[4]++,E++;if(x[4]>=o)return NaN;const C=x[0]+x[1]+x[2]+x[3]+x[4];return 5*Math.abs(C-u)>=u?NaN:rn.foundPatternCross(x)?rn.centerFromEnd(x,E):NaN}handlePossibleCenter(e,s,o,u){const h=e[0]+e[1]+e[2]+e[3]+e[4];let f=rn.centerFromEnd(e,o),x=this.crossCheckVertical(s,Math.floor(f),e[2],h);if(!isNaN(x)&&(f=this.crossCheckHorizontal(Math.floor(f),Math.floor(x),e[2],h),!isNaN(f)&&(!u||this.crossCheckDiagonal(Math.floor(x),Math.floor(f),e[2],h)))){const E=h/7;let C=!1;const I=this.possibleCenters;for(let D=0,B=I.length;D<B;D++){const G=I[D];if(G.aboutEquals(E,x,f)){I[D]=G.combineEstimate(x,f,E),C=!0;break}}if(!C){const D=new Vr(f,x,E);I.push(D),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(D)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let s=null;for(const o of this.possibleCenters)if(o.getCount()>=rn.CENTER_QUORUM)if(s==null)s=o;else return this.hasSkipped=!0,Math.floor((Math.abs(s.getX()-o.getX())-Math.abs(s.getY()-o.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let e=0,s=0;const o=this.possibleCenters.length;for(const f of this.possibleCenters)f.getCount()>=rn.CENTER_QUORUM&&(e++,s+=f.getEstimatedModuleSize());if(e<3)return!1;const u=s/o;let h=0;for(const f of this.possibleCenters)h+=Math.abs(f.getEstimatedModuleSize()-u);return h<=.05*s}selectBestPatterns(){const e=this.possibleCenters.length;if(e<3)throw new ie;const s=this.possibleCenters;let o;if(e>3){let u=0,h=0;for(const E of this.possibleCenters){const C=E.getEstimatedModuleSize();u+=C,h+=C*C}o=u/e;let f=Math.sqrt(h/e-o*o);s.sort((E,C)=>{const I=Math.abs(C.getEstimatedModuleSize()-o),D=Math.abs(E.getEstimatedModuleSize()-o);return I<D?-1:I>D?1:0});const x=Math.max(.2*o,f);for(let E=0;E<s.length&&s.length>3;E++){const C=s[E];Math.abs(C.getEstimatedModuleSize()-o)>x&&(s.splice(E,1),E--)}}if(s.length>3){let u=0;for(const h of s)u+=h.getEstimatedModuleSize();o=u/s.length,s.sort((h,f)=>{if(f.getCount()===h.getCount()){const x=Math.abs(f.getEstimatedModuleSize()-o),E=Math.abs(h.getEstimatedModuleSize()-o);return x<E?1:x>E?-1:0}else return f.getCount()-h.getCount()}),s.splice(3)}return[s[0],s[1],s[2]]}}rn.CENTER_QUORUM=2,rn.MIN_SKIP=3,rn.MAX_MODULES=57;class Jr{constructor(e){this.image=e}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(e){this.resultPointCallback=e==null?null:e.get(Z.NEED_RESULT_POINT_CALLBACK);const o=new rn(this.image,this.resultPointCallback).find(e);return this.processFinderPatternInfo(o)}processFinderPatternInfo(e){const s=e.getTopLeft(),o=e.getTopRight(),u=e.getBottomLeft(),h=this.calculateModuleSize(s,o,u);if(h<1)throw new ie("No pattern found in proccess finder.");const f=Jr.computeDimension(s,o,u,h),x=et.getProvisionalVersionForDimension(f),E=x.getDimensionForVersion()-7;let C=null;if(x.getAlignmentPatternCenters().length>0){const G=o.getX()-s.getX()+u.getX(),Q=o.getY()-s.getY()+u.getY(),te=1-3/E,ae=Math.floor(s.getX()+te*(G-s.getX())),me=Math.floor(s.getY()+te*(Q-s.getY()));for(let Oe=4;Oe<=16;Oe<<=1)try{C=this.findAlignmentInRegion(h,ae,me,Oe);break}catch(Pe){if(!(Pe instanceof ie))throw Pe}}const I=Jr.createTransform(s,o,u,C,f),D=Jr.sampleGrid(this.image,I,f);let B;return C===null?B=[u,s,o]:B=[u,s,o,C],new fr(D,B)}static createTransform(e,s,o,u,h){const f=h-3.5;let x,E,C,I;return u!==null?(x=u.getX(),E=u.getY(),C=f-3,I=C):(x=s.getX()-e.getX()+o.getX(),E=s.getY()-e.getY()+o.getY(),C=f,I=f),Ln.quadrilateralToQuadrilateral(3.5,3.5,f,3.5,C,I,3.5,f,e.getX(),e.getY(),s.getX(),s.getY(),x,E,o.getX(),o.getY())}static sampleGrid(e,s,o){return Ct.getInstance().sampleGridWithTransform(e,o,o,s)}static computeDimension(e,s,o,u){const h=tt.round(Le.distance(e,s)/u),f=tt.round(Le.distance(e,o)/u);let x=Math.floor((h+f)/2)+7;switch(x&3){case 0:x++;break;case 2:x--;break;case 3:throw new ie("Dimensions could be not found.")}return x}calculateModuleSize(e,s,o){return(this.calculateModuleSizeOneWay(e,s)+this.calculateModuleSizeOneWay(e,o))/2}calculateModuleSizeOneWay(e,s){const o=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(s.getX()),Math.floor(s.getY())),u=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(s.getX()),Math.floor(s.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(o)?u/7:isNaN(u)?o/7:(o+u)/14}sizeOfBlackWhiteBlackRunBothWays(e,s,o,u){let h=this.sizeOfBlackWhiteBlackRun(e,s,o,u),f=1,x=e-(o-e);x<0?(f=e/(e-x),x=0):x>=this.image.getWidth()&&(f=(this.image.getWidth()-1-e)/(x-e),x=this.image.getWidth()-1);let E=Math.floor(s-(u-s)*f);return f=1,E<0?(f=s/(s-E),E=0):E>=this.image.getHeight()&&(f=(this.image.getHeight()-1-s)/(E-s),E=this.image.getHeight()-1),x=Math.floor(e+(x-e)*f),h+=this.sizeOfBlackWhiteBlackRun(e,s,x,E),h-1}sizeOfBlackWhiteBlackRun(e,s,o,u){const h=Math.abs(u-s)>Math.abs(o-e);if(h){let G=e;e=s,s=G,G=o,o=u,u=G}const f=Math.abs(o-e),x=Math.abs(u-s);let E=-f/2;const C=e<o?1:-1,I=s<u?1:-1;let D=0;const B=o+C;for(let G=e,Q=s;G!==B;G+=C){const te=h?Q:G,ae=h?G:Q;if(D===1===this.image.get(te,ae)){if(D===2)return tt.distance(G,Q,e,s);D++}if(E+=x,E>0){if(Q===u)break;Q+=I,E-=f}}return D===2?tt.distance(o+C,u,e,s):NaN}findAlignmentInRegion(e,s,o,u){const h=Math.floor(u*e),f=Math.max(0,s-h),x=Math.min(this.image.getWidth()-1,s+h);if(x-f<e*3)throw new ie("Alignment top exceeds estimated module size.");const E=Math.max(0,o-h),C=Math.min(this.image.getHeight()-1,o+h);if(C-E<e*3)throw new ie("Alignment bottom exceeds estimated module size.");return new Ir(this.image,f,E,x-f,C-E,e,this.resultPointCallback).find()}}class $n{constructor(){this.decoder=new nl}getDecoder(){return this.decoder}decode(e,s){let o,u;if(s!=null&&s.get(Z.PURE_BARCODE)!==void 0){const E=$n.extractPureBits(e.getBlackMatrix());o=this.decoder.decodeBitMatrix(E,s),u=$n.NO_POINTS}else{const E=new Jr(e.getBlackMatrix()).detect(s);o=this.decoder.decodeBitMatrix(E.getBits(),s),u=E.getPoints()}o.getOther()instanceof tl&&o.getOther().applyMirroredCorrection(u);const h=new ke(o.getText(),o.getRawBytes(),void 0,u,be.QR_CODE,void 0),f=o.getByteSegments();f!==null&&h.putMetadata(Te.BYTE_SEGMENTS,f);const x=o.getECLevel();return x!==null&&h.putMetadata(Te.ERROR_CORRECTION_LEVEL,x),o.hasStructuredAppend()&&(h.putMetadata(Te.STRUCTURED_APPEND_SEQUENCE,o.getStructuredAppendSequenceNumber()),h.putMetadata(Te.STRUCTURED_APPEND_PARITY,o.getStructuredAppendParity())),h}reset(){}static extractPureBits(e){const s=e.getTopLeftOnBit(),o=e.getBottomRightOnBit();if(s===null||o===null)throw new ie;const u=this.moduleSize(s,e);let h=s[1],f=o[1],x=s[0],E=o[0];if(x>=E||h>=f)throw new ie;if(f-h!==E-x&&(E=x+(f-h),E>=e.getWidth()))throw new ie;const C=Math.round((E-x+1)/u),I=Math.round((f-h+1)/u);if(C<=0||I<=0)throw new ie;if(I!==C)throw new ie;const D=Math.floor(u/2);h+=D,x+=D;const B=x+Math.floor((C-1)*u)-E;if(B>0){if(B>D)throw new ie;x-=B}const G=h+Math.floor((I-1)*u)-f;if(G>0){if(G>D)throw new ie;h-=G}const Q=new Ce(C,I);for(let te=0;te<I;te++){const ae=h+Math.floor(te*u);for(let me=0;me<C;me++)e.get(x+Math.floor(me*u),ae)&&Q.set(me,te)}return Q}static moduleSize(e,s){const o=s.getHeight(),u=s.getWidth();let h=e[0],f=e[1],x=!0,E=0;for(;h<u&&f<o;){if(x!==s.get(h,f)){if(++E===5)break;x=!x}h++,f++}if(h===u||f===o)throw new ie;return(h-e[0])/7}}$n.NO_POINTS=new Array;class ut{PDF417Common(){}static getBitCountSum(e){return tt.sum(e)}static toIntArray(e){if(e==null||!e.length)return ut.EMPTY_INT_ARRAY;const s=new Int32Array(e.length);let o=0;for(const u of e)s[o++]=u;return s}static getCodeword(e){const s=U.binarySearch(ut.SYMBOL_TABLE,e&262143);return s<0?-1:(ut.CODEWORD_TABLE[s]-1)%ut.NUMBER_OF_CODEWORDS}}ut.NUMBER_OF_CODEWORDS=929,ut.MAX_CODEWORDS_IN_BARCODE=ut.NUMBER_OF_CODEWORDS-1,ut.MIN_ROWS_IN_BARCODE=3,ut.MAX_ROWS_IN_BARCODE=90,ut.MODULES_IN_CODEWORD=17,ut.MODULES_IN_STOP_PATTERN=18,ut.BARS_IN_MODULE=8,ut.EMPTY_INT_ARRAY=new Int32Array([]),ut.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),ut.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class lc{constructor(e,s){this.bits=e,this.points=s}getBits(){return this.bits}getPoints(){return this.points}}class pt{static detectMultiple(e,s,o){let u=e.getBlackMatrix(),h=pt.detect(o,u);return h.length||(u=u.clone(),u.rotate180(),h=pt.detect(o,u)),new lc(u,h)}static detect(e,s){const o=new Array;let u=0,h=0,f=!1;for(;u<s.getHeight();){const x=pt.findVertices(s,u,h);if(x[0]==null&&x[3]==null){if(!f)break;f=!1,h=0;for(const E of o)E[1]!=null&&(u=Math.trunc(Math.max(u,E[1].getY()))),E[3]!=null&&(u=Math.max(u,Math.trunc(E[3].getY())));u+=pt.ROW_STEP;continue}if(f=!0,o.push(x),!e)break;x[2]!=null?(h=Math.trunc(x[2].getX()),u=Math.trunc(x[2].getY())):(h=Math.trunc(x[4].getX()),u=Math.trunc(x[4].getY()))}return o}static findVertices(e,s,o){const u=e.getHeight(),h=e.getWidth(),f=new Array(8);return pt.copyToResult(f,pt.findRowsWithPattern(e,u,h,s,o,pt.START_PATTERN),pt.INDEXES_START_PATTERN),f[4]!=null&&(o=Math.trunc(f[4].getX()),s=Math.trunc(f[4].getY())),pt.copyToResult(f,pt.findRowsWithPattern(e,u,h,s,o,pt.STOP_PATTERN),pt.INDEXES_STOP_PATTERN),f}static copyToResult(e,s,o){for(let u=0;u<o.length;u++)e[o[u]]=s[u]}static findRowsWithPattern(e,s,o,u,h,f){const x=new Array(4);let E=!1;const C=new Int32Array(f.length);for(;u<s;u+=pt.ROW_STEP){let D=pt.findGuardPattern(e,h,u,o,!1,f,C);if(D!=null){for(;u>0;){const B=pt.findGuardPattern(e,h,--u,o,!1,f,C);if(B!=null)D=B;else{u++;break}}x[0]=new Le(D[0],u),x[1]=new Le(D[1],u),E=!0;break}}let I=u+1;if(E){let D=0,B=Int32Array.from([Math.trunc(x[0].getX()),Math.trunc(x[1].getX())]);for(;I<s;I++){const G=pt.findGuardPattern(e,B[0],I,o,!1,f,C);if(G!=null&&Math.abs(B[0]-G[0])<pt.MAX_PATTERN_DRIFT&&Math.abs(B[1]-G[1])<pt.MAX_PATTERN_DRIFT)B=G,D=0;else{if(D>pt.SKIPPED_ROW_COUNT_MAX)break;D++}}I-=D+1,x[2]=new Le(B[0],I),x[3]=new Le(B[1],I)}return I-u<pt.BARCODE_MIN_HEIGHT&&U.fill(x,null),x}static findGuardPattern(e,s,o,u,h,f,x){U.fillWithin(x,0,x.length,0);let E=s,C=0;for(;e.get(E,o)&&E>0&&C++<pt.MAX_PIXEL_DRIFT;)E--;let I=E,D=0,B=f.length;for(let G=h;I<u;I++)if(e.get(I,o)!==G)x[D]++;else{if(D===B-1){if(pt.patternMatchVariance(x,f,pt.MAX_INDIVIDUAL_VARIANCE)<pt.MAX_AVG_VARIANCE)return new Int32Array([E,I]);E+=x[0]+x[1],k.arraycopy(x,2,x,0,D-1),x[D-1]=0,x[D]=0,D--}else D++;x[D]=1,G=!G}return D===B-1&&pt.patternMatchVariance(x,f,pt.MAX_INDIVIDUAL_VARIANCE)<pt.MAX_AVG_VARIANCE?new Int32Array([E,I-1]):null}static patternMatchVariance(e,s,o){let u=e.length,h=0,f=0;for(let C=0;C<u;C++)h+=e[C],f+=s[C];if(h<f)return 1/0;let x=h/f;o*=x;let E=0;for(let C=0;C<u;C++){let I=e[C],D=s[C]*x,B=I>D?I-D:D-I;if(B>o)return 1/0;E+=B}return E/h}}pt.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),pt.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),pt.MAX_AVG_VARIANCE=.42,pt.MAX_INDIVIDUAL_VARIANCE=.8,pt.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),pt.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),pt.MAX_PIXEL_DRIFT=3,pt.MAX_PATTERN_DRIFT=5,pt.SKIPPED_ROW_COUNT_MAX=25,pt.ROW_STEP=5,pt.BARCODE_MIN_HEIGHT=10;class Rn{constructor(e,s){if(s.length===0)throw new _;this.field=e;let o=s.length;if(o>1&&s[0]===0){let u=1;for(;u<o&&s[u]===0;)u++;u===o?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(o-u),k.arraycopy(s,u,this.coefficients,0,this.coefficients.length))}else this.coefficients=s}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);if(e===1){let u=0;for(let h of this.coefficients)u=this.field.add(u,h);return u}let s=this.coefficients[0],o=this.coefficients.length;for(let u=1;u<o;u++)s=this.field.add(this.field.multiply(e,s),this.coefficients[u]);return s}add(e){if(!this.field.equals(e.field))throw new _("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;let s=this.coefficients,o=e.coefficients;if(s.length>o.length){let f=s;s=o,o=f}let u=new Int32Array(o.length),h=o.length-s.length;k.arraycopy(o,0,u,0,h);for(let f=h;f<o.length;f++)u[f]=this.field.add(s[f-h],o[f]);return new Rn(this.field,u)}subtract(e){if(!this.field.equals(e.field))throw new _("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())}multiply(e){return e instanceof Rn?this.multiplyOther(e):this.multiplyScalar(e)}multiplyOther(e){if(!this.field.equals(e.field))throw new _("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new Rn(this.field,new Int32Array([0]));let s=this.coefficients,o=s.length,u=e.coefficients,h=u.length,f=new Int32Array(o+h-1);for(let x=0;x<o;x++){let E=s[x];for(let C=0;C<h;C++)f[x+C]=this.field.add(f[x+C],this.field.multiply(E,u[C]))}return new Rn(this.field,f)}negative(){let e=this.coefficients.length,s=new Int32Array(e);for(let o=0;o<e;o++)s[o]=this.field.subtract(0,this.coefficients[o]);return new Rn(this.field,s)}multiplyScalar(e){if(e===0)return new Rn(this.field,new Int32Array([0]));if(e===1)return this;let s=this.coefficients.length,o=new Int32Array(s);for(let u=0;u<s;u++)o[u]=this.field.multiply(this.coefficients[u],e);return new Rn(this.field,o)}multiplyByMonomial(e,s){if(e<0)throw new _;if(s===0)return new Rn(this.field,new Int32Array([0]));let o=this.coefficients.length,u=new Int32Array(o+e);for(let h=0;h<o;h++)u[h]=this.field.multiply(this.coefficients[h],s);return new Rn(this.field,u)}toString(){let e=new ve;for(let s=this.getDegree();s>=0;s--){let o=this.getCoefficient(s);o!==0&&(o<0?(e.append(" - "),o=-o):e.length()>0&&e.append(" + "),(s===0||o!==1)&&e.append(o),s!==0&&(s===1?e.append("x"):(e.append("x^"),e.append(s))))}return e.toString()}}class cc{add(e,s){return(e+s)%this.modulus}subtract(e,s){return(this.modulus+e-s)%this.modulus}exp(e){return this.expTable[e]}log(e){if(e===0)throw new _;return this.logTable[e]}inverse(e){if(e===0)throw new St;return this.expTable[this.modulus-this.logTable[e]-1]}multiply(e,s){return e===0||s===0?0:this.expTable[(this.logTable[e]+this.logTable[s])%(this.modulus-1)]}getSize(){return this.modulus}equals(e){return e===this}}class ds extends cc{constructor(e,s){super(),this.modulus=e,this.expTable=new Int32Array(e),this.logTable=new Int32Array(e);let o=1;for(let u=0;u<e;u++)this.expTable[u]=o,o=o*s%e;for(let u=0;u<e-1;u++)this.logTable[this.expTable[u]]=u;this.zero=new Rn(this,new Int32Array([0])),this.one=new Rn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,s){if(e<0)throw new _;if(s===0)return this.zero;let o=new Int32Array(e+1);return o[0]=s,new Rn(this,o)}}ds.PDF417_GF=new ds(ut.NUMBER_OF_CODEWORDS,3);class rl{constructor(){this.field=ds.PDF417_GF}decode(e,s,o){let u=new Rn(this.field,e),h=new Int32Array(s),f=!1;for(let Q=s;Q>0;Q--){let te=u.evaluateAt(this.field.exp(Q));h[s-Q]=te,te!==0&&(f=!0)}if(!f)return 0;let x=this.field.getOne();if(o!=null)for(const Q of o){let te=this.field.exp(e.length-1-Q),ae=new Rn(this.field,new Int32Array([this.field.subtract(0,te),1]));x=x.multiply(ae)}let E=new Rn(this.field,h),C=this.runEuclideanAlgorithm(this.field.buildMonomial(s,1),E,s),I=C[0],D=C[1],B=this.findErrorLocations(I),G=this.findErrorMagnitudes(D,I,B);for(let Q=0;Q<B.length;Q++){let te=e.length-1-this.field.log(B[Q]);if(te<0)throw R.getChecksumInstance();e[te]=this.field.subtract(e[te],G[Q])}return B.length}runEuclideanAlgorithm(e,s,o){if(e.getDegree()<s.getDegree()){let B=e;e=s,s=B}let u=e,h=s,f=this.field.getZero(),x=this.field.getOne();for(;h.getDegree()>=Math.round(o/2);){let B=u,G=f;if(u=h,f=x,u.isZero())throw R.getChecksumInstance();h=B;let Q=this.field.getZero(),te=u.getCoefficient(u.getDegree()),ae=this.field.inverse(te);for(;h.getDegree()>=u.getDegree()&&!h.isZero();){let me=h.getDegree()-u.getDegree(),Oe=this.field.multiply(h.getCoefficient(h.getDegree()),ae);Q=Q.add(this.field.buildMonomial(me,Oe)),h=h.subtract(u.multiplyByMonomial(me,Oe))}x=Q.multiply(f).subtract(G).negative()}let E=x.getCoefficient(0);if(E===0)throw R.getChecksumInstance();let C=this.field.inverse(E),I=x.multiply(C),D=h.multiply(C);return[I,D]}findErrorLocations(e){let s=e.getDegree(),o=new Int32Array(s),u=0;for(let h=1;h<this.field.getSize()&&u<s;h++)e.evaluateAt(h)===0&&(o[u]=this.field.inverse(h),u++);if(u!==s)throw R.getChecksumInstance();return o}findErrorMagnitudes(e,s,o){let u=s.getDegree(),h=new Int32Array(u);for(let C=1;C<=u;C++)h[u-C]=this.field.multiply(C,s.getCoefficient(C));let f=new Rn(this.field,h),x=o.length,E=new Int32Array(x);for(let C=0;C<x;C++){let I=this.field.inverse(o[C]),D=this.field.subtract(0,e.evaluateAt(I)),B=this.field.inverse(f.evaluateAt(I));E[C]=this.field.multiply(D,B)}return E}}class Wi{constructor(e,s,o,u,h){e instanceof Wi?this.constructor_2(e):this.constructor_1(e,s,o,u,h)}constructor_1(e,s,o,u,h){const f=s==null||o==null,x=u==null||h==null;if(f&&x)throw new ie;f?(s=new Le(0,u.getY()),o=new Le(0,h.getY())):x&&(u=new Le(e.getWidth()-1,s.getY()),h=new Le(e.getWidth()-1,o.getY())),this.image=e,this.topLeft=s,this.bottomLeft=o,this.topRight=u,this.bottomRight=h,this.minX=Math.trunc(Math.min(s.getX(),o.getX())),this.maxX=Math.trunc(Math.max(u.getX(),h.getX())),this.minY=Math.trunc(Math.min(s.getY(),u.getY())),this.maxY=Math.trunc(Math.max(o.getY(),h.getY()))}constructor_2(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()}static merge(e,s){return e==null?s:s==null?e:new Wi(e.image,e.topLeft,e.bottomLeft,s.topRight,s.bottomRight)}addMissingRows(e,s,o){let u=this.topLeft,h=this.bottomLeft,f=this.topRight,x=this.bottomRight;if(e>0){let E=o?this.topLeft:this.topRight,C=Math.trunc(E.getY()-e);C<0&&(C=0);let I=new Le(E.getX(),C);o?u=I:f=I}if(s>0){let E=o?this.bottomLeft:this.bottomRight,C=Math.trunc(E.getY()+s);C>=this.image.getHeight()&&(C=this.image.getHeight()-1);let I=new Le(E.getX(),C);o?h=I:x=I}return new Wi(this.image,u,h,f,x)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Qs{constructor(e,s,o,u){this.columnCount=e,this.errorCorrectionLevel=u,this.rowCountUpperPart=s,this.rowCountLowerPart=o,this.rowCount=s+o}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class ei{constructor(){this.buffer=""}static form(e,s){let o=-1;function u(f,x,E,C,I,D){if(f==="%%")return"%";if(s[++o]===void 0)return;f=C?parseInt(C.substr(1)):void 0;let B=I?parseInt(I.substr(1)):void 0,G;switch(D){case"s":G=s[o];break;case"c":G=s[o][0];break;case"f":G=parseFloat(s[o]).toFixed(f);break;case"p":G=parseFloat(s[o]).toPrecision(f);break;case"e":G=parseFloat(s[o]).toExponential(f);break;case"x":G=parseInt(s[o]).toString(B||16);break;case"d":G=parseFloat(parseInt(s[o],B||10).toPrecision(f)).toFixed(0);break}G=typeof G=="object"?JSON.stringify(G):(+G).toString(B);let Q=parseInt(E),te=E&&E[0]+""=="0"?"0":" ";for(;G.length<Q;)G=x!==void 0?G+te:te+G;return G}let h=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(h,u)}format(e,...s){this.buffer+=ei.form(e,s)}toString(){return this.buffer}}class Wr{constructor(e){this.boundingBox=new Wi(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}getCodewordNearby(e){let s=this.getCodeword(e);if(s!=null)return s;for(let o=1;o<Wr.MAX_NEARBY_DISTANCE;o++){let u=this.imageRowToCodewordIndex(e)-o;if(u>=0&&(s=this.codewords[u],s!=null)||(u=this.imageRowToCodewordIndex(e)+o,u<this.codewords.length&&(s=this.codewords[u],s!=null)))return s}return null}imageRowToCodewordIndex(e){return e-this.boundingBox.getMinY()}setCodeword(e,s){this.codewords[this.imageRowToCodewordIndex(e)]=s}getCodeword(e){return this.codewords[this.imageRowToCodewordIndex(e)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const e=new ei;let s=0;for(const o of this.codewords){if(o==null){e.format("%3d:    |   %n",s++);continue}e.format("%3d: %3d|%3d%n",s++,o.getRowNumber(),o.getValue())}return e.toString()}}Wr.MAX_NEARBY_DISTANCE=5;class Si{constructor(){this.values=new Map}setValue(e){e=Math.trunc(e);let s=this.values.get(e);s==null&&(s=0),s++,this.values.set(e,s)}getValue(){let e=-1,s=new Array;for(const[o,u]of this.values.entries()){const h={getKey:()=>o,getValue:()=>u};h.getValue()>e?(e=h.getValue(),s=[],s.push(h.getKey())):h.getValue()===e&&s.push(h.getKey())}return ut.toIntArray(s)}getConfidence(e){return this.values.get(e)}}class uc extends Wr{constructor(e,s){super(e),this._isLeft=s}setRowNumbers(){for(let e of this.getCodewords())e?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(e){let s=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(s,e);let o=this.getBoundingBox(),u=this._isLeft?o.getTopLeft():o.getTopRight(),h=this._isLeft?o.getBottomLeft():o.getBottomRight(),f=this.imageRowToCodewordIndex(Math.trunc(u.getY())),x=this.imageRowToCodewordIndex(Math.trunc(h.getY())),E=-1,C=1,I=0;for(let D=f;D<x;D++){if(s[D]==null)continue;let B=s[D],G=B.getRowNumber()-E;if(G===0)I++;else if(G===1)C=Math.max(C,I),I=1,E=B.getRowNumber();else if(G<0||B.getRowNumber()>=e.getRowCount()||G>D)s[D]=null;else{let Q;C>2?Q=(C-2)*G:Q=G;let te=Q>=D;for(let ae=1;ae<=Q&&!te;ae++)te=s[D-ae]!=null;te?s[D]=null:(E=B.getRowNumber(),I=1)}}}getRowHeights(){let e=this.getBarcodeMetadata();if(e==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(e);let s=new Int32Array(e.getRowCount());for(let o of this.getCodewords())if(o!=null){let u=o.getRowNumber();if(u>=s.length)continue;s[u]++}return s}adjustIncompleteIndicatorColumnRowNumbers(e){let s=this.getBoundingBox(),o=this._isLeft?s.getTopLeft():s.getTopRight(),u=this._isLeft?s.getBottomLeft():s.getBottomRight(),h=this.imageRowToCodewordIndex(Math.trunc(o.getY())),f=this.imageRowToCodewordIndex(Math.trunc(u.getY())),x=this.getCodewords(),E=-1;for(let C=h;C<f;C++){if(x[C]==null)continue;let I=x[C];I.setRowNumberAsRowIndicatorColumn();let D=I.getRowNumber()-E;D===0||(D===1?E=I.getRowNumber():I.getRowNumber()>=e.getRowCount()?x[C]=null:E=I.getRowNumber())}}getBarcodeMetadata(){let e=this.getCodewords(),s=new Si,o=new Si,u=new Si,h=new Si;for(let x of e){if(x==null)continue;x.setRowNumberAsRowIndicatorColumn();let E=x.getValue()%30,C=x.getRowNumber();switch(this._isLeft||(C+=2),C%3){case 0:o.setValue(E*3+1);break;case 1:h.setValue(E/3),u.setValue(E%3);break;case 2:s.setValue(E+1);break}}if(s.getValue().length===0||o.getValue().length===0||u.getValue().length===0||h.getValue().length===0||s.getValue()[0]<1||o.getValue()[0]+u.getValue()[0]<ut.MIN_ROWS_IN_BARCODE||o.getValue()[0]+u.getValue()[0]>ut.MAX_ROWS_IN_BARCODE)return null;let f=new Qs(s.getValue()[0],o.getValue()[0],u.getValue()[0],h.getValue()[0]);return this.removeIncorrectCodewords(e,f),f}removeIncorrectCodewords(e,s){for(let o=0;o<e.length;o++){let u=e[o];if(e[o]==null)continue;let h=u.getValue()%30,f=u.getRowNumber();if(f>s.getRowCount()){e[o]=null;continue}switch(this._isLeft||(f+=2),f%3){case 0:h*3+1!==s.getRowCountUpperPart()&&(e[o]=null);break;case 1:(Math.trunc(h/3)!==s.getErrorCorrectionLevel()||h%3!==s.getRowCountLowerPart())&&(e[o]=null);break;case 2:h+1!==s.getColumnCount()&&(e[o]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Js{constructor(e,s){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=s,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let e=ut.MAX_CODEWORDS_IN_BARCODE,s;do s=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<s);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(e){e?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let e=this.adjustRowNumbersByRow();if(e===0)return 0;for(let s=1;s<this.barcodeColumnCount+1;s++){let o=this.detectionResultColumns[s].getCodewords();for(let u=0;u<o.length;u++)o[u]!=null&&(o[u].hasValidRowNumber()||this.adjustRowNumbers(s,u,o))}return e}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let e=this.detectionResultColumns[0].getCodewords(),s=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let o=0;o<e.length;o++)if(e[o]!=null&&s[o]!=null&&e[o].getRowNumber()===s[o].getRowNumber())for(let u=1;u<=this.barcodeColumnCount;u++){let h=this.detectionResultColumns[u].getCodewords()[o];h!=null&&(h.setRowNumber(e[o].getRowNumber()),h.hasValidRowNumber()||(this.detectionResultColumns[u].getCodewords()[o]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let e=0,s=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let o=0;o<s.length;o++){if(s[o]==null)continue;let u=s[o].getRowNumber(),h=0;for(let f=this.barcodeColumnCount+1;f>0&&h<this.ADJUST_ROW_NUMBER_SKIP;f--){let x=this.detectionResultColumns[f].getCodewords()[o];x!=null&&(h=Js.adjustRowNumberIfValid(u,h,x),x.hasValidRowNumber()||e++)}}return e}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let e=0,s=this.detectionResultColumns[0].getCodewords();for(let o=0;o<s.length;o++){if(s[o]==null)continue;let u=s[o].getRowNumber(),h=0;for(let f=1;f<this.barcodeColumnCount+1&&h<this.ADJUST_ROW_NUMBER_SKIP;f++){let x=this.detectionResultColumns[f].getCodewords()[o];x!=null&&(h=Js.adjustRowNumberIfValid(u,h,x),x.hasValidRowNumber()||e++)}}return e}static adjustRowNumberIfValid(e,s,o){return o==null||o.hasValidRowNumber()||(o.isValidRowNumber(e)?(o.setRowNumber(e),s=0):++s),s}adjustRowNumbers(e,s,o){if(!this.detectionResultColumns[e-1])return;let u=o[s],h=this.detectionResultColumns[e-1].getCodewords(),f=h;this.detectionResultColumns[e+1]!=null&&(f=this.detectionResultColumns[e+1].getCodewords());let x=new Array(14);x[2]=h[s],x[3]=f[s],s>0&&(x[0]=o[s-1],x[4]=h[s-1],x[5]=f[s-1]),s>1&&(x[8]=o[s-2],x[10]=h[s-2],x[11]=f[s-2]),s<o.length-1&&(x[1]=o[s+1],x[6]=h[s+1],x[7]=f[s+1]),s<o.length-2&&(x[9]=o[s+2],x[12]=h[s+2],x[13]=f[s+2]);for(let E of x)if(Js.adjustRowNumber(u,E))return}static adjustRowNumber(e,s){return s==null?!1:s.hasValidRowNumber()&&s.getBucket()===e.getBucket()?(e.setRowNumber(s.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(e){this.boundingBox=e}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(e,s){this.detectionResultColumns[e]=s}getDetectionResultColumn(e){return this.detectionResultColumns[e]}toString(){let e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);let s=new ei;for(let o=0;o<e.getCodewords().length;o++){s.format("CW %3d:",o);for(let u=0;u<this.barcodeColumnCount+2;u++){if(this.detectionResultColumns[u]==null){s.format("    |   ");continue}let h=this.detectionResultColumns[u].getCodewords()[o];if(h==null){s.format("    |   ");continue}s.format(" %3d|%3d",h.getRowNumber(),h.getValue())}s.format("%n")}return s.toString()}}class Hi{constructor(e,s,o,u){this.rowNumber=Hi.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(s),this.bucket=Math.trunc(o),this.value=Math.trunc(u)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(e){return e!==Hi.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(e){this.rowNumber=e}toString(){return this.rowNumber+"|"+this.value}}Hi.BARCODE_ROW_UNKNOWN=-1;class kn{static initialize(){for(let e=0;e<ut.SYMBOL_TABLE.length;e++){let s=ut.SYMBOL_TABLE[e],o=s&1;for(let u=0;u<ut.BARS_IN_MODULE;u++){let h=0;for(;(s&1)===o;)h+=1,s>>=1;o=s&1,kn.RATIOS_TABLE[e]||(kn.RATIOS_TABLE[e]=new Array(ut.BARS_IN_MODULE)),kn.RATIOS_TABLE[e][ut.BARS_IN_MODULE-u-1]=Math.fround(h/ut.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(e){let s=kn.getDecodedCodewordValue(kn.sampleBitCounts(e));return s!==-1?s:kn.getClosestDecodedValue(e)}static sampleBitCounts(e){let s=tt.sum(e),o=new Int32Array(ut.BARS_IN_MODULE),u=0,h=0;for(let f=0;f<ut.MODULES_IN_CODEWORD;f++){let x=s/(2*ut.MODULES_IN_CODEWORD)+f*s/ut.MODULES_IN_CODEWORD;h+e[u]<=x&&(h+=e[u],u++),o[u]++}return o}static getDecodedCodewordValue(e){let s=kn.getBitValue(e);return ut.getCodeword(s)===-1?-1:s}static getBitValue(e){let s=0;for(let o=0;o<e.length;o++)for(let u=0;u<e[o];u++)s=s<<1|(o%2===0?1:0);return Math.trunc(s)}static getClosestDecodedValue(e){let s=tt.sum(e),o=new Array(ut.BARS_IN_MODULE);if(s>1)for(let f=0;f<o.length;f++)o[f]=Math.fround(e[f]/s);let u=fn.MAX_VALUE,h=-1;this.bSymbolTableReady||kn.initialize();for(let f=0;f<kn.RATIOS_TABLE.length;f++){let x=0,E=kn.RATIOS_TABLE[f];for(let C=0;C<ut.BARS_IN_MODULE;C++){let I=Math.fround(E[C]-o[C]);if(x+=Math.fround(I*I),x>=u)break}x<u&&(u=x,h=ut.SYMBOL_TABLE[f])}return h}}kn.bSymbolTableReady=!1,kn.RATIOS_TABLE=new Array(ut.SYMBOL_TABLE.length).map(P=>new Array(ut.BARS_IN_MODULE));class zo{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(e){this.segmentIndex=e}getFileId(){return this.fileId}setFileId(e){this.fileId=e}getOptionalData(){return this.optionalData}setOptionalData(e){this.optionalData=e}isLastSegment(){return this.lastSegment}setLastSegment(e){this.lastSegment=e}getSegmentCount(){return this.segmentCount}setSegmentCount(e){this.segmentCount=e}getSender(){return this.sender||null}setSender(e){this.sender=e}getAddressee(){return this.addressee||null}setAddressee(e){this.addressee=e}getFileName(){return this.fileName}setFileName(e){this.fileName=e}getFileSize(){return this.fileSize}setFileSize(e){this.fileSize=e}getChecksum(){return this.checksum}setChecksum(e){this.checksum=e}getTimestamp(){return this.timestamp}setTimestamp(e){this.timestamp=e}}class il{static parseLong(e,s=void 0){return parseInt(e,s)}}class ti extends y{}ti.kind="NullPointerException";class sl{writeBytes(e){this.writeBytesOffset(e,0,e.length)}writeBytesOffset(e,s,o){if(e==null)throw new ti;if(s<0||s>e.length||o<0||s+o>e.length||s+o<0)throw new L;if(o===0)return;for(let u=0;u<o;u++)this.write(e[s+u])}flush(){}close(){}}class Vo extends y{}class dc extends sl{constructor(e=32){if(super(),this.count=0,e<0)throw new _("Negative initial size: "+e);this.buf=new Uint8Array(e)}ensureCapacity(e){e-this.buf.length>0&&this.grow(e)}grow(e){let o=this.buf.length<<1;if(o-e<0&&(o=e),o<0){if(e<0)throw new Vo;o=F.MAX_VALUE}this.buf=U.copyOfUint8Array(this.buf,o)}write(e){this.ensureCapacity(this.count+1),this.buf[this.count]=e,this.count+=1}writeBytesOffset(e,s,o){if(s<0||s>e.length||o<0||s+o-e.length>0)throw new L;this.ensureCapacity(this.count+o),k.arraycopy(e,s,this.buf,this.count,o),this.count+=o}writeTo(e){e.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return U.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(e){return e?typeof e=="string"?this.toString_string(e):this.toString_number(e):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(e){return new String(this.buf).toString()}toString_number(e){return new String(this.buf).toString()}close(){}}var jt;(function(P){P[P.ALPHA=0]="ALPHA",P[P.LOWER=1]="LOWER",P[P.MIXED=2]="MIXED",P[P.PUNCT=3]="PUNCT",P[P.ALPHA_SHIFT=4]="ALPHA_SHIFT",P[P.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(jt||(jt={}));function eo(){if(typeof window<"u")return window.BigInt||null;if(typeof lu<"u")return lu.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let to;function pn(P){if(typeof to>"u"&&(to=eo()),to===null)throw new Error("BigInt is not supported!");return to(P)}function hs(){let P=[];P[0]=pn(1);let e=pn(900);P[1]=e;for(let s=2;s<16;s++)P[s]=P[s-1]*e;return P}class xe{static decode(e,s){let o=new ve(""),u=V.ISO8859_1;o.enableDecoding(u);let h=1,f=e[h++],x=new zo;for(;h<e[0];){switch(f){case xe.TEXT_COMPACTION_MODE_LATCH:h=xe.textCompaction(e,h,o);break;case xe.BYTE_COMPACTION_MODE_LATCH:case xe.BYTE_COMPACTION_MODE_LATCH_6:h=xe.byteCompaction(f,e,u,h,o);break;case xe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(e[h++]);break;case xe.NUMERIC_COMPACTION_MODE_LATCH:h=xe.numericCompaction(e,h,o);break;case xe.ECI_CHARSET:V.getCharacterSetECIByValue(e[h++]);break;case xe.ECI_GENERAL_PURPOSE:h+=2;break;case xe.ECI_USER_DEFINED:h++;break;case xe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:h=xe.decodeMacroBlock(e,h,x);break;case xe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case xe.MACRO_PDF417_TERMINATOR:throw new H;default:h--,h=xe.textCompaction(e,h,o);break}if(h<e.length)f=e[h++];else throw H.getFormatInstance()}if(o.length()===0)throw H.getFormatInstance();let E=new We(null,o.toString(),null,s);return E.setOther(x),E}static decodeMacroBlock(e,s,o){if(s+xe.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw H.getFormatInstance();let u=new Int32Array(xe.NUMBER_OF_SEQUENCE_CODEWORDS);for(let x=0;x<xe.NUMBER_OF_SEQUENCE_CODEWORDS;x++,s++)u[x]=e[s];o.setSegmentIndex(F.parseInt(xe.decodeBase900toBase10(u,xe.NUMBER_OF_SEQUENCE_CODEWORDS)));let h=new ve;s=xe.textCompaction(e,s,h),o.setFileId(h.toString());let f=-1;for(e[s]===xe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(f=s+1);s<e[0];)switch(e[s]){case xe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(s++,e[s]){case xe.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let x=new ve;s=xe.textCompaction(e,s+1,x),o.setFileName(x.toString());break;case xe.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let E=new ve;s=xe.textCompaction(e,s+1,E),o.setSender(E.toString());break;case xe.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let C=new ve;s=xe.textCompaction(e,s+1,C),o.setAddressee(C.toString());break;case xe.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let I=new ve;s=xe.numericCompaction(e,s+1,I),o.setSegmentCount(F.parseInt(I.toString()));break;case xe.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let D=new ve;s=xe.numericCompaction(e,s+1,D),o.setTimestamp(il.parseLong(D.toString()));break;case xe.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let B=new ve;s=xe.numericCompaction(e,s+1,B),o.setChecksum(F.parseInt(B.toString()));break;case xe.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let G=new ve;s=xe.numericCompaction(e,s+1,G),o.setFileSize(il.parseLong(G.toString()));break;default:throw H.getFormatInstance()}break;case xe.MACRO_PDF417_TERMINATOR:s++,o.setLastSegment(!0);break;default:throw H.getFormatInstance()}if(f!==-1){let x=s-f;o.isLastSegment()&&x--,o.setOptionalData(U.copyOfRange(e,f,f+x))}return s}static textCompaction(e,s,o){let u=new Int32Array((e[0]-s)*2),h=new Int32Array((e[0]-s)*2),f=0,x=!1;for(;s<e[0]&&!x;){let E=e[s++];if(E<xe.TEXT_COMPACTION_MODE_LATCH)u[f]=E/30,u[f+1]=E%30,f+=2;else switch(E){case xe.TEXT_COMPACTION_MODE_LATCH:u[f++]=xe.TEXT_COMPACTION_MODE_LATCH;break;case xe.BYTE_COMPACTION_MODE_LATCH:case xe.BYTE_COMPACTION_MODE_LATCH_6:case xe.NUMERIC_COMPACTION_MODE_LATCH:case xe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case xe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case xe.MACRO_PDF417_TERMINATOR:s--,x=!0;break;case xe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u[f]=xe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,E=e[s++],h[f]=E,f++;break}}return xe.decodeTextCompaction(u,h,f,o),s}static decodeTextCompaction(e,s,o,u){let h=jt.ALPHA,f=jt.ALPHA,x=0;for(;x<o;){let E=e[x],C="";switch(h){case jt.ALPHA:if(E<26)C=String.fromCharCode(65+E);else switch(E){case 26:C=" ";break;case xe.LL:h=jt.LOWER;break;case xe.ML:h=jt.MIXED;break;case xe.PS:f=h,h=jt.PUNCT_SHIFT;break;case xe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(s[x]);break;case xe.TEXT_COMPACTION_MODE_LATCH:h=jt.ALPHA;break}break;case jt.LOWER:if(E<26)C=String.fromCharCode(97+E);else switch(E){case 26:C=" ";break;case xe.AS:f=h,h=jt.ALPHA_SHIFT;break;case xe.ML:h=jt.MIXED;break;case xe.PS:f=h,h=jt.PUNCT_SHIFT;break;case xe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(s[x]);break;case xe.TEXT_COMPACTION_MODE_LATCH:h=jt.ALPHA;break}break;case jt.MIXED:if(E<xe.PL)C=xe.MIXED_CHARS[E];else switch(E){case xe.PL:h=jt.PUNCT;break;case 26:C=" ";break;case xe.LL:h=jt.LOWER;break;case xe.AL:h=jt.ALPHA;break;case xe.PS:f=h,h=jt.PUNCT_SHIFT;break;case xe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(s[x]);break;case xe.TEXT_COMPACTION_MODE_LATCH:h=jt.ALPHA;break}break;case jt.PUNCT:if(E<xe.PAL)C=xe.PUNCT_CHARS[E];else switch(E){case xe.PAL:h=jt.ALPHA;break;case xe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(s[x]);break;case xe.TEXT_COMPACTION_MODE_LATCH:h=jt.ALPHA;break}break;case jt.ALPHA_SHIFT:if(h=f,E<26)C=String.fromCharCode(65+E);else switch(E){case 26:C=" ";break;case xe.TEXT_COMPACTION_MODE_LATCH:h=jt.ALPHA;break}break;case jt.PUNCT_SHIFT:if(h=f,E<xe.PAL)C=xe.PUNCT_CHARS[E];else switch(E){case xe.PAL:h=jt.ALPHA;break;case xe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(s[x]);break;case xe.TEXT_COMPACTION_MODE_LATCH:h=jt.ALPHA;break}break}C!==""&&u.append(C),x++}}static byteCompaction(e,s,o,u,h){let f=new dc,x=0,E=0,C=!1;switch(e){case xe.BYTE_COMPACTION_MODE_LATCH:let I=new Int32Array(6),D=s[u++];for(;u<s[0]&&!C;)switch(I[x++]=D,E=900*E+D,D=s[u++],D){case xe.TEXT_COMPACTION_MODE_LATCH:case xe.BYTE_COMPACTION_MODE_LATCH:case xe.NUMERIC_COMPACTION_MODE_LATCH:case xe.BYTE_COMPACTION_MODE_LATCH_6:case xe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case xe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case xe.MACRO_PDF417_TERMINATOR:u--,C=!0;break;default:if(x%5===0&&x>0){for(let B=0;B<6;++B)f.write(Number(pn(E)>>pn(8*(5-B))));E=0,x=0}break}u===s[0]&&D<xe.TEXT_COMPACTION_MODE_LATCH&&(I[x++]=D);for(let B=0;B<x;B++)f.write(I[B]);break;case xe.BYTE_COMPACTION_MODE_LATCH_6:for(;u<s[0]&&!C;){let B=s[u++];if(B<xe.TEXT_COMPACTION_MODE_LATCH)x++,E=900*E+B;else switch(B){case xe.TEXT_COMPACTION_MODE_LATCH:case xe.BYTE_COMPACTION_MODE_LATCH:case xe.NUMERIC_COMPACTION_MODE_LATCH:case xe.BYTE_COMPACTION_MODE_LATCH_6:case xe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case xe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case xe.MACRO_PDF417_TERMINATOR:u--,C=!0;break}if(x%5===0&&x>0){for(let G=0;G<6;++G)f.write(Number(pn(E)>>pn(8*(5-G))));E=0,x=0}}break}return h.append(Ee.decode(f.toByteArray(),o)),u}static numericCompaction(e,s,o){let u=0,h=!1,f=new Int32Array(xe.MAX_NUMERIC_CODEWORDS);for(;s<e[0]&&!h;){let x=e[s++];if(s===e[0]&&(h=!0),x<xe.TEXT_COMPACTION_MODE_LATCH)f[u]=x,u++;else switch(x){case xe.TEXT_COMPACTION_MODE_LATCH:case xe.BYTE_COMPACTION_MODE_LATCH:case xe.BYTE_COMPACTION_MODE_LATCH_6:case xe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case xe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case xe.MACRO_PDF417_TERMINATOR:s--,h=!0;break}(u%xe.MAX_NUMERIC_CODEWORDS===0||x===xe.NUMERIC_COMPACTION_MODE_LATCH||h)&&u>0&&(o.append(xe.decodeBase900toBase10(f,u)),u=0)}return s}static decodeBase900toBase10(e,s){let o=pn(0);for(let h=0;h<s;h++)o+=xe.EXP900[s-h-1]*pn(e[h]);let u=o.toString();if(u.charAt(0)!=="1")throw new H;return u.substring(1)}}xe.TEXT_COMPACTION_MODE_LATCH=900,xe.BYTE_COMPACTION_MODE_LATCH=901,xe.NUMERIC_COMPACTION_MODE_LATCH=902,xe.BYTE_COMPACTION_MODE_LATCH_6=924,xe.ECI_USER_DEFINED=925,xe.ECI_GENERAL_PURPOSE=926,xe.ECI_CHARSET=927,xe.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,xe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,xe.MACRO_PDF417_TERMINATOR=922,xe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,xe.MAX_NUMERIC_CODEWORDS=15,xe.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,xe.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,xe.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,xe.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,xe.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,xe.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,xe.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,xe.PL=25,xe.LL=27,xe.AS=27,xe.ML=28,xe.AL=28,xe.PS=29,xe.PAL=29,xe.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,xe.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",xe.EXP900=eo()?hs():[],xe.NUMBER_OF_SEQUENCE_CODEWORDS=2;class wt{constructor(){}static decode(e,s,o,u,h,f,x){let E=new Wi(e,s,o,u,h),C=null,I=null,D;for(let Q=!0;;Q=!1){if(s!=null&&(C=wt.getRowIndicatorColumn(e,E,s,!0,f,x)),u!=null&&(I=wt.getRowIndicatorColumn(e,E,u,!1,f,x)),D=wt.merge(C,I),D==null)throw ie.getNotFoundInstance();let te=D.getBoundingBox();if(Q&&te!=null&&(te.getMinY()<E.getMinY()||te.getMaxY()>E.getMaxY()))E=te;else break}D.setBoundingBox(E);let B=D.getBarcodeColumnCount()+1;D.setDetectionResultColumn(0,C),D.setDetectionResultColumn(B,I);let G=C!=null;for(let Q=1;Q<=B;Q++){let te=G?Q:B-Q;if(D.getDetectionResultColumn(te)!==void 0)continue;let ae;te===0||te===B?ae=new uc(E,te===0):ae=new Wr(E),D.setDetectionResultColumn(te,ae);let me=-1,Oe=me;for(let Pe=E.getMinY();Pe<=E.getMaxY();Pe++){if(me=wt.getStartColumn(D,te,Pe,G),me<0||me>E.getMaxX()){if(Oe===-1)continue;me=Oe}let Ne=wt.detectCodeword(e,E.getMinX(),E.getMaxX(),G,me,Pe,f,x);Ne!=null&&(ae.setCodeword(Pe,Ne),Oe=me,f=Math.min(f,Ne.getWidth()),x=Math.max(x,Ne.getWidth()))}}return wt.createDecoderResult(D)}static merge(e,s){if(e==null&&s==null)return null;let o=wt.getBarcodeMetadata(e,s);if(o==null)return null;let u=Wi.merge(wt.adjustBoundingBox(e),wt.adjustBoundingBox(s));return new Js(o,u)}static adjustBoundingBox(e){if(e==null)return null;let s=e.getRowHeights();if(s==null)return null;let o=wt.getMax(s),u=0;for(let x of s)if(u+=o-x,x>0)break;let h=e.getCodewords();for(let x=0;u>0&&h[x]==null;x++)u--;let f=0;for(let x=s.length-1;x>=0&&(f+=o-s[x],!(s[x]>0));x--);for(let x=h.length-1;f>0&&h[x]==null;x--)f--;return e.getBoundingBox().addMissingRows(u,f,e.isLeft())}static getMax(e){let s=-1;for(let o of e)s=Math.max(s,o);return s}static getBarcodeMetadata(e,s){let o;if(e==null||(o=e.getBarcodeMetadata())==null)return s==null?null:s.getBarcodeMetadata();let u;return s==null||(u=s.getBarcodeMetadata())==null?o:o.getColumnCount()!==u.getColumnCount()&&o.getErrorCorrectionLevel()!==u.getErrorCorrectionLevel()&&o.getRowCount()!==u.getRowCount()?null:o}static getRowIndicatorColumn(e,s,o,u,h,f){let x=new uc(s,u);for(let E=0;E<2;E++){let C=E===0?1:-1,I=Math.trunc(Math.trunc(o.getX()));for(let D=Math.trunc(Math.trunc(o.getY()));D<=s.getMaxY()&&D>=s.getMinY();D+=C){let B=wt.detectCodeword(e,0,e.getWidth(),u,I,D,h,f);B!=null&&(x.setCodeword(D,B),u?I=B.getStartX():I=B.getEndX())}}return x}static adjustCodewordCount(e,s){let o=s[0][1],u=o.getValue(),h=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-wt.getNumberOfECCodeWords(e.getBarcodeECLevel());if(u.length===0){if(h<1||h>ut.MAX_CODEWORDS_IN_BARCODE)throw ie.getNotFoundInstance();o.setValue(h)}else u[0]!==h&&o.setValue(h)}static createDecoderResult(e){let s=wt.createBarcodeMatrix(e);wt.adjustCodewordCount(e,s);let o=new Array,u=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),h=[],f=new Array;for(let E=0;E<e.getBarcodeRowCount();E++)for(let C=0;C<e.getBarcodeColumnCount();C++){let I=s[E][C+1].getValue(),D=E*e.getBarcodeColumnCount()+C;I.length===0?o.push(D):I.length===1?u[D]=I[0]:(f.push(D),h.push(I))}let x=new Array(h.length);for(let E=0;E<x.length;E++)x[E]=h[E];return wt.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),u,ut.toIntArray(o),ut.toIntArray(f),x)}static createDecoderResultFromAmbiguousValues(e,s,o,u,h){let f=new Int32Array(u.length),x=100;for(;x-- >0;){for(let E=0;E<f.length;E++)s[u[E]]=h[E][f[E]];try{return wt.decodeCodewords(s,e,o)}catch(E){if(!(E instanceof R))throw E}if(f.length===0)throw R.getChecksumInstance();for(let E=0;E<f.length;E++)if(f[E]<h[E].length-1){f[E]++;break}else if(f[E]=0,E===f.length-1)throw R.getChecksumInstance()}throw R.getChecksumInstance()}static createBarcodeMatrix(e){let s=Array.from({length:e.getBarcodeRowCount()},()=>new Array(e.getBarcodeColumnCount()+2));for(let u=0;u<s.length;u++)for(let h=0;h<s[u].length;h++)s[u][h]=new Si;let o=0;for(let u of e.getDetectionResultColumns()){if(u!=null){for(let h of u.getCodewords())if(h!=null){let f=h.getRowNumber();if(f>=0){if(f>=s.length)continue;s[f][o].setValue(h.getValue())}}}o++}return s}static isValidBarcodeColumn(e,s){return s>=0&&s<=e.getBarcodeColumnCount()+1}static getStartColumn(e,s,o,u){let h=u?1:-1,f=null;if(wt.isValidBarcodeColumn(e,s-h)&&(f=e.getDetectionResultColumn(s-h).getCodeword(o)),f!=null)return u?f.getEndX():f.getStartX();if(f=e.getDetectionResultColumn(s).getCodewordNearby(o),f!=null)return u?f.getStartX():f.getEndX();if(wt.isValidBarcodeColumn(e,s-h)&&(f=e.getDetectionResultColumn(s-h).getCodewordNearby(o)),f!=null)return u?f.getEndX():f.getStartX();let x=0;for(;wt.isValidBarcodeColumn(e,s-h);){s-=h;for(let E of e.getDetectionResultColumn(s).getCodewords())if(E!=null)return(u?E.getEndX():E.getStartX())+h*x*(E.getEndX()-E.getStartX());x++}return u?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()}static detectCodeword(e,s,o,u,h,f,x,E){h=wt.adjustCodewordStartColumn(e,s,o,u,h,f);let C=wt.getModuleBitCount(e,s,o,u,h,f);if(C==null)return null;let I,D=tt.sum(C);if(u)I=h+D;else{for(let Q=0;Q<C.length/2;Q++){let te=C[Q];C[Q]=C[C.length-1-Q],C[C.length-1-Q]=te}I=h,h=I-D}if(!wt.checkCodewordSkew(D,x,E))return null;let B=kn.getDecodedValue(C),G=ut.getCodeword(B);return G===-1?null:new Hi(h,I,wt.getCodewordBucketNumber(B),G)}static getModuleBitCount(e,s,o,u,h,f){let x=h,E=new Int32Array(8),C=0,I=u?1:-1,D=u;for(;(u?x<o:x>=s)&&C<E.length;)e.get(x,f)===D?(E[C]++,x+=I):(C++,D=!D);return C===E.length||x===(u?o:s)&&C===E.length-1?E:null}static getNumberOfECCodeWords(e){return 2<<e}static adjustCodewordStartColumn(e,s,o,u,h,f){let x=h,E=u?-1:1;for(let C=0;C<2;C++){for(;(u?x>=s:x<o)&&u===e.get(x,f);){if(Math.abs(h-x)>wt.CODEWORD_SKEW_SIZE)return h;x+=E}E=-E,u=!u}return x}static checkCodewordSkew(e,s,o){return s-wt.CODEWORD_SKEW_SIZE<=e&&e<=o+wt.CODEWORD_SKEW_SIZE}static decodeCodewords(e,s,o){if(e.length===0)throw H.getFormatInstance();let u=1<<s+1,h=wt.correctErrors(e,o,u);wt.verifyCodewordCount(e,u);let f=xe.decode(e,""+s);return f.setErrorsCorrected(h),f.setErasures(o.length),f}static correctErrors(e,s,o){if(s!=null&&s.length>o/2+wt.MAX_ERRORS||o<0||o>wt.MAX_EC_CODEWORDS)throw R.getChecksumInstance();return wt.errorCorrection.decode(e,o,s)}static verifyCodewordCount(e,s){if(e.length<4)throw H.getFormatInstance();let o=e[0];if(o>e.length)throw H.getFormatInstance();if(o===0)if(s<e.length)e[0]=e.length-s;else throw H.getFormatInstance()}static getBitCountForCodeword(e){let s=new Int32Array(8),o=0,u=s.length-1;for(;!((e&1)!==o&&(o=e&1,u--,u<0));)s[u]++,e>>=1;return s}static getCodewordBucketNumber(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)}static getCodewordBucketNumber_number(e){return wt.getCodewordBucketNumber(wt.getBitCountForCodeword(e))}static getCodewordBucketNumber_Int32Array(e){return(e[0]-e[2]+e[4]-e[6]+9)%9}static toString(e){let s=new ei;for(let o=0;o<e.length;o++){s.format("Row %2d: ",o);for(let u=0;u<e[o].length;u++){let h=e[o][u];h.getValue().length===0?s.format("        ",null):s.format("%4d(%2d)",h.getValue()[0],h.getConfidence(h.getValue()[0]))}s.format("%n")}return s.toString()}}wt.CODEWORD_SKEW_SIZE=2,wt.MAX_ERRORS=3,wt.MAX_EC_CODEWORDS=512,wt.errorCorrection=new rl;class On{decode(e,s=null){let o=On.decode(e,s,!1);if(o==null||o.length===0||o[0]==null)throw ie.getNotFoundInstance();return o[0]}decodeMultiple(e,s=null){try{return On.decode(e,s,!0)}catch(o){throw o instanceof H||o instanceof R?ie.getNotFoundInstance():o}}static decode(e,s,o){const u=new Array,h=pt.detectMultiple(e,s,o);for(const f of h.getPoints()){const x=wt.decode(h.getBits(),f[4],f[5],f[6],f[7],On.getMinCodewordWidth(f),On.getMaxCodewordWidth(f)),E=new ke(x.getText(),x.getRawBytes(),void 0,f,be.PDF_417);E.putMetadata(Te.ERROR_CORRECTION_LEVEL,x.getECLevel());const C=x.getOther();C!=null&&E.putMetadata(Te.PDF417_EXTRA_METADATA,C),u.push(E)}return u.map(f=>f)}static getMaxWidth(e,s){return e==null||s==null?0:Math.trunc(Math.abs(e.getX()-s.getX()))}static getMinWidth(e,s){return e==null||s==null?F.MAX_VALUE:Math.trunc(Math.abs(e.getX()-s.getX()))}static getMaxCodewordWidth(e){return Math.floor(Math.max(Math.max(On.getMaxWidth(e[0],e[4]),On.getMaxWidth(e[6],e[2])*ut.MODULES_IN_CODEWORD/ut.MODULES_IN_STOP_PATTERN),Math.max(On.getMaxWidth(e[1],e[5]),On.getMaxWidth(e[7],e[3])*ut.MODULES_IN_CODEWORD/ut.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(e){return Math.floor(Math.min(Math.min(On.getMinWidth(e[0],e[4]),On.getMinWidth(e[6],e[2])*ut.MODULES_IN_CODEWORD/ut.MODULES_IN_STOP_PATTERN),Math.min(On.getMinWidth(e[1],e[5]),On.getMinWidth(e[7],e[3])*ut.MODULES_IN_CODEWORD/ut.MODULES_IN_STOP_PATTERN)))}reset(){}}class fs extends y{}fs.kind="ReaderException";class Wo{constructor(e,s){this.verbose=e===!0,s&&this.setHints(s)}decode(e,s){return s&&this.setHints(s),this.decodeInternal(e)}decodeWithState(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)}setHints(e){this.hints=e;const s=!a(e)&&e.get(Z.TRY_HARDER)===!0,o=a(e)?null:e.get(Z.POSSIBLE_FORMATS),u=new Array;if(!a(o)){const h=o.some(f=>f===be.UPC_A||f===be.UPC_E||f===be.EAN_13||f===be.EAN_8||f===be.CODABAR||f===be.CODE_39||f===be.CODE_93||f===be.CODE_128||f===be.ITF||f===be.RSS_14||f===be.RSS_EXPANDED);h&&!s&&u.push(new ls(e,this.verbose)),o.includes(be.QR_CODE)&&u.push(new $n),o.includes(be.DATA_MATRIX)&&u.push(new Nr),o.includes(be.AZTEC)&&u.push(new bi),o.includes(be.PDF_417)&&u.push(new On),h&&s&&u.push(new ls(e,this.verbose))}u.length===0&&(s||u.push(new ls(e,this.verbose)),u.push(new $n),u.push(new Nr),u.push(new bi),u.push(new On),s&&u.push(new ls(e,this.verbose))),this.readers=u}reset(){if(this.readers!==null)for(const e of this.readers)e.reset()}decodeInternal(e){if(this.readers===null)throw new fs("No readers where selected, nothing can be read.");for(const s of this.readers)try{return s.decode(e,this.hints)}catch(o){if(o instanceof fs)continue}throw new ie("No MultiFormat Readers were able to detect the code.")}}class no extends Ae{constructor(e=null,s=500){const o=new Wo;o.setHints(e),super(o,s)}decodeBitmap(e){return this.reader.decodeWithState(e)}}class Ho extends Ae{constructor(e=500){super(new On,e)}}class hc extends Ae{constructor(e=500){super(new $n,e)}}var ol;(function(P){P[P.ERROR_CORRECTION=0]="ERROR_CORRECTION",P[P.CHARACTER_SET=1]="CHARACTER_SET",P[P.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",P[P.MIN_SIZE=3]="MIN_SIZE",P[P.MAX_SIZE=4]="MAX_SIZE",P[P.MARGIN=5]="MARGIN",P[P.PDF417_COMPACT=6]="PDF417_COMPACT",P[P.PDF417_COMPACTION=7]="PDF417_COMPACTION",P[P.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",P[P.AZTEC_LAYERS=9]="AZTEC_LAYERS",P[P.QR_VERSION=10]="QR_VERSION"})(ol||(ol={}));var vn=ol;class al{constructor(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new st(e,Int32Array.from([1])))}buildGenerator(e){const s=this.cachedGenerators;if(e>=s.length){let o=s[s.length-1];const u=this.field;for(let h=s.length;h<=e;h++){const f=o.multiply(new st(u,Int32Array.from([1,u.exp(h-1+u.getGeneratorBase())])));s.push(f),o=f}}return s[e]}encode(e,s){if(s===0)throw new _("No error correction bytes");const o=e.length-s;if(o<=0)throw new _("No data bytes provided");const u=this.buildGenerator(s),h=new Int32Array(o);k.arraycopy(e,0,h,0,o);let f=new st(this.field,h);f=f.multiplyByMonomial(s,1);const E=f.divide(u)[1].getCoefficients(),C=s-E.length;for(let I=0;I<C;I++)e[o+I]=0;k.arraycopy(E,0,e,o+C,E.length)}}class Zt{constructor(){}static applyMaskPenaltyRule1(e){return Zt.applyMaskPenaltyRule1Internal(e,!0)+Zt.applyMaskPenaltyRule1Internal(e,!1)}static applyMaskPenaltyRule2(e){let s=0;const o=e.getArray(),u=e.getWidth(),h=e.getHeight();for(let f=0;f<h-1;f++){const x=o[f];for(let E=0;E<u-1;E++){const C=x[E];C===x[E+1]&&C===o[f+1][E]&&C===o[f+1][E+1]&&s++}}return Zt.N2*s}static applyMaskPenaltyRule3(e){let s=0;const o=e.getArray(),u=e.getWidth(),h=e.getHeight();for(let f=0;f<h;f++)for(let x=0;x<u;x++){const E=o[f];x+6<u&&E[x]===1&&E[x+1]===0&&E[x+2]===1&&E[x+3]===1&&E[x+4]===1&&E[x+5]===0&&E[x+6]===1&&(Zt.isWhiteHorizontal(E,x-4,x)||Zt.isWhiteHorizontal(E,x+7,x+11))&&s++,f+6<h&&o[f][x]===1&&o[f+1][x]===0&&o[f+2][x]===1&&o[f+3][x]===1&&o[f+4][x]===1&&o[f+5][x]===0&&o[f+6][x]===1&&(Zt.isWhiteVertical(o,x,f-4,f)||Zt.isWhiteVertical(o,x,f+7,f+11))&&s++}return s*Zt.N3}static isWhiteHorizontal(e,s,o){s=Math.max(s,0),o=Math.min(o,e.length);for(let u=s;u<o;u++)if(e[u]===1)return!1;return!0}static isWhiteVertical(e,s,o,u){o=Math.max(o,0),u=Math.min(u,e.length);for(let h=o;h<u;h++)if(e[h][s]===1)return!1;return!0}static applyMaskPenaltyRule4(e){let s=0;const o=e.getArray(),u=e.getWidth(),h=e.getHeight();for(let E=0;E<h;E++){const C=o[E];for(let I=0;I<u;I++)C[I]===1&&s++}const f=e.getHeight()*e.getWidth();return Math.floor(Math.abs(s*2-f)*10/f)*Zt.N4}static getDataMaskBit(e,s,o){let u,h;switch(e){case 0:u=o+s&1;break;case 1:u=o&1;break;case 2:u=s%3;break;case 3:u=(o+s)%3;break;case 4:u=Math.floor(o/2)+Math.floor(s/3)&1;break;case 5:h=o*s,u=(h&1)+h%3;break;case 6:h=o*s,u=(h&1)+h%3&1;break;case 7:h=o*s,u=h%3+(o+s&1)&1;break;default:throw new _("Invalid mask pattern: "+e)}return u===0}static applyMaskPenaltyRule1Internal(e,s){let o=0;const u=s?e.getHeight():e.getWidth(),h=s?e.getWidth():e.getHeight(),f=e.getArray();for(let x=0;x<u;x++){let E=0,C=-1;for(let I=0;I<h;I++){const D=s?f[x][I]:f[I][x];D===C?E++:(E>=5&&(o+=Zt.N1+(E-5)),E=1,C=D)}E>=5&&(o+=Zt.N1+(E-5))}return o}}Zt.N1=3,Zt.N2=3,Zt.N3=40,Zt.N4=10;class $o{constructor(e,s){this.width=e,this.height=s;const o=new Array(s);for(let u=0;u!==s;u++)o[u]=new Uint8Array(e);this.bytes=o}getHeight(){return this.height}getWidth(){return this.width}get(e,s){return this.bytes[s][e]}getArray(){return this.bytes}setNumber(e,s,o){this.bytes[s][e]=o}setBoolean(e,s,o){this.bytes[s][e]=o?1:0}clear(e){for(const s of this.bytes)U.fill(s,e)}equals(e){if(!(e instanceof $o))return!1;const s=e;if(this.width!==s.width||this.height!==s.height)return!1;for(let o=0,u=this.height;o<u;++o){const h=this.bytes[o],f=s.bytes[o];for(let x=0,E=this.width;x<E;++x)if(h[x]!==f[x])return!1}return!0}toString(){const e=new ve;for(let s=0,o=this.height;s<o;++s){const u=this.bytes[s];for(let h=0,f=this.width;h<f;++h)switch(u[h]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()}}class $i{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const e=new ve;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()}setMode(e){this.mode=e}setECLevel(e){this.ecLevel=e}setVersion(e){this.version=e}setMaskPattern(e){this.maskPattern=e}setMatrix(e){this.matrix=e}static isValidMaskPattern(e){return e>=0&&e<$i.NUM_MASK_PATTERNS}}$i.NUM_MASK_PATTERNS=8;class Wt extends y{}Wt.kind="WriterException";class at{constructor(){}static clearMatrix(e){e.clear(255)}static buildMatrix(e,s,o,u,h){at.clearMatrix(h),at.embedBasicPatterns(o,h),at.embedTypeInfo(s,u,h),at.maybeEmbedVersionInfo(o,h),at.embedDataBits(e,u,h)}static embedBasicPatterns(e,s){at.embedPositionDetectionPatternsAndSeparators(s),at.embedDarkDotAtLeftBottomCorner(s),at.maybeEmbedPositionAdjustmentPatterns(e,s),at.embedTimingPatterns(s)}static embedTypeInfo(e,s,o){const u=new $;at.makeTypeInfoBits(e,s,u);for(let h=0,f=u.getSize();h<f;++h){const x=u.get(u.getSize()-1-h),E=at.TYPE_INFO_COORDINATES[h],C=E[0],I=E[1];if(o.setBoolean(C,I,x),h<8){const D=o.getWidth()-h-1;o.setBoolean(D,8,x)}else{const B=o.getHeight()-7+(h-8);o.setBoolean(8,B,x)}}}static maybeEmbedVersionInfo(e,s){if(e.getVersionNumber()<7)return;const o=new $;at.makeVersionInfoBits(e,o);let u=17;for(let h=0;h<6;++h)for(let f=0;f<3;++f){const x=o.get(u);u--,s.setBoolean(h,s.getHeight()-11+f,x),s.setBoolean(s.getHeight()-11+f,h,x)}}static embedDataBits(e,s,o){let u=0,h=-1,f=o.getWidth()-1,x=o.getHeight()-1;for(;f>0;){for(f===6&&(f-=1);x>=0&&x<o.getHeight();){for(let E=0;E<2;++E){const C=f-E;if(!at.isEmpty(o.get(C,x)))continue;let I;u<e.getSize()?(I=e.get(u),++u):I=!1,s!==255&&Zt.getDataMaskBit(s,C,x)&&(I=!I),o.setBoolean(C,x,I)}x+=h}h=-h,x+=h,f-=2}if(u!==e.getSize())throw new Wt("Not all bits consumed: "+u+"/"+e.getSize())}static findMSBSet(e){return 32-F.numberOfLeadingZeros(e)}static calculateBCHCode(e,s){if(s===0)throw new _("0 polynomial");const o=at.findMSBSet(s);for(e<<=o-1;at.findMSBSet(e)>=o;)e^=s<<at.findMSBSet(e)-o;return e}static makeTypeInfoBits(e,s,o){if(!$i.isValidMaskPattern(s))throw new Wt("Invalid mask pattern");const u=e.getBits()<<3|s;o.appendBits(u,5);const h=at.calculateBCHCode(u,at.TYPE_INFO_POLY);o.appendBits(h,10);const f=new $;if(f.appendBits(at.TYPE_INFO_MASK_PATTERN,15),o.xor(f),o.getSize()!==15)throw new Wt("should not happen but we got: "+o.getSize())}static makeVersionInfoBits(e,s){s.appendBits(e.getVersionNumber(),6);const o=at.calculateBCHCode(e.getVersionNumber(),at.VERSION_INFO_POLY);if(s.appendBits(o,12),s.getSize()!==18)throw new Wt("should not happen but we got: "+s.getSize())}static isEmpty(e){return e===255}static embedTimingPatterns(e){for(let s=8;s<e.getWidth()-8;++s){const o=(s+1)%2;at.isEmpty(e.get(s,6))&&e.setNumber(s,6,o),at.isEmpty(e.get(6,s))&&e.setNumber(6,s,o)}}static embedDarkDotAtLeftBottomCorner(e){if(e.get(8,e.getHeight()-8)===0)throw new Wt;e.setNumber(8,e.getHeight()-8,1)}static embedHorizontalSeparationPattern(e,s,o){for(let u=0;u<8;++u){if(!at.isEmpty(o.get(e+u,s)))throw new Wt;o.setNumber(e+u,s,0)}}static embedVerticalSeparationPattern(e,s,o){for(let u=0;u<7;++u){if(!at.isEmpty(o.get(e,s+u)))throw new Wt;o.setNumber(e,s+u,0)}}static embedPositionAdjustmentPattern(e,s,o){for(let u=0;u<5;++u){const h=at.POSITION_ADJUSTMENT_PATTERN[u];for(let f=0;f<5;++f)o.setNumber(e+f,s+u,h[f])}}static embedPositionDetectionPattern(e,s,o){for(let u=0;u<7;++u){const h=at.POSITION_DETECTION_PATTERN[u];for(let f=0;f<7;++f)o.setNumber(e+f,s+u,h[f])}}static embedPositionDetectionPatternsAndSeparators(e){const s=at.POSITION_DETECTION_PATTERN[0].length;at.embedPositionDetectionPattern(0,0,e),at.embedPositionDetectionPattern(e.getWidth()-s,0,e),at.embedPositionDetectionPattern(0,e.getWidth()-s,e);const o=8;at.embedHorizontalSeparationPattern(0,o-1,e),at.embedHorizontalSeparationPattern(e.getWidth()-o,o-1,e),at.embedHorizontalSeparationPattern(0,e.getWidth()-o,e);const u=7;at.embedVerticalSeparationPattern(u,0,e),at.embedVerticalSeparationPattern(e.getHeight()-u-1,0,e),at.embedVerticalSeparationPattern(u,e.getHeight()-u,e)}static maybeEmbedPositionAdjustmentPatterns(e,s){if(e.getVersionNumber()<2)return;const o=e.getVersionNumber()-1,u=at.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[o];for(let h=0,f=u.length;h!==f;h++){const x=u[h];if(x>=0)for(let E=0;E!==f;E++){const C=u[E];C>=0&&at.isEmpty(s.get(C,x))&&at.embedPositionAdjustmentPattern(C-2,x-2,s)}}}}at.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),at.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),at.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),at.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),at.VERSION_INFO_POLY=7973,at.TYPE_INFO_POLY=1335,at.TYPE_INFO_MASK_PATTERN=21522;class Cd{constructor(e,s){this.dataBytes=e,this.errorCorrectionBytes=s}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Ht{constructor(){}static calculateMaskPenalty(e){return Zt.applyMaskPenaltyRule1(e)+Zt.applyMaskPenaltyRule2(e)+Zt.applyMaskPenaltyRule3(e)+Zt.applyMaskPenaltyRule4(e)}static encode(e,s,o=null){let u=Ht.DEFAULT_BYTE_MODE_ENCODING;const h=o!==null&&o.get(vn.CHARACTER_SET)!==void 0;h&&(u=o.get(vn.CHARACTER_SET).toString());const f=this.chooseMode(e,u),x=new $;if(f===nt.BYTE&&(h||Ht.DEFAULT_BYTE_MODE_ENCODING!==u)){const Pe=V.getCharacterSetECIByName(u);Pe!==void 0&&this.appendECI(Pe,x)}this.appendModeInfo(f,x);const E=new $;this.appendBytes(e,f,E,u);let C;if(o!==null&&o.get(vn.QR_VERSION)!==void 0){const Pe=Number.parseInt(o.get(vn.QR_VERSION).toString(),10);C=et.getVersionForNumber(Pe);const Ne=this.calculateBitsNeeded(f,x,E,C);if(!this.willFit(Ne,C,s))throw new Wt("Data too big for requested version")}else C=this.recommendVersion(s,f,x,E);const I=new $;I.appendBitArray(x);const D=f===nt.BYTE?E.getSizeInBytes():e.length;this.appendLengthInfo(D,C,f,I),I.appendBitArray(E);const B=C.getECBlocksForLevel(s),G=C.getTotalCodewords()-B.getTotalECCodewords();this.terminateBits(G,I);const Q=this.interleaveWithECBytes(I,C.getTotalCodewords(),G,B.getNumBlocks()),te=new $i;te.setECLevel(s),te.setMode(f),te.setVersion(C);const ae=C.getDimensionForVersion(),me=new $o(ae,ae),Oe=this.chooseMaskPattern(Q,s,C,me);return te.setMaskPattern(Oe),at.buildMatrix(Q,s,C,Oe,me),te.setMatrix(me),te}static recommendVersion(e,s,o,u){const h=this.calculateBitsNeeded(s,o,u,et.getVersionForNumber(1)),f=this.chooseVersion(h,e),x=this.calculateBitsNeeded(s,o,u,f);return this.chooseVersion(x,e)}static calculateBitsNeeded(e,s,o,u){return s.getSize()+e.getCharacterCountBits(u)+o.getSize()}static getAlphanumericCode(e){return e<Ht.ALPHANUMERIC_TABLE.length?Ht.ALPHANUMERIC_TABLE[e]:-1}static chooseMode(e,s=null){if(V.SJIS.getName()===s&&this.isOnlyDoubleByteKanji(e))return nt.KANJI;let o=!1,u=!1;for(let h=0,f=e.length;h<f;++h){const x=e.charAt(h);if(Ht.isDigit(x))o=!0;else if(this.getAlphanumericCode(x.charCodeAt(0))!==-1)u=!0;else return nt.BYTE}return u?nt.ALPHANUMERIC:o?nt.NUMERIC:nt.BYTE}static isOnlyDoubleByteKanji(e){let s;try{s=Ee.encode(e,V.SJIS)}catch{return!1}const o=s.length;if(o%2!==0)return!1;for(let u=0;u<o;u+=2){const h=s[u]&255;if((h<129||h>159)&&(h<224||h>235))return!1}return!0}static chooseMaskPattern(e,s,o,u){let h=Number.MAX_SAFE_INTEGER,f=-1;for(let x=0;x<$i.NUM_MASK_PATTERNS;x++){at.buildMatrix(e,s,o,x,u);let E=this.calculateMaskPenalty(u);E<h&&(h=E,f=x)}return f}static chooseVersion(e,s){for(let o=1;o<=40;o++){const u=et.getVersionForNumber(o);if(Ht.willFit(e,u,s))return u}throw new Wt("Data too big")}static willFit(e,s,o){const u=s.getTotalCodewords(),f=s.getECBlocksForLevel(o).getTotalECCodewords(),x=u-f,E=(e+7)/8;return x>=E}static terminateBits(e,s){const o=e*8;if(s.getSize()>o)throw new Wt("data bits cannot fit in the QR Code"+s.getSize()+" > "+o);for(let f=0;f<4&&s.getSize()<o;++f)s.appendBit(!1);const u=s.getSize()&7;if(u>0)for(let f=u;f<8;f++)s.appendBit(!1);const h=e-s.getSizeInBytes();for(let f=0;f<h;++f)s.appendBits((f&1)===0?236:17,8);if(s.getSize()!==o)throw new Wt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(e,s,o,u,h,f){if(u>=o)throw new Wt("Block ID too large");const x=e%o,E=o-x,C=Math.floor(e/o),I=C+1,D=Math.floor(s/o),B=D+1,G=C-D,Q=I-B;if(G!==Q)throw new Wt("EC bytes mismatch");if(o!==E+x)throw new Wt("RS blocks mismatch");if(e!==(D+G)*E+(B+Q)*x)throw new Wt("Total bytes mismatch");u<E?(h[0]=D,f[0]=G):(h[0]=B,f[0]=Q)}static interleaveWithECBytes(e,s,o,u){if(e.getSizeInBytes()!==o)throw new Wt("Number of bits and data bytes does not match");let h=0,f=0,x=0;const E=new Array;for(let I=0;I<u;++I){const D=new Int32Array(1),B=new Int32Array(1);Ht.getNumDataBytesAndNumECBytesForBlockID(s,o,u,I,D,B);const G=D[0],Q=new Uint8Array(G);e.toBytes(8*h,Q,0,G);const te=Ht.generateECBytes(Q,B[0]);E.push(new Cd(Q,te)),f=Math.max(f,G),x=Math.max(x,te.length),h+=D[0]}if(o!==h)throw new Wt("Data bytes does not match offset");const C=new $;for(let I=0;I<f;++I)for(const D of E){const B=D.getDataBytes();I<B.length&&C.appendBits(B[I],8)}for(let I=0;I<x;++I)for(const D of E){const B=D.getErrorCorrectionBytes();I<B.length&&C.appendBits(B[I],8)}if(s!==C.getSizeInBytes())throw new Wt("Interleaving error: "+s+" and "+C.getSizeInBytes()+" differ.");return C}static generateECBytes(e,s){const o=e.length,u=new Int32Array(o+s);for(let f=0;f<o;f++)u[f]=e[f]&255;new al(ot.QR_CODE_FIELD_256).encode(u,s);const h=new Uint8Array(s);for(let f=0;f<s;f++)h[f]=u[o+f];return h}static appendModeInfo(e,s){s.appendBits(e.getBits(),4)}static appendLengthInfo(e,s,o,u){const h=o.getCharacterCountBits(s);if(e>=1<<h)throw new Wt(e+" is bigger than "+((1<<h)-1));u.appendBits(e,h)}static appendBytes(e,s,o,u){switch(s){case nt.NUMERIC:Ht.appendNumericBytes(e,o);break;case nt.ALPHANUMERIC:Ht.appendAlphanumericBytes(e,o);break;case nt.BYTE:Ht.append8BitBytes(e,o,u);break;case nt.KANJI:Ht.appendKanjiBytes(e,o);break;default:throw new Wt("Invalid mode: "+s)}}static getDigit(e){return e.charCodeAt(0)-48}static isDigit(e){const s=Ht.getDigit(e);return s>=0&&s<=9}static appendNumericBytes(e,s){const o=e.length;let u=0;for(;u<o;){const h=Ht.getDigit(e.charAt(u));if(u+2<o){const f=Ht.getDigit(e.charAt(u+1)),x=Ht.getDigit(e.charAt(u+2));s.appendBits(h*100+f*10+x,10),u+=3}else if(u+1<o){const f=Ht.getDigit(e.charAt(u+1));s.appendBits(h*10+f,7),u+=2}else s.appendBits(h,4),u++}}static appendAlphanumericBytes(e,s){const o=e.length;let u=0;for(;u<o;){const h=Ht.getAlphanumericCode(e.charCodeAt(u));if(h===-1)throw new Wt;if(u+1<o){const f=Ht.getAlphanumericCode(e.charCodeAt(u+1));if(f===-1)throw new Wt;s.appendBits(h*45+f,11),u+=2}else s.appendBits(h,6),u++}}static append8BitBytes(e,s,o){let u;try{u=Ee.encode(e,o)}catch(h){throw new Wt(h)}for(let h=0,f=u.length;h!==f;h++){const x=u[h];s.appendBits(x,8)}}static appendKanjiBytes(e,s){let o;try{o=Ee.encode(e,V.SJIS)}catch(h){throw new Wt(h)}const u=o.length;for(let h=0;h<u;h+=2){const f=o[h]&255,x=o[h+1]&255,E=f<<8&4294967295|x;let C=-1;if(E>=33088&&E<=40956?C=E-33088:E>=57408&&E<=60351&&(C=E-49472),C===-1)throw new Wt("Invalid byte sequence");const I=(C>>8)*192+(C&255);s.appendBits(I,13)}}static appendECI(e,s){s.appendBits(nt.ECI.getBits(),4),s.appendBits(e.getValue(),8)}}Ht.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Ht.DEFAULT_BYTE_MODE_ENCODING=V.UTF8.getName();class Gi{write(e,s,o,u=null){if(e.length===0)throw new _("Found empty contents");if(s<0||o<0)throw new _("Requested dimensions are too small: "+s+"x"+o);let h=Vt.L,f=Gi.QUIET_ZONE_SIZE;u!==null&&(u.get(vn.ERROR_CORRECTION)!==void 0&&(h=Vt.fromString(u.get(vn.ERROR_CORRECTION).toString())),u.get(vn.MARGIN)!==void 0&&(f=Number.parseInt(u.get(vn.MARGIN).toString(),10)));const x=Ht.encode(e,h,u);return this.renderResult(x,s,o,f)}writeToDom(e,s,o,u,h=null){typeof e=="string"&&(e=document.querySelector(e));const f=this.write(s,o,u,h);e&&e.appendChild(f)}renderResult(e,s,o,u){const h=e.getMatrix();if(h===null)throw new De;const f=h.getWidth(),x=h.getHeight(),E=f+u*2,C=x+u*2,I=Math.max(s,E),D=Math.max(o,C),B=Math.min(Math.floor(I/E),Math.floor(D/C)),G=Math.floor((I-f*B)/2),Q=Math.floor((D-x*B)/2),te=this.createSVGElement(I,D);for(let ae=0,me=Q;ae<x;ae++,me+=B)for(let Oe=0,Pe=G;Oe<f;Oe++,Pe+=B)if(h.get(Oe,ae)===1){const Ne=this.createSvgRectElement(Pe,me,B,B);te.appendChild(Ne)}return te}createSVGElement(e,s){const o=document.createElementNS(Gi.SVG_NS,"svg");return o.setAttributeNS(null,"height",e.toString()),o.setAttributeNS(null,"width",s.toString()),o}createSvgRectElement(e,s,o,u){const h=document.createElementNS(Gi.SVG_NS,"rect");return h.setAttributeNS(null,"x",e.toString()),h.setAttributeNS(null,"y",s.toString()),h.setAttributeNS(null,"height",o.toString()),h.setAttributeNS(null,"width",u.toString()),h.setAttributeNS(null,"fill","#000000"),h}}Gi.QUIET_ZONE_SIZE=4,Gi.SVG_NS="http://www.w3.org/2000/svg";class gs{encode(e,s,o,u,h){if(e.length===0)throw new _("Found empty contents");if(s!==be.QR_CODE)throw new _("Can only encode QR_CODE, but got "+s);if(o<0||u<0)throw new _(`Requested dimensions are too small: ${o}x${u}`);let f=Vt.L,x=gs.QUIET_ZONE_SIZE;h!==null&&(h.get(vn.ERROR_CORRECTION)!==void 0&&(f=Vt.fromString(h.get(vn.ERROR_CORRECTION).toString())),h.get(vn.MARGIN)!==void 0&&(x=Number.parseInt(h.get(vn.MARGIN).toString(),10)));const E=Ht.encode(e,f,h);return gs.renderResult(E,o,u,x)}static renderResult(e,s,o,u){const h=e.getMatrix();if(h===null)throw new De;const f=h.getWidth(),x=h.getHeight(),E=f+u*2,C=x+u*2,I=Math.max(s,E),D=Math.max(o,C),B=Math.min(Math.floor(I/E),Math.floor(D/C)),G=Math.floor((I-f*B)/2),Q=Math.floor((D-x*B)/2),te=new Ce(I,D);for(let ae=0,me=Q;ae<x;ae++,me+=B)for(let Oe=0,Pe=G;Oe<f;Oe++,Pe+=B)h.get(Oe,ae)===1&&te.setRegion(Pe,me,B,B);return te}}gs.QUIET_ZONE_SIZE=4;class Sd{encode(e,s,o,u,h){let f;switch(s){case be.QR_CODE:f=new gs;break;default:throw new _("No encoder available for format "+s)}return f.encode(e,s,o,u,h)}}class Hr extends J{constructor(e,s,o,u,h,f,x,E){if(super(f,x),this.yuvData=e,this.dataWidth=s,this.dataHeight=o,this.left=u,this.top=h,u+f>s||h+x>o)throw new _("Crop rectangle does not fit within image data.");E&&this.reverseHorizontal(f,x)}getRow(e,s){if(e<0||e>=this.getHeight())throw new _("Requested row is outside the image: "+e);const o=this.getWidth();(s==null||s.length<o)&&(s=new Uint8ClampedArray(o));const u=(e+this.top)*this.dataWidth+this.left;return k.arraycopy(this.yuvData,u,s,0,o),s}getMatrix(){const e=this.getWidth(),s=this.getHeight();if(e===this.dataWidth&&s===this.dataHeight)return this.yuvData;const o=e*s,u=new Uint8ClampedArray(o);let h=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return k.arraycopy(this.yuvData,h,u,0,o),u;for(let f=0;f<s;f++){const x=f*e;k.arraycopy(this.yuvData,h,u,x,e),h+=this.dataWidth}return u}isCropSupported(){return!0}crop(e,s,o,u){return new Hr(this.yuvData,this.dataWidth,this.dataHeight,this.left+e,this.top+s,o,u,!1)}renderThumbnail(){const e=this.getWidth()/Hr.THUMBNAIL_SCALE_FACTOR,s=this.getHeight()/Hr.THUMBNAIL_SCALE_FACTOR,o=new Int32Array(e*s),u=this.yuvData;let h=this.top*this.dataWidth+this.left;for(let f=0;f<s;f++){const x=f*e;for(let E=0;E<e;E++){const C=u[h+E*Hr.THUMBNAIL_SCALE_FACTOR]&255;o[x+E]=4278190080|C*65793}h+=this.dataWidth*Hr.THUMBNAIL_SCALE_FACTOR}return o}getThumbnailWidth(){return this.getWidth()/Hr.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Hr.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(e,s){const o=this.yuvData;for(let u=0,h=this.top*this.dataWidth+this.left;u<s;u++,h+=this.dataWidth){const f=h+e/2;for(let x=h,E=h+e-1;x<f;x++,E--){const C=o[x];o[x]=o[E],o[E]=C}}}invert(){return new ne(this)}}Hr.THUMBNAIL_SCALE_FACTOR=2;class ro extends J{constructor(e,s,o,u,h,f,x){if(super(s,o),this.dataWidth=u,this.dataHeight=h,this.left=f,this.top=x,e.BYTES_PER_ELEMENT===4){const E=s*o,C=new Uint8ClampedArray(E);for(let I=0;I<E;I++){const D=e[I],B=D>>16&255,G=D>>7&510,Q=D&255;C[I]=(B+G+Q)/4&255}this.luminances=C}else this.luminances=e;if(u===void 0&&(this.dataWidth=s),h===void 0&&(this.dataHeight=o),f===void 0&&(this.left=0),x===void 0&&(this.top=0),this.left+s>this.dataWidth||this.top+o>this.dataHeight)throw new _("Crop rectangle does not fit within image data.")}getRow(e,s){if(e<0||e>=this.getHeight())throw new _("Requested row is outside the image: "+e);const o=this.getWidth();(s==null||s.length<o)&&(s=new Uint8ClampedArray(o));const u=(e+this.top)*this.dataWidth+this.left;return k.arraycopy(this.luminances,u,s,0,o),s}getMatrix(){const e=this.getWidth(),s=this.getHeight();if(e===this.dataWidth&&s===this.dataHeight)return this.luminances;const o=e*s,u=new Uint8ClampedArray(o);let h=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return k.arraycopy(this.luminances,h,u,0,o),u;for(let f=0;f<s;f++){const x=f*e;k.arraycopy(this.luminances,h,u,x,e),h+=this.dataWidth}return u}isCropSupported(){return!0}crop(e,s,o,u){return new ro(this.luminances,o,u,this.dataWidth,this.dataHeight,this.left+e,this.top+s)}invert(){return new ne(this)}}class fc extends V{static forName(e){return this.getCharacterSetECIByName(e)}}class ll{}ll.ISO_8859_1=V.ISO8859_1;class gc{isCompact(){return this.compact}setCompact(e){this.compact=e}getSize(){return this.size}setSize(e){this.size=e}getLayers(){return this.layers}setLayers(e){this.layers=e}getCodeWords(){return this.codeWords}setCodeWords(e){this.codeWords=e}getMatrix(){return this.matrix}setMatrix(e){this.matrix=e}}class cl{static singletonList(e){return[e]}static min(e,s){return e.sort(s)[0]}}class Ad{constructor(e){this.previous=e}getPrevious(){return this.previous}}class ps extends Ad{constructor(e,s,o){super(e),this.value=s,this.bitCount=o}appendTo(e,s){e.appendBits(this.value,this.bitCount)}add(e,s){return new ps(this,e,s)}addBinaryShift(e,s){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new ps(this,e,s)}toString(){let e=this.value&(1<<this.bitCount)-1;return e|=1<<this.bitCount,"<"+F.toBinaryString(e|1<<this.bitCount).substring(1)+">"}}class ul extends ps{constructor(e,s,o){super(e,0,0),this.binaryShiftStart=s,this.binaryShiftByteCount=o}appendTo(e,s){for(let o=0;o<this.binaryShiftByteCount;o++)(o===0||o===31&&this.binaryShiftByteCount<=62)&&(e.appendBits(31,5),this.binaryShiftByteCount>62?e.appendBits(this.binaryShiftByteCount-31,16):o===0?e.appendBits(Math.min(this.binaryShiftByteCount,31),5):e.appendBits(this.binaryShiftByteCount-31,5)),e.appendBits(s[this.binaryShiftStart+o],8)}addBinaryShift(e,s){return new ul(this,e,s)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function _d(P,e,s){return new ul(P,e,s)}function io(P,e,s){return new ps(P,e,s)}const Nd=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Ai=0,ms=1,Fn=2,pc=3,Tr=4,mc=new ps(null,0,0),Go=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function xc(P){for(let e of P)U.fill(e,-1);return P[Ai][Tr]=0,P[ms][Tr]=0,P[ms][Ai]=28,P[pc][Tr]=0,P[Fn][Tr]=0,P[Fn][Ai]=15,P}const dl=xc(U.createInt32Array(6,6));class Gn{constructor(e,s,o,u){this.token=e,this.mode=s,this.binaryShiftByteCount=o,this.bitCount=u}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(e,s){let o=this.bitCount,u=this.token;if(e!==this.mode){let f=Go[this.mode][e];u=io(u,f&65535,f>>16),o+=f>>16}let h=e===Fn?4:5;return u=io(u,s,h),new Gn(u,e,0,o+h)}shiftAndAppend(e,s){let o=this.token,u=this.mode===Fn?4:5;return o=io(o,dl[this.mode][e],u),o=io(o,s,5),new Gn(o,this.mode,0,this.bitCount+u+5)}addBinaryShiftChar(e){let s=this.token,o=this.mode,u=this.bitCount;if(this.mode===Tr||this.mode===Fn){let x=Go[o][Ai];s=io(s,x&65535,x>>16),u+=x>>16,o=Ai}let h=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,f=new Gn(s,o,this.binaryShiftByteCount+1,u+h);return f.binaryShiftByteCount===2078&&(f=f.endBinaryShift(e+1)),f}endBinaryShift(e){if(this.binaryShiftByteCount===0)return this;let s=this.token;return s=_d(s,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new Gn(s,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(e){let s=this.bitCount+(Go[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?s+=Gn.calculateBinaryShiftCost(e)-Gn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(s+=10),s<=e.bitCount}toBitArray(e){let s=[];for(let u=this.endBinaryShift(e.length).token;u!==null;u=u.getPrevious())s.unshift(u);let o=new $;for(const u of s)u.appendTo(o,e);return o}toString(){return ce.format("%s bits=%d bytes=%d",Nd[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0}}Gn.INITIAL_STATE=new Gn(mc,Ai,0,0);function Id(P){const e=ce.getCharCode(" "),s=ce.getCharCode("."),o=ce.getCharCode(",");P[Ai][e]=1;const u=ce.getCharCode("Z"),h=ce.getCharCode("A");for(let B=h;B<=u;B++)P[Ai][B]=B-h+2;P[ms][e]=1;const f=ce.getCharCode("z"),x=ce.getCharCode("a");for(let B=x;B<=f;B++)P[ms][B]=B-x+2;P[Fn][e]=1;const E=ce.getCharCode("9"),C=ce.getCharCode("0");for(let B=C;B<=E;B++)P[Fn][B]=B-C+2;P[Fn][o]=12,P[Fn][s]=13;const I=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let B=0;B<I.length;B++)P[pc][ce.getCharCode(I[B])]=B;const D=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let B=0;B<D.length;B++)ce.getCharCode(D[B])>0&&(P[Tr][ce.getCharCode(D[B])]=B);return P}const hl=Id(U.createInt32Array(5,256));class so{constructor(e){this.text=e}encode(){const e=ce.getCharCode(" "),s=ce.getCharCode(`
`);let o=cl.singletonList(Gn.INITIAL_STATE);for(let h=0;h<this.text.length;h++){let f,x=h+1<this.text.length?this.text[h+1]:0;switch(this.text[h]){case ce.getCharCode("\r"):f=x===s?2:0;break;case ce.getCharCode("."):f=x===e?3:0;break;case ce.getCharCode(","):f=x===e?4:0;break;case ce.getCharCode(":"):f=x===e?5:0;break;default:f=0}f>0?(o=so.updateStateListForPair(o,h,f),h++):o=this.updateStateListForChar(o,h)}return cl.min(o,(h,f)=>h.getBitCount()-f.getBitCount()).toBitArray(this.text)}updateStateListForChar(e,s){const o=[];for(let u of e)this.updateStateForChar(u,s,o);return so.simplifyStates(o)}updateStateForChar(e,s,o){let u=this.text[s]&255,h=hl[e.getMode()][u]>0,f=null;for(let x=0;x<=Tr;x++){let E=hl[x][u];if(E>0){if(f==null&&(f=e.endBinaryShift(s)),!h||x===e.getMode()||x===Fn){const C=f.latchAndAppend(x,E);o.push(C)}if(!h&&dl[e.getMode()][x]>=0){const C=f.shiftAndAppend(x,E);o.push(C)}}}if(e.getBinaryShiftByteCount()>0||hl[e.getMode()][u]===0){let x=e.addBinaryShiftChar(s);o.push(x)}}static updateStateListForPair(e,s,o){const u=[];for(let h of e)this.updateStateForPair(h,s,o,u);return this.simplifyStates(u)}static updateStateForPair(e,s,o,u){let h=e.endBinaryShift(s);if(u.push(h.latchAndAppend(Tr,o)),e.getMode()!==Tr&&u.push(h.shiftAndAppend(Tr,o)),o===3||o===4){let f=h.latchAndAppend(Fn,16-o).latchAndAppend(Fn,1);u.push(f)}if(e.getBinaryShiftByteCount()>0){let f=e.addBinaryShiftChar(s).addBinaryShiftChar(s+1);u.push(f)}}static simplifyStates(e){let s=[];for(const o of e){let u=!0;for(const h of s){if(h.isBetterThanOrEqualTo(o)){u=!1;break}o.isBetterThanOrEqualTo(h)&&(s=s.filter(f=>f!==h))}u&&s.push(o)}return s}}class Pt{constructor(){}static encodeBytes(e){return Pt.encode(e,Pt.DEFAULT_EC_PERCENT,Pt.DEFAULT_AZTEC_LAYERS)}static encode(e,s,o){let u=new so(e).encode(),h=F.truncDivision(u.getSize()*s,100)+11,f=u.getSize()+h,x,E,C,I,D;if(o!==Pt.DEFAULT_AZTEC_LAYERS){if(x=o<0,E=Math.abs(o),E>(x?Pt.MAX_NB_BITS_COMPACT:Pt.MAX_NB_BITS))throw new _(ce.format("Illegal value %s for layers",o));C=Pt.totalBitsInLayer(E,x),I=Pt.WORD_SIZE[E];let Ne=C-C%I;if(D=Pt.stuffBits(u,I),D.getSize()+h>Ne)throw new _("Data to large for user specified layer");if(x&&D.getSize()>I*64)throw new _("Data to large for user specified layer")}else{I=0,D=null;for(let Ne=0;;Ne++){if(Ne>Pt.MAX_NB_BITS)throw new _("Data too large for an Aztec code");if(x=Ne<=3,E=x?Ne+1:Ne,C=Pt.totalBitsInLayer(E,x),f>C)continue;(D==null||I!==Pt.WORD_SIZE[E])&&(I=Pt.WORD_SIZE[E],D=Pt.stuffBits(u,I));let At=C-C%I;if(!(x&&D.getSize()>I*64)&&D.getSize()+h<=At)break}}let B=Pt.generateCheckWords(D,C,I),G=D.getSize()/I,Q=Pt.generateModeMessage(x,E,G),te=(x?11:14)+E*4,ae=new Int32Array(te),me;if(x){me=te;for(let Ne=0;Ne<ae.length;Ne++)ae[Ne]=Ne}else{me=te+1+2*F.truncDivision(F.truncDivision(te,2)-1,15);let Ne=F.truncDivision(te,2),At=F.truncDivision(me,2);for(let mt=0;mt<Ne;mt++){let nr=mt+F.truncDivision(mt,15);ae[Ne-mt-1]=At-nr-1,ae[Ne+mt]=At+nr+1}}let Oe=new Ce(me);for(let Ne=0,At=0;Ne<E;Ne++){let mt=(E-Ne)*4+(x?9:12);for(let nr=0;nr<mt;nr++){let Rr=nr*2;for(let bn=0;bn<2;bn++)B.get(At+Rr+bn)&&Oe.set(ae[Ne*2+bn],ae[Ne*2+nr]),B.get(At+mt*2+Rr+bn)&&Oe.set(ae[Ne*2+nr],ae[te-1-Ne*2-bn]),B.get(At+mt*4+Rr+bn)&&Oe.set(ae[te-1-Ne*2-bn],ae[te-1-Ne*2-nr]),B.get(At+mt*6+Rr+bn)&&Oe.set(ae[te-1-Ne*2-nr],ae[Ne*2+bn])}At+=mt*8}if(Pt.drawModeMessage(Oe,x,me,Q),x)Pt.drawBullsEye(Oe,F.truncDivision(me,2),5);else{Pt.drawBullsEye(Oe,F.truncDivision(me,2),7);for(let Ne=0,At=0;Ne<F.truncDivision(te,2)-1;Ne+=15,At+=16)for(let mt=F.truncDivision(me,2)&1;mt<me;mt+=2)Oe.set(F.truncDivision(me,2)-At,mt),Oe.set(F.truncDivision(me,2)+At,mt),Oe.set(mt,F.truncDivision(me,2)-At),Oe.set(mt,F.truncDivision(me,2)+At)}let Pe=new gc;return Pe.setCompact(x),Pe.setSize(me),Pe.setLayers(E),Pe.setCodeWords(G),Pe.setMatrix(Oe),Pe}static drawBullsEye(e,s,o){for(let u=0;u<o;u+=2)for(let h=s-u;h<=s+u;h++)e.set(h,s-u),e.set(h,s+u),e.set(s-u,h),e.set(s+u,h);e.set(s-o,s-o),e.set(s-o+1,s-o),e.set(s-o,s-o+1),e.set(s+o,s-o),e.set(s+o,s-o+1),e.set(s+o,s+o-1)}static generateModeMessage(e,s,o){let u=new $;return e?(u.appendBits(s-1,2),u.appendBits(o-1,6),u=Pt.generateCheckWords(u,28,4)):(u.appendBits(s-1,5),u.appendBits(o-1,11),u=Pt.generateCheckWords(u,40,4)),u}static drawModeMessage(e,s,o,u){let h=F.truncDivision(o,2);if(s)for(let f=0;f<7;f++){let x=h-3+f;u.get(f)&&e.set(x,h-5),u.get(f+7)&&e.set(h+5,x),u.get(20-f)&&e.set(x,h+5),u.get(27-f)&&e.set(h-5,x)}else for(let f=0;f<10;f++){let x=h-5+f+F.truncDivision(f,5);u.get(f)&&e.set(x,h-7),u.get(f+10)&&e.set(h+7,x),u.get(29-f)&&e.set(x,h+7),u.get(39-f)&&e.set(h-7,x)}}static generateCheckWords(e,s,o){let u=e.getSize()/o,h=new al(Pt.getGF(o)),f=F.truncDivision(s,o),x=Pt.bitsToWords(e,o,f);h.encode(x,f-u);let E=s%o,C=new $;C.appendBits(0,E);for(const I of Array.from(x))C.appendBits(I,o);return C}static bitsToWords(e,s,o){let u=new Int32Array(o),h,f;for(h=0,f=e.getSize()/s;h<f;h++){let x=0;for(let E=0;E<s;E++)x|=e.get(h*s+E)?1<<s-E-1:0;u[h]=x}return u}static getGF(e){switch(e){case 4:return ot.AZTEC_PARAM;case 6:return ot.AZTEC_DATA_6;case 8:return ot.AZTEC_DATA_8;case 10:return ot.AZTEC_DATA_10;case 12:return ot.AZTEC_DATA_12;default:throw new _("Unsupported word size "+e)}}static stuffBits(e,s){let o=new $,u=e.getSize(),h=(1<<s)-2;for(let f=0;f<u;f+=s){let x=0;for(let E=0;E<s;E++)(f+E>=u||e.get(f+E))&&(x|=1<<s-1-E);(x&h)===h?(o.appendBits(x&h,s),f--):(x&h)===0?(o.appendBits(x|1,s),f--):o.appendBits(x,s)}return o}static totalBitsInLayer(e,s){return((s?88:112)+16*e)*e}}Pt.DEFAULT_EC_PERCENT=33,Pt.DEFAULT_AZTEC_LAYERS=0,Pt.MAX_NB_BITS=32,Pt.MAX_NB_BITS_COMPACT=4,Pt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class oo{encode(e,s,o,u){return this.encodeWithHints(e,s,o,u,null)}encodeWithHints(e,s,o,u,h){let f=ll.ISO_8859_1,x=Pt.DEFAULT_EC_PERCENT,E=Pt.DEFAULT_AZTEC_LAYERS;return h!=null&&(h.has(vn.CHARACTER_SET)&&(f=fc.forName(h.get(vn.CHARACTER_SET).toString())),h.has(vn.ERROR_CORRECTION)&&(x=F.parseInt(h.get(vn.ERROR_CORRECTION).toString())),h.has(vn.AZTEC_LAYERS)&&(E=F.parseInt(h.get(vn.AZTEC_LAYERS).toString()))),oo.encodeLayers(e,s,o,u,f,x,E)}static encodeLayers(e,s,o,u,h,f,x){if(s!==be.AZTEC)throw new _("Can only encode AZTEC, but got "+s);let E=Pt.encode(ce.getBytes(e,h),f,x);return oo.renderResult(E,o,u)}static renderResult(e,s,o){let u=e.getMatrix();if(u==null)throw new De;let h=u.getWidth(),f=u.getHeight(),x=Math.max(s,h),E=Math.max(o,f),C=Math.min(x/h,E/f),I=(x-h*C)/2,D=(E-f*C)/2,B=new Ce(x,E);for(let G=0,Q=D;G<f;G++,Q+=C)for(let te=0,ae=I;te<h;te++,ae+=C)u.get(te,G)&&B.setRegion(ae,Q,C,C);return B}}n.AbstractExpandedDecoder=Za,n.ArgumentException=A,n.ArithmeticException=St,n.AztecCode=gc,n.AztecCodeReader=bi,n.AztecCodeWriter=oo,n.AztecDecoder=qe,n.AztecDetector=Wn,n.AztecDetectorResult=zi,n.AztecEncoder=Pt,n.AztecHighLevelEncoder=so,n.AztecPoint=It,n.BarcodeFormat=be,n.Binarizer=M,n.BinaryBitmap=O,n.BitArray=$,n.BitMatrix=Ce,n.BitSource=el,n.BrowserAztecCodeReader=bd,n.BrowserBarcodeReader=oc,n.BrowserCodeReader=Ae,n.BrowserDatamatrixCodeReader=Ed,n.BrowserMultiFormatReader=no,n.BrowserPDF417Reader=Ho,n.BrowserQRCodeReader=hc,n.BrowserQRCodeSvgWriter=Gi,n.CharacterSetECI=V,n.ChecksumException=R,n.Code128Reader=Me,n.Code39Reader=wn,n.DataMatrixDecodedBitStreamParser=_r,n.DataMatrixReader=Nr,n.DecodeHintType=Z,n.DecoderResult=We,n.DefaultGridSampler=Fr,n.DetectorResult=fr,n.EAN13Reader=gr,n.EncodeHintType=vn,n.Exception=y,n.FormatException=H,n.GenericGF=ot,n.GenericGFPoly=st,n.GlobalHistogramBinarizer=he,n.GridSampler=Qn,n.GridSamplerInstance=Ct,n.HTMLCanvasElementLuminanceSource=oe,n.HybridBinarizer=se,n.ITFReader=Bt,n.IllegalArgumentException=_,n.IllegalStateException=De,n.InvertedLuminanceSource=ne,n.LuminanceSource=J,n.MathUtils=tt,n.MultiFormatOneDReader=ls,n.MultiFormatReader=Wo,n.MultiFormatWriter=Sd,n.NotFoundException=ie,n.OneDReader=on,n.PDF417DecodedBitStreamParser=xe,n.PDF417DecoderErrorCorrection=rl,n.PDF417Reader=On,n.PDF417ResultMetadata=zo,n.PerspectiveTransform=Ln,n.PlanarYUVLuminanceSource=Hr,n.QRCodeByteMatrix=$o,n.QRCodeDataMask=bt,n.QRCodeDecodedBitStreamParser=Yt,n.QRCodeDecoderErrorCorrectionLevel=Vt,n.QRCodeDecoderFormatInformation=Tn,n.QRCodeEncoder=Ht,n.QRCodeEncoderQRCode=$i,n.QRCodeMaskUtil=Zt,n.QRCodeMatrixUtil=at,n.QRCodeMode=nt,n.QRCodeReader=$n,n.QRCodeVersion=et,n.QRCodeWriter=gs,n.RGBLuminanceSource=ro,n.RSS14Reader=$t,n.RSSExpandedReader=Se,n.ReaderException=fs,n.ReedSolomonDecoder=Be,n.ReedSolomonEncoder=al,n.ReedSolomonException=hn,n.Result=ke,n.ResultMetadataType=Te,n.ResultPoint=Le,n.StringUtils=ce,n.UnsupportedOperationException=ge,n.VideoInputDevice=Y,n.WhiteRectangleDetector=Zn,n.WriterException=Wt,n.ZXingArrays=U,n.ZXingCharset=fc,n.ZXingInteger=F,n.ZXingStandardCharsets=ll,n.ZXingStringBuilder=ve,n.ZXingStringEncoding=Ee,n.ZXingSystem=k,n.createAbstractExpandedDecoder=ic,Object.defineProperty(n,"__esModule",{value:!0})}))})(Fl,Fl.exports)),Fl.exports}var nn=Y4();const Z4=Yl(nn),Q4=x0({__proto__:null,default:Z4},[nn]);var _m=(function(){function r(t,n,a){if(this.formatMap=new Map([[ze.QR_CODE,nn.BarcodeFormat.QR_CODE],[ze.AZTEC,nn.BarcodeFormat.AZTEC],[ze.CODABAR,nn.BarcodeFormat.CODABAR],[ze.CODE_39,nn.BarcodeFormat.CODE_39],[ze.CODE_93,nn.BarcodeFormat.CODE_93],[ze.CODE_128,nn.BarcodeFormat.CODE_128],[ze.DATA_MATRIX,nn.BarcodeFormat.DATA_MATRIX],[ze.MAXICODE,nn.BarcodeFormat.MAXICODE],[ze.ITF,nn.BarcodeFormat.ITF],[ze.EAN_13,nn.BarcodeFormat.EAN_13],[ze.EAN_8,nn.BarcodeFormat.EAN_8],[ze.PDF_417,nn.BarcodeFormat.PDF_417],[ze.RSS_14,nn.BarcodeFormat.RSS_14],[ze.RSS_EXPANDED,nn.BarcodeFormat.RSS_EXPANDED],[ze.UPC_A,nn.BarcodeFormat.UPC_A],[ze.UPC_E,nn.BarcodeFormat.UPC_E],[ze.UPC_EAN_EXTENSION,nn.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!Q4)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=a;var c=this.createZXingFormats(t),d=new Map;d.set(nn.DecodeHintType.POSSIBLE_FORMATS,c),d.set(nn.DecodeHintType.TRY_HARDER,!1),this.hints=d}return r.prototype.decodeAsync=function(t){var n=this;return new Promise(function(a,c){try{a(n.decode(t))}catch(d){c(d)}})},r.prototype.decode=function(t){var n=new nn.MultiFormatReader(this.verbose,this.hints),a=new nn.HTMLCanvasElementLuminanceSource(t),c=new nn.BinaryBitmap(new nn.HybridBinarizer(a)),d=n.decode(c);return{text:d.text,format:Dv.create(this.toHtml5QrcodeSupportedFormats(d.format)),debugData:this.createDebugData()}},r.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,a,c){t.set(n,a)}),t},r.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},r.prototype.createZXingFormats=function(t){for(var n=[],a=0,c=t;a<c.length;a++){var d=c[a];this.formatMap.has(d)?n.push(this.formatMap.get(d)):this.logger.logError("".concat(d," is not supported by")+"ZXingHtml5QrcodeShim")}return n},r.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},r})(),J4=function(r,t,n,a){function c(d){return d instanceof n?d:new n(function(p){p(d)})}return new(n||(n=Promise))(function(d,p){function w(A){try{y(a.next(A))}catch(_){p(_)}}function b(A){try{y(a.throw(A))}catch(_){p(_)}}function y(A){A.done?d(A.value):c(A.value).then(w,b)}y((a=a.apply(r,t||[])).next())})},eT=function(r,t){var n={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},a,c,d,p;return p={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function w(y){return function(A){return b([y,A])}}function b(y){if(a)throw new TypeError("Generator is already executing.");for(;p&&(p=0,y[0]&&(n=0)),n;)try{if(a=1,c&&(d=y[0]&2?c.return:y[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,y[1])).done)return d;switch(c=0,d&&(y=[y[0]&2,d.value]),y[0]){case 0:case 1:d=y;break;case 4:return n.label++,{value:y[1],done:!1};case 5:n.label++,c=y[1],y=[0];continue;case 7:y=n.ops.pop(),n.trys.pop();continue;default:if(d=n.trys,!(d=d.length>0&&d[d.length-1])&&(y[0]===6||y[0]===2)){n=0;continue}if(y[0]===3&&(!d||y[1]>d[0]&&y[1]<d[3])){n.label=y[1];break}if(y[0]===6&&n.label<d[1]){n.label=d[1],d=y;break}if(d&&n.label<d[2]){n.label=d[2],n.ops.push(y);break}d[2]&&n.ops.pop(),n.trys.pop();continue}y=t.call(r,n)}catch(A){y=[6,A],c=0}finally{a=d=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},Nm=(function(){function r(t,n,a){if(this.formatMap=new Map([[ze.QR_CODE,"qr_code"],[ze.AZTEC,"aztec"],[ze.CODABAR,"codabar"],[ze.CODE_39,"code_39"],[ze.CODE_93,"code_93"],[ze.CODE_128,"code_128"],[ze.DATA_MATRIX,"data_matrix"],[ze.ITF,"itf"],[ze.EAN_13,"ean_13"],[ze.EAN_8,"ean_8"],[ze.PDF_417,"pdf417"],[ze.UPC_A,"upc_a"],[ze.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!r.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=a;var c=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(c),!this.detector)throw"BarcodeDetector detector not supported"}return r.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},r.prototype.decodeAsync=function(t){return J4(this,void 0,void 0,function(){var n,a;return eT(this,function(c){switch(c.label){case 0:return[4,this.detector.detect(t)];case 1:if(n=c.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return a=this.selectLargestBarcode(n),[2,{text:a.rawValue,format:Dv.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}]}})})},r.prototype.selectLargestBarcode=function(t){for(var n=null,a=0,c=0,d=t;c<d.length;c++){var p=d[c],w=p.boundingBox.width*p.boundingBox.height;w>a&&(a=w,n=p)}if(!n)throw"No largest barcode found";return n},r.prototype.createBarcodeDetectorFormats=function(t){for(var n=[],a=0,c=t;a<c.length;a++){var d=c[a];this.formatMap.has(d)?n.push(this.formatMap.get(d)):this.logger.warn("".concat(d," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},r.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},r.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,a,c){t.set(n,a)}),t},r.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},r})(),Im=function(r,t,n,a){function c(d){return d instanceof n?d:new n(function(p){p(d)})}return new(n||(n=Promise))(function(d,p){function w(A){try{y(a.next(A))}catch(_){p(_)}}function b(A){try{y(a.throw(A))}catch(_){p(_)}}function y(A){A.done?d(A.value):c(A.value).then(w,b)}y((a=a.apply(r,t||[])).next())})},Tm=function(r,t){var n={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},a,c,d,p;return p={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function w(y){return function(A){return b([y,A])}}function b(y){if(a)throw new TypeError("Generator is already executing.");for(;p&&(p=0,y[0]&&(n=0)),n;)try{if(a=1,c&&(d=y[0]&2?c.return:y[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,y[1])).done)return d;switch(c=0,d&&(y=[y[0]&2,d.value]),y[0]){case 0:case 1:d=y;break;case 4:return n.label++,{value:y[1],done:!1};case 5:n.label++,c=y[1],y=[0];continue;case 7:y=n.ops.pop(),n.trys.pop();continue;default:if(d=n.trys,!(d=d.length>0&&d[d.length-1])&&(y[0]===6||y[0]===2)){n=0;continue}if(y[0]===3&&(!d||y[1]>d[0]&&y[1]<d[3])){n.label=y[1];break}if(y[0]===6&&n.label<d[1]){n.label=d[1],d=y;break}if(d&&n.label<d[2]){n.label=d[2],n.ops.push(y);break}d[2]&&n.ops.pop(),n.trys.pop();continue}y=t.call(r,n)}catch(A){y=[6,A],c=0}finally{a=d=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},tT=(function(){function r(t,n,a,c){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=a,n&&Nm.isSupported()?(this.primaryDecoder=new Nm(t,a,c),this.secondaryDecoder=new _m(t,a,c)):this.primaryDecoder=new _m(t,a,c)}return r.prototype.decodeAsync=function(t){return Im(this,void 0,void 0,function(){var n;return Tm(this,function(a){switch(a.label){case 0:n=performance.now(),a.label=1;case 1:return a.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,a.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},r.prototype.decodeRobustlyAsync=function(t){return Im(this,void 0,void 0,function(){var n,a;return Tm(this,function(c){switch(c.label){case 0:n=performance.now(),c.label=1;case 1:return c.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,c.sent()];case 3:if(a=c.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw a;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},r.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},r.prototype.possiblyLogPerformance=function(t){if(this.verbose){var n=performance.now()-t;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},r.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,n=0,a=this.executionResults;n<a.length;n++){var c=a[n];t+=c}var d=t/this.executionResults.length;console.log("".concat(d," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},r})(),t1=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])},r(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Zu=function(r,t,n,a){function c(d){return d instanceof n?d:new n(function(p){p(d)})}return new(n||(n=Promise))(function(d,p){function w(A){try{y(a.next(A))}catch(_){p(_)}}function b(A){try{y(a.throw(A))}catch(_){p(_)}}function y(A){A.done?d(A.value):c(A.value).then(w,b)}y((a=a.apply(r,t||[])).next())})},Qu=function(r,t){var n={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},a,c,d,p;return p={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function w(y){return function(A){return b([y,A])}}function b(y){if(a)throw new TypeError("Generator is already executing.");for(;p&&(p=0,y[0]&&(n=0)),n;)try{if(a=1,c&&(d=y[0]&2?c.return:y[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,y[1])).done)return d;switch(c=0,d&&(y=[y[0]&2,d.value]),y[0]){case 0:case 1:d=y;break;case 4:return n.label++,{value:y[1],done:!1};case 5:n.label++,c=y[1],y=[0];continue;case 7:y=n.ops.pop(),n.trys.pop();continue;default:if(d=n.trys,!(d=d.length>0&&d[d.length-1])&&(y[0]===6||y[0]===2)){n=0;continue}if(y[0]===3&&(!d||y[1]>d[0]&&y[1]<d[3])){n.label=y[1];break}if(y[0]===6&&n.label<d[1]){n.label=d[1],d=y;break}if(d&&n.label<d[2]){n.label=d[2],n.ops.push(y);break}d[2]&&n.ops.pop(),n.trys.pop();continue}y=t.call(r,n)}catch(A){y=[6,A],c=0}finally{a=d=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},Mv=(function(){function r(t,n){this.name=t,this.track=n}return r.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},r.prototype.apply=function(t){var n={};n[this.name]=t;var a={advanced:[n]};return this.track.applyConstraints(a)},r.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var n=t[this.name];return n}return null},r})(),nT=(function(r){t1(t,r);function t(n,a){return r.call(this,n,a)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(n){var a={};a[this.name]=n;var c={advanced:[a]};return this.track.applyConstraints(c)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),a=n[this.name];return{min:a.min,max:a.max,step:a.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t})(Mv),rT=(function(r){t1(t,r);function t(n){return r.call(this,"zoom",n)||this}return t})(nT),iT=(function(r){t1(t,r);function t(n){return r.call(this,"torch",n)||this}return t})(Mv),sT=(function(){function r(t){this.track=t}return r.prototype.zoomFeature=function(){return new rT(this.track)},r.prototype.torchFeature=function(){return new iT(this.track)},r})(),oT=(function(){function r(t,n,a){this.isClosed=!1,this.parentElement=t,this.mediaStream=n,this.callbacks=a,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return r.prototype.createVideoElement=function(t){var n=document.createElement("video");return n.style.width="".concat(t,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},r.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var a=t.surface.clientWidth,c=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(a,c),t.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},r.create=function(t,n,a,c){return Zu(this,void 0,void 0,function(){var d,p;return Qu(this,function(w){switch(w.label){case 0:return d=new r(t,n,c),a.aspectRatio?(p={aspectRatio:a.aspectRatio},[4,d.getFirstTrackOrFail().applyConstraints(p)]):[3,2];case 1:w.sent(),w.label=2;case 2:return d.setupSurface(),[2,d]}})})},r.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},r.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},r.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},r.prototype.resume=function(t){this.failIfClosed();var n=this,a=function(){setTimeout(t,200),n.surface.removeEventListener("playing",a)};this.surface.addEventListener("playing",a),this.surface.play()},r.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},r.prototype.getSurface=function(){return this.failIfClosed(),this.surface},r.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},r.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},r.prototype.applyVideoConstraints=function(t){return Zu(this,void 0,void 0,function(){return Qu(this,function(n){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},r.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(n,a){var c=t.mediaStream.getVideoTracks(),d=c.length,p=0;t.mediaStream.getVideoTracks().forEach(function(w){t.mediaStream.removeTrack(w),w.stop(),++p,p>=d&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),n())})})},r.prototype.getCapabilities=function(){return new sT(this.getFirstTrackOrFail())},r})(),aT=(function(){function r(t){this.mediaStream=t}return r.prototype.render=function(t,n,a){return Zu(this,void 0,void 0,function(){return Qu(this,function(c){return[2,oT.create(t,this.mediaStream,n,a)]})})},r.create=function(t){return Zu(this,void 0,void 0,function(){var n,a;return Qu(this,function(c){switch(c.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return a=c.sent(),[2,new r(a)]}})})},r})(),Rm=function(r,t,n,a){function c(d){return d instanceof n?d:new n(function(p){p(d)})}return new(n||(n=Promise))(function(d,p){function w(A){try{y(a.next(A))}catch(_){p(_)}}function b(A){try{y(a.throw(A))}catch(_){p(_)}}function y(A){A.done?d(A.value):c(A.value).then(w,b)}y((a=a.apply(r,t||[])).next())})},km=function(r,t){var n={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},a,c,d,p;return p={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function w(y){return function(A){return b([y,A])}}function b(y){if(a)throw new TypeError("Generator is already executing.");for(;p&&(p=0,y[0]&&(n=0)),n;)try{if(a=1,c&&(d=y[0]&2?c.return:y[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,y[1])).done)return d;switch(c=0,d&&(y=[y[0]&2,d.value]),y[0]){case 0:case 1:d=y;break;case 4:return n.label++,{value:y[1],done:!1};case 5:n.label++,c=y[1],y=[0];continue;case 7:y=n.ops.pop(),n.trys.pop();continue;default:if(d=n.trys,!(d=d.length>0&&d[d.length-1])&&(y[0]===6||y[0]===2)){n=0;continue}if(y[0]===3&&(!d||y[1]>d[0]&&y[1]<d[3])){n.label=y[1];break}if(y[0]===6&&n.label<d[1]){n.label=d[1],d=y;break}if(d&&n.label<d[2]){n.label=d[2],n.ops.push(y);break}d[2]&&n.ops.pop(),n.trys.pop();continue}y=t.call(r,n)}catch(A){y=[6,A],c=0}finally{a=d=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},lT=(function(){function r(){}return r.failIfNotSupported=function(){return Rm(this,void 0,void 0,function(){return km(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new r]})})},r.prototype.create=function(t){return Rm(this,void 0,void 0,function(){return km(this,function(n){return[2,aT.create(t)]})})},r})(),cT=function(r,t,n,a){function c(d){return d instanceof n?d:new n(function(p){p(d)})}return new(n||(n=Promise))(function(d,p){function w(A){try{y(a.next(A))}catch(_){p(_)}}function b(A){try{y(a.throw(A))}catch(_){p(_)}}function y(A){A.done?d(A.value):c(A.value).then(w,b)}y((a=a.apply(r,t||[])).next())})},uT=function(r,t){var n={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},a,c,d,p;return p={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function w(y){return function(A){return b([y,A])}}function b(y){if(a)throw new TypeError("Generator is already executing.");for(;p&&(p=0,y[0]&&(n=0)),n;)try{if(a=1,c&&(d=y[0]&2?c.return:y[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,y[1])).done)return d;switch(c=0,d&&(y=[y[0]&2,d.value]),y[0]){case 0:case 1:d=y;break;case 4:return n.label++,{value:y[1],done:!1};case 5:n.label++,c=y[1],y=[0];continue;case 7:y=n.ops.pop(),n.trys.pop();continue;default:if(d=n.trys,!(d=d.length>0&&d[d.length-1])&&(y[0]===6||y[0]===2)){n=0;continue}if(y[0]===3&&(!d||y[1]>d[0]&&y[1]<d[3])){n.label=y[1];break}if(y[0]===6&&n.label<d[1]){n.label=d[1],d=y;break}if(d&&n.label<d[2]){n.label=d[2],n.ops.push(y);break}d[2]&&n.ops.pop(),n.trys.pop();continue}y=t.call(r,n)}catch(A){y=[6,A],c=0}finally{a=d=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},dT=(function(){function r(){}return r.retrieve=function(){if(navigator.mediaDevices)return r.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?r.getCamerasFromMediaStreamTrack():r.rejectWithError()},r.rejectWithError=function(){var t=Sa.unableToQuerySupportedDevices();return r.isHttpsOrLocalhost()||(t=Sa.insecureContextCameraQueryError()),Promise.reject(t)},r.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},r.getCamerasFromMediaDevices=function(){return cT(this,void 0,void 0,function(){var t,n,a,c,d,p,w;return uT(this,function(b){switch(b.label){case 0:return t=function(y){for(var A=y.getVideoTracks(),_=0,O=A;_<O.length;_++){var R=O[_];R.enabled=!1,R.stop(),y.removeTrack(R)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=b.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(a=b.sent(),c=[],d=0,p=a;d<p.length;d++)w=p[d],w.kind==="videoinput"&&c.push({id:w.deviceId,label:w.label});return t(n),[2,c]}})})},r.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,n){var a=function(d){for(var p=[],w=0,b=d;w<b.length;w++){var y=b[w];y.kind==="video"&&p.push({id:y.id,label:y.label})}t(p)},c=MediaStreamTrack;c.getSources(a)})},r})(),xn;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.NOT_STARTED=1]="NOT_STARTED",r[r.SCANNING=2]="SCANNING",r[r.PAUSED=3]="PAUSED"})(xn||(xn={}));var hT=(function(){function r(){this.state=xn.NOT_STARTED,this.onGoingTransactionNewState=xn.UNKNOWN}return r.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},r.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},r.prototype.execute=function(){if(this.onGoingTransactionNewState===xn.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=xn.UNKNOWN,this.directTransition(t)},r.prototype.cancel=function(){if(this.onGoingTransactionNewState===xn.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=xn.UNKNOWN},r.prototype.getState=function(){return this.state},r.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==xn.UNKNOWN)throw"Cannot transition to a new state, already under transition"},r.prototype.validateTransition=function(t){switch(this.state){case xn.UNKNOWN:throw"Transition from unknown is not allowed";case xn.NOT_STARTED:this.failIfNewStateIs(t,[xn.PAUSED]);break;case xn.SCANNING:break;case xn.PAUSED:break}},r.prototype.failIfNewStateIs=function(t,n){for(var a=0,c=n;a<c.length;a++){var d=c[a];if(t===d)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},r})(),fT=(function(){function r(t){this.stateManager=t}return r.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},r.prototype.directTransition=function(t){this.stateManager.directTransition(t)},r.prototype.getState=function(){return this.stateManager.getState()},r.prototype.canScanFile=function(){return this.stateManager.getState()===xn.NOT_STARTED},r.prototype.isScanning=function(){return this.stateManager.getState()!==xn.NOT_STARTED},r.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===xn.SCANNING},r.prototype.isPaused=function(){return this.stateManager.getState()===xn.PAUSED},r})(),gT=(function(){function r(){}return r.create=function(){return new fT(new hT)},r})(),pT=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])},r(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Dr=(function(r){pT(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t})(G4),mT=(function(){function r(t,n){this.logger=n,this.fps=Dr.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=Dr.DEFAULT_DISABLE_FLIP}return r.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?jv.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},r.prototype.isShadedBoxEnabled=function(){return!rs(this.qrbox)},r.create=function(t,n){return new r(t,n)},r})(),xT=(function(){function r(t,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var a;typeof n=="boolean"?this.verbose=n===!0:n&&(a=n,this.verbose=a.verbose===!0,a.experimentalFeatures),this.logger=new X4(this.verbose),this.qrcode=new tT(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(a),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=gT.create()}return r.prototype.start=function(t,n,a,c){var d=this;if(!t)throw"cameraIdOrConfig is required";if(!a||typeof a!="function")throw"qrCodeSuccessCallback is required and should be a function.";var p;c?p=c:p=this.verbose?this.logger.log:function(){};var w=mT.create(n,this.logger);this.clearElement();var b=!1;w.videoConstraints&&(w.isMediaStreamConstraintsValid()?b=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var y=b,A=document.getElementById(this.elementId);A.clientWidth?A.clientWidth:Dr.DEFAULT_WIDTH,A.style.position="relative",this.shouldScan=!0,this.element=A;var _=this,O=this.stateManagerProxy.startTransition(xn.SCANNING);return new Promise(function(R,M){var k=y?w.videoConstraints:_.createVideoConstraints(t);if(!k){O.cancel(),M("videoConstraints should be defined");return}var L={};(!y||w.aspectRatio)&&(L.aspectRatio=w.aspectRatio);var z={onRenderSurfaceReady:function(U,F){_.setupUi(U,F,w),_.isScanning=!0,_.foreverScan(w,a,p)}};lT.failIfNotSupported().then(function(U){U.create(k).then(function(F){return F.render(d.element,L,z).then(function($){_.renderedCamera=$,O.execute(),R(null)}).catch(function($){O.cancel(),M($)})}).catch(function(F){O.cancel(),M(Sa.errorGettingUserMedia(F))})}).catch(function(U){O.cancel(),M(Sa.cameraStreamingNotSupported())})})},r.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(xn.PAUSED),this.showPausedState(),(rs(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},r.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,n=function(){t.stateManagerProxy.directTransition(xn.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},r.prototype.getState=function(){return this.stateManagerProxy.getState()},r.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(xn.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var a=function(){if(t.element){var d=document.getElementById(Dr.SHADED_REGION_ELEMENT_ID);d&&t.element.removeChild(d)}},c=this;return this.renderedCamera.close().then(function(){return c.renderedCamera=null,c.element&&(c.element.removeChild(c.canvasElement),c.canvasElement=null),a(),c.qrRegion&&(c.qrRegion=null),c.context&&(c.context=null),n.execute(),c.hidePausedState(),c.isScanning=!1,Promise.resolve()})},r.prototype.scanFile=function(t,n){return this.scanFileV2(t,n).then(function(a){return a.decodedText})},r.prototype.scanFileV2=function(t,n){var a=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(rs(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(c,d){a.possiblyCloseLastScanImageFile(),a.clearElement(),a.lastScanImageFile=URL.createObjectURL(t);var p=new Image;p.onload=function(){var w=p.width,b=p.height,y=document.getElementById(a.elementId),A=y.clientWidth?y.clientWidth:Dr.DEFAULT_WIDTH,_=Math.max(y.clientHeight?y.clientHeight:b,Dr.FILE_SCAN_MIN_HEIGHT),O=a.computeCanvasDrawConfig(w,b,A,_);if(n){var R=a.createCanvasElement(A,_,"qr-canvas-visible");R.style.display="inline-block",y.appendChild(R);var M=R.getContext("2d");if(!M)throw"Unable to get 2d context from canvas";M.canvas.width=A,M.canvas.height=_,M.drawImage(p,0,0,w,b,O.x,O.y,O.width,O.height)}var k=Dr.FILE_SCAN_HIDDEN_CANVAS_PADDING,L=Math.max(p.width,O.width),z=Math.max(p.height,O.height),U=L+2*k,F=z+2*k,$=a.createCanvasElement(U,F);y.appendChild($);var X=$.getContext("2d");if(!X)throw"Unable to get 2d context from canvas";X.canvas.width=U,X.canvas.height=F,X.drawImage(p,0,0,w,b,k,k,L,z);try{a.qrcode.decodeRobustlyAsync($).then(function(Z){c(Sm.createFromQrcodeResult(Z))}).catch(d)}catch(Z){d("QR code parse error, error = ".concat(Z))}},p.onerror=d,p.onabort=d,p.onstalled=d,p.onsuspend=d,p.src=URL.createObjectURL(t)})},r.prototype.clear=function(){this.clearElement()},r.getCameras=function(){return dT.retrieve()},r.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},r.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},r.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},r.prototype.applyVideoConstraints=function(t){if(t){if(!jv.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},r.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},r.prototype.getSupportedFormats=function(t){var n=[ze.QR_CODE,ze.AZTEC,ze.CODABAR,ze.CODE_39,ze.CODE_93,ze.CODE_128,ze.DATA_MATRIX,ze.MAXICODE,ze.ITF,ze.EAN_13,ze.EAN_8,ze.PDF_417,ze.RSS_14,ze.RSS_EXPANDED,ze.UPC_A,ze.UPC_E,ze.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return n;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var a=[],c=0,d=t.formatsToSupport;c<d.length;c++){var p=d[c];$4(p)?a.push(p):this.logger.warn("Invalid format: ".concat(p," passed in config, ignoring."))}if(a.length===0)throw"None of formatsToSupport match supported values.";return a},r.prototype.getUseBarCodeDetectorIfSupported=function(t){if(rs(t))return!0;if(!rs(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(rs(t.experimentalFeatures))return!0;var n=t.experimentalFeatures;return rs(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},r.prototype.validateQrboxSize=function(t,n,a){var c=this,d=a.qrbox;this.validateQrboxConfig(d);var p=this.toQrdimensions(t,n,d),w=function(y){if(y<Dr.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Dr.MIN_QR_BOX_SIZE,"px.")},b=function(y){return y>t&&(c.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),y=t),y};w(p.width),w(p.height),p.width=b(p.width)},r.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},r.prototype.toQrdimensions=function(t,n,a){if(typeof a=="number")return{width:a,height:a};if(typeof a=="function")try{return a(t,n)}catch(c){throw new Error("qrbox config was passed as a function but it failed with unknown error"+c)}return a},r.prototype.setupUi=function(t,n,a){a.isShadedBoxEnabled()&&this.validateQrboxSize(t,n,a);var c=rs(a.qrbox)?{width:t,height:n}:a.qrbox;this.validateQrboxConfig(c);var d=this.toQrdimensions(t,n,c);d.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var p=a.isShadedBoxEnabled()&&d.height<=n,w={x:0,y:0,width:t,height:n},b=p?this.getShadedRegionBounds(t,n,d):w,y=this.createCanvasElement(b.width,b.height),A={willReadFrequently:!0},_=y.getContext("2d",A);_.canvas.width=b.width,_.canvas.height=b.height,this.element.append(y),p&&this.possiblyInsertShadingElement(this.element,t,n,d),this.createScannerPausedUiElement(this.element),this.qrRegion=b,this.context=_,this.canvasElement=y},r.prototype.createScannerPausedUiElement=function(t){var n=document.createElement("div");n.innerText=Sa.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",t.appendChild(n),this.scannerPausedUiElement=n},r.prototype.scanContext=function(t,n){var a=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(c){return t(c.text,Sm.createFromQrcodeResult(c)),a.possiblyUpdateShaders(!0),!0}).catch(function(c){a.possiblyUpdateShaders(!1);var d=Sa.codeParseError(c);return n(d,q4.createFrom(d)),!1})},r.prototype.foreverScan=function(t,n,a){var c=this;if(this.shouldScan&&this.renderedCamera){var d=this.renderedCamera.getSurface(),p=d.videoWidth/d.clientWidth,w=d.videoHeight/d.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var b=this.qrRegion.width*p,y=this.qrRegion.height*w,A=this.qrRegion.x*p,_=this.qrRegion.y*w;this.context.drawImage(d,A,_,b,y,0,0,this.qrRegion.width,this.qrRegion.height);var O=function(){c.foreverScanTimeout=setTimeout(function(){c.foreverScan(t,n,a)},c.getTimeoutFps(t.fps))};this.scanContext(n,a).then(function(R){!R&&t.disableFlip!==!0?(c.context.translate(c.context.canvas.width,0),c.context.scale(-1,1),c.scanContext(n,a).finally(function(){O()})):O()}).catch(function(R){c.logger.logError("Error happend while scanning context",R),O()})}},r.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var n="facingMode",a="deviceId",c={user:!0,environment:!0},d="exact",p=function(M){if(M in c)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(M,"'")},w=Object.keys(t);if(w.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(w.length," keys");var b=Object.keys(t)[0];if(b!==n&&b!==a)throw"Only '".concat(n,"' and '").concat(a,"' ")+" are supported for 'cameraIdOrConfig'";if(b===n){var y=t.facingMode;if(typeof y=="string"){if(p(y))return{facingMode:y}}else if(typeof y=="object")if(d in y){if(p(y["".concat(d)]))return{facingMode:{exact:y["".concat(d)]}}}else throw"'facingMode' should be string or object with"+" ".concat(d," as key.");else{var A=typeof y;throw"Invalid type of 'facingMode' = ".concat(A)}}else{var _=t.deviceId;if(typeof _=="string")return{deviceId:_};if(typeof _=="object"){if(d in _)return{deviceId:{exact:_["".concat(d)]}};throw"'deviceId' should be string or object with"+" ".concat(d," as key.")}else{var O=typeof _;throw"Invalid type of 'deviceId' = ".concat(O)}}}var R=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(R)},r.prototype.computeCanvasDrawConfig=function(t,n,a,c){if(t<=a&&n<=c){var d=(a-t)/2,p=(c-n)/2;return{x:d,y:p,width:t,height:n}}else{var w=t,b=n;return t>a&&(n=a/t*n,t=a),n>c&&(t=c/n*t,n=c),this.logger.log("Image downsampled from "+"".concat(w,"X").concat(b)+" to ".concat(t,"X").concat(n,".")),this.computeCanvasDrawConfig(t,n,a,c)}},r.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},r.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=t?Dr.BORDER_SHADER_MATCH_COLOR:Dr.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},r.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},r.prototype.createCanvasElement=function(t,n,a){var c=t,d=n,p=document.createElement("canvas");return p.style.width="".concat(c,"px"),p.style.height="".concat(d,"px"),p.style.display="none",p.id=rs(a)?"qr-canvas":a,p},r.prototype.getShadedRegionBounds=function(t,n,a){if(a.width>t||a.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-a.width)/2,y:(n-a.height)/2,width:a.width,height:a.height}},r.prototype.possiblyInsertShadingElement=function(t,n,a,c){if(!(n-c.width<1||a-c.height<1)){var d=document.createElement("div");d.style.position="absolute";var p=(n-c.width)/2,w=(a-c.height)/2;if(d.style.borderLeft="".concat(p,"px solid rgba(0, 0, 0, 0.48)"),d.style.borderRight="".concat(p,"px solid rgba(0, 0, 0, 0.48)"),d.style.borderTop="".concat(w,"px solid rgba(0, 0, 0, 0.48)"),d.style.borderBottom="".concat(w,"px solid rgba(0, 0, 0, 0.48)"),d.style.boxSizing="border-box",d.style.top="0px",d.style.bottom="0px",d.style.left="0px",d.style.right="0px",d.id="".concat(Dr.SHADED_REGION_ELEMENT_ID),n-c.width<11||a-c.height<11)this.hasBorderShaders=!1;else{var b=5,y=40;this.insertShaderBorders(d,y,b,-b,null,0,!0),this.insertShaderBorders(d,y,b,-b,null,0,!1),this.insertShaderBorders(d,y,b,null,-b,0,!0),this.insertShaderBorders(d,y,b,null,-b,0,!1),this.insertShaderBorders(d,b,y+b,-b,null,-b,!0),this.insertShaderBorders(d,b,y+b,null,-b,-b,!0),this.insertShaderBorders(d,b,y+b,-b,null,-b,!1),this.insertShaderBorders(d,b,y+b,null,-b,-b,!1),this.hasBorderShaders=!0}t.append(d)}},r.prototype.insertShaderBorders=function(t,n,a,c,d,p,w){var b=document.createElement("div");b.style.position="absolute",b.style.backgroundColor=Dr.BORDER_SHADER_DEFAULT_COLOR,b.style.width="".concat(n,"px"),b.style.height="".concat(a,"px"),c!==null&&(b.style.top="".concat(c,"px")),d!==null&&(b.style.bottom="".concat(d,"px")),w?b.style.left="".concat(p,"px"):b.style.right="".concat(p,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(b),t.appendChild(b)},r.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},r.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},r.prototype.getTimeoutFps=function(t){return 1e3/t},r})(),Om;(function(r){r[r.STATUS_DEFAULT=0]="STATUS_DEFAULT",r[r.STATUS_SUCCESS=1]="STATUS_SUCCESS",r[r.STATUS_WARNING=2]="STATUS_WARNING",r[r.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Om||(Om={}));var ya={},xf,Pm;function wT(){return Pm||(Pm=1,xf=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),xf}var wf={},Ds={},Dm;function jo(){if(Dm)return Ds;Dm=1;let r;const t=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return Ds.getSymbolSize=function(a){if(!a)throw new Error('"version" cannot be null or undefined');if(a<1||a>40)throw new Error('"version" should be in range from 1 to 40');return a*4+17},Ds.getSymbolTotalCodewords=function(a){return t[a]},Ds.getBCHDigit=function(n){let a=0;for(;n!==0;)a++,n>>>=1;return a},Ds.setToSJISFunction=function(a){if(typeof a!="function")throw new Error('"toSJISFunc" is not a valid function.');r=a},Ds.isKanjiModeEnabled=function(){return typeof r<"u"},Ds.toSJIS=function(a){return r(a)},Ds}var yf={},jm;function n1(){return jm||(jm=1,(function(r){r.L={bit:1},r.M={bit:0},r.Q={bit:3},r.H={bit:2};function t(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return r.L;case"m":case"medium":return r.M;case"q":case"quartile":return r.Q;case"h":case"high":return r.H;default:throw new Error("Unknown EC Level: "+n)}}r.isValid=function(a){return a&&typeof a.bit<"u"&&a.bit>=0&&a.bit<4},r.from=function(a,c){if(r.isValid(a))return a;try{return t(a)}catch{return c}}})(yf)),yf}var vf,Mm;function yT(){if(Mm)return vf;Mm=1;function r(){this.buffer=[],this.length=0}return r.prototype={get:function(t){const n=Math.floor(t/8);return(this.buffer[n]>>>7-t%8&1)===1},put:function(t,n){for(let a=0;a<n;a++)this.putBit((t>>>n-a-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),t&&(this.buffer[n]|=128>>>this.length%8),this.length++}},vf=r,vf}var bf,Lm;function vT(){if(Lm)return bf;Lm=1;function r(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}return r.prototype.set=function(t,n,a,c){const d=t*this.size+n;this.data[d]=a,c&&(this.reservedBit[d]=!0)},r.prototype.get=function(t,n){return this.data[t*this.size+n]},r.prototype.xor=function(t,n,a){this.data[t*this.size+n]^=a},r.prototype.isReserved=function(t,n){return this.reservedBit[t*this.size+n]},bf=r,bf}var Ef={},Bm;function bT(){return Bm||(Bm=1,(function(r){const t=jo().getSymbolSize;r.getRowColCoords=function(a){if(a===1)return[];const c=Math.floor(a/7)+2,d=t(a),p=d===145?26:Math.ceil((d-13)/(2*c-2))*2,w=[d-7];for(let b=1;b<c-1;b++)w[b]=w[b-1]-p;return w.push(6),w.reverse()},r.getPositions=function(a){const c=[],d=r.getRowColCoords(a),p=d.length;for(let w=0;w<p;w++)for(let b=0;b<p;b++)w===0&&b===0||w===0&&b===p-1||w===p-1&&b===0||c.push([d[w],d[b]]);return c}})(Ef)),Ef}var Cf={},Fm;function ET(){if(Fm)return Cf;Fm=1;const r=jo().getSymbolSize,t=7;return Cf.getPositions=function(a){const c=r(a);return[[0,0],[c-t,0],[0,c-t]]},Cf}var Sf={},Um;function CT(){return Um||(Um=1,(function(r){r.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};r.isValid=function(c){return c!=null&&c!==""&&!isNaN(c)&&c>=0&&c<=7},r.from=function(c){return r.isValid(c)?parseInt(c,10):void 0},r.getPenaltyN1=function(c){const d=c.size;let p=0,w=0,b=0,y=null,A=null;for(let _=0;_<d;_++){w=b=0,y=A=null;for(let O=0;O<d;O++){let R=c.get(_,O);R===y?w++:(w>=5&&(p+=t.N1+(w-5)),y=R,w=1),R=c.get(O,_),R===A?b++:(b>=5&&(p+=t.N1+(b-5)),A=R,b=1)}w>=5&&(p+=t.N1+(w-5)),b>=5&&(p+=t.N1+(b-5))}return p},r.getPenaltyN2=function(c){const d=c.size;let p=0;for(let w=0;w<d-1;w++)for(let b=0;b<d-1;b++){const y=c.get(w,b)+c.get(w,b+1)+c.get(w+1,b)+c.get(w+1,b+1);(y===4||y===0)&&p++}return p*t.N2},r.getPenaltyN3=function(c){const d=c.size;let p=0,w=0,b=0;for(let y=0;y<d;y++){w=b=0;for(let A=0;A<d;A++)w=w<<1&2047|c.get(y,A),A>=10&&(w===1488||w===93)&&p++,b=b<<1&2047|c.get(A,y),A>=10&&(b===1488||b===93)&&p++}return p*t.N3},r.getPenaltyN4=function(c){let d=0;const p=c.data.length;for(let b=0;b<p;b++)d+=c.data[b];return Math.abs(Math.ceil(d*100/p/5)-10)*t.N4};function n(a,c,d){switch(a){case r.Patterns.PATTERN000:return(c+d)%2===0;case r.Patterns.PATTERN001:return c%2===0;case r.Patterns.PATTERN010:return d%3===0;case r.Patterns.PATTERN011:return(c+d)%3===0;case r.Patterns.PATTERN100:return(Math.floor(c/2)+Math.floor(d/3))%2===0;case r.Patterns.PATTERN101:return c*d%2+c*d%3===0;case r.Patterns.PATTERN110:return(c*d%2+c*d%3)%2===0;case r.Patterns.PATTERN111:return(c*d%3+(c+d)%2)%2===0;default:throw new Error("bad maskPattern:"+a)}}r.applyMask=function(c,d){const p=d.size;for(let w=0;w<p;w++)for(let b=0;b<p;b++)d.isReserved(b,w)||d.xor(b,w,n(c,b,w))},r.getBestMask=function(c,d){const p=Object.keys(r.Patterns).length;let w=0,b=1/0;for(let y=0;y<p;y++){d(y),r.applyMask(y,c);const A=r.getPenaltyN1(c)+r.getPenaltyN2(c)+r.getPenaltyN3(c)+r.getPenaltyN4(c);r.applyMask(y,c),A<b&&(b=A,w=y)}return w}})(Sf)),Sf}var Iu={},zm;function Lv(){if(zm)return Iu;zm=1;const r=n1(),t=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],n=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return Iu.getBlocksCount=function(c,d){switch(d){case r.L:return t[(c-1)*4+0];case r.M:return t[(c-1)*4+1];case r.Q:return t[(c-1)*4+2];case r.H:return t[(c-1)*4+3];default:return}},Iu.getTotalCodewordsCount=function(c,d){switch(d){case r.L:return n[(c-1)*4+0];case r.M:return n[(c-1)*4+1];case r.Q:return n[(c-1)*4+2];case r.H:return n[(c-1)*4+3];default:return}},Iu}var Af={},jl={},Vm;function ST(){if(Vm)return jl;Vm=1;const r=new Uint8Array(512),t=new Uint8Array(256);return(function(){let a=1;for(let c=0;c<255;c++)r[c]=a,t[a]=c,a<<=1,a&256&&(a^=285);for(let c=255;c<512;c++)r[c]=r[c-255]})(),jl.log=function(a){if(a<1)throw new Error("log("+a+")");return t[a]},jl.exp=function(a){return r[a]},jl.mul=function(a,c){return a===0||c===0?0:r[t[a]+t[c]]},jl}var Wm;function AT(){return Wm||(Wm=1,(function(r){const t=ST();r.mul=function(a,c){const d=new Uint8Array(a.length+c.length-1);for(let p=0;p<a.length;p++)for(let w=0;w<c.length;w++)d[p+w]^=t.mul(a[p],c[w]);return d},r.mod=function(a,c){let d=new Uint8Array(a);for(;d.length-c.length>=0;){const p=d[0];for(let b=0;b<c.length;b++)d[b]^=t.mul(c[b],p);let w=0;for(;w<d.length&&d[w]===0;)w++;d=d.slice(w)}return d},r.generateECPolynomial=function(a){let c=new Uint8Array([1]);for(let d=0;d<a;d++)c=r.mul(c,new Uint8Array([1,t.exp(d)]));return c}})(Af)),Af}var _f,Hm;function _T(){if(Hm)return _f;Hm=1;const r=AT();function t(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}return t.prototype.initialize=function(a){this.degree=a,this.genPoly=r.generateECPolynomial(this.degree)},t.prototype.encode=function(a){if(!this.genPoly)throw new Error("Encoder not initialized");const c=new Uint8Array(a.length+this.degree);c.set(a);const d=r.mod(c,this.genPoly),p=this.degree-d.length;if(p>0){const w=new Uint8Array(this.degree);return w.set(d,p),w}return d},_f=t,_f}var Nf={},If={},Tf={},$m;function Bv(){return $m||($m=1,Tf.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40}),Tf}var Ri={},Gm;function Fv(){if(Gm)return Ri;Gm=1;const r="[0-9]+",t="[A-Z $%*+\\-./:]+";let n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";n=n.replace(/u/g,"\\u");const a="(?:(?![A-Z0-9 $%*+\\-./:]|"+n+`)(?:.|[\r
]))+`;Ri.KANJI=new RegExp(n,"g"),Ri.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),Ri.BYTE=new RegExp(a,"g"),Ri.NUMERIC=new RegExp(r,"g"),Ri.ALPHANUMERIC=new RegExp(t,"g");const c=new RegExp("^"+n+"$"),d=new RegExp("^"+r+"$"),p=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return Ri.testKanji=function(b){return c.test(b)},Ri.testNumeric=function(b){return d.test(b)},Ri.testAlphanumeric=function(b){return p.test(b)},Ri}var qm;function Mo(){return qm||(qm=1,(function(r){const t=Bv(),n=Fv();r.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},r.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},r.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},r.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},r.MIXED={bit:-1},r.getCharCountIndicator=function(d,p){if(!d.ccBits)throw new Error("Invalid mode: "+d);if(!t.isValid(p))throw new Error("Invalid version: "+p);return p>=1&&p<10?d.ccBits[0]:p<27?d.ccBits[1]:d.ccBits[2]},r.getBestModeForData=function(d){return n.testNumeric(d)?r.NUMERIC:n.testAlphanumeric(d)?r.ALPHANUMERIC:n.testKanji(d)?r.KANJI:r.BYTE},r.toString=function(d){if(d&&d.id)return d.id;throw new Error("Invalid mode")},r.isValid=function(d){return d&&d.bit&&d.ccBits};function a(c){if(typeof c!="string")throw new Error("Param is not a string");switch(c.toLowerCase()){case"numeric":return r.NUMERIC;case"alphanumeric":return r.ALPHANUMERIC;case"kanji":return r.KANJI;case"byte":return r.BYTE;default:throw new Error("Unknown mode: "+c)}}r.from=function(d,p){if(r.isValid(d))return d;try{return a(d)}catch{return p}}})(If)),If}var Xm;function NT(){return Xm||(Xm=1,(function(r){const t=jo(),n=Lv(),a=n1(),c=Mo(),d=Bv(),p=7973,w=t.getBCHDigit(p);function b(O,R,M){for(let k=1;k<=40;k++)if(R<=r.getCapacity(k,M,O))return k}function y(O,R){return c.getCharCountIndicator(O,R)+4}function A(O,R){let M=0;return O.forEach(function(k){const L=y(k.mode,R);M+=L+k.getBitsLength()}),M}function _(O,R){for(let M=1;M<=40;M++)if(A(O,M)<=r.getCapacity(M,R,c.MIXED))return M}r.from=function(R,M){return d.isValid(R)?parseInt(R,10):M},r.getCapacity=function(R,M,k){if(!d.isValid(R))throw new Error("Invalid QR Code version");typeof k>"u"&&(k=c.BYTE);const L=t.getSymbolTotalCodewords(R),z=n.getTotalCodewordsCount(R,M),U=(L-z)*8;if(k===c.MIXED)return U;const F=U-y(k,R);switch(k){case c.NUMERIC:return Math.floor(F/10*3);case c.ALPHANUMERIC:return Math.floor(F/11*2);case c.KANJI:return Math.floor(F/13);case c.BYTE:default:return Math.floor(F/8)}},r.getBestVersionForData=function(R,M){let k;const L=a.from(M,a.M);if(Array.isArray(R)){if(R.length>1)return _(R,L);if(R.length===0)return 1;k=R[0]}else k=R;return b(k.mode,k.getLength(),L)},r.getEncodedBits=function(R){if(!d.isValid(R)||R<7)throw new Error("Invalid QR Code version");let M=R<<12;for(;t.getBCHDigit(M)-w>=0;)M^=p<<t.getBCHDigit(M)-w;return R<<12|M}})(Nf)),Nf}var Rf={},Km;function IT(){if(Km)return Rf;Km=1;const r=jo(),t=1335,n=21522,a=r.getBCHDigit(t);return Rf.getEncodedBits=function(d,p){const w=d.bit<<3|p;let b=w<<10;for(;r.getBCHDigit(b)-a>=0;)b^=t<<r.getBCHDigit(b)-a;return(w<<10|b)^n},Rf}var kf={},Of,Ym;function TT(){if(Ym)return Of;Ym=1;const r=Mo();function t(n){this.mode=r.NUMERIC,this.data=n.toString()}return t.getBitsLength=function(a){return 10*Math.floor(a/3)+(a%3?a%3*3+1:0)},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(a){let c,d,p;for(c=0;c+3<=this.data.length;c+=3)d=this.data.substr(c,3),p=parseInt(d,10),a.put(p,10);const w=this.data.length-c;w>0&&(d=this.data.substr(c),p=parseInt(d,10),a.put(p,w*3+1))},Of=t,Of}var Pf,Zm;function RT(){if(Zm)return Pf;Zm=1;const r=Mo(),t=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function n(a){this.mode=r.ALPHANUMERIC,this.data=a}return n.getBitsLength=function(c){return 11*Math.floor(c/2)+6*(c%2)},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(c){let d;for(d=0;d+2<=this.data.length;d+=2){let p=t.indexOf(this.data[d])*45;p+=t.indexOf(this.data[d+1]),c.put(p,11)}this.data.length%2&&c.put(t.indexOf(this.data[d]),6)},Pf=n,Pf}var Df,Qm;function kT(){if(Qm)return Df;Qm=1;const r=Mo();function t(n){this.mode=r.BYTE,typeof n=="string"?this.data=new TextEncoder().encode(n):this.data=new Uint8Array(n)}return t.getBitsLength=function(a){return a*8},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(n){for(let a=0,c=this.data.length;a<c;a++)n.put(this.data[a],8)},Df=t,Df}var jf,Jm;function OT(){if(Jm)return jf;Jm=1;const r=Mo(),t=jo();function n(a){this.mode=r.KANJI,this.data=a}return n.getBitsLength=function(c){return c*13},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(a){let c;for(c=0;c<this.data.length;c++){let d=t.toSJIS(this.data[c]);if(d>=33088&&d<=40956)d-=33088;else if(d>=57408&&d<=60351)d-=49472;else throw new Error("Invalid SJIS character: "+this.data[c]+`
Make sure your charset is UTF-8`);d=(d>>>8&255)*192+(d&255),a.put(d,13)}},jf=n,jf}var Mf={exports:{}},ex;function PT(){return ex||(ex=1,(function(r){var t={single_source_shortest_paths:function(n,a,c){var d={},p={};p[a]=0;var w=t.PriorityQueue.make();w.push(a,0);for(var b,y,A,_,O,R,M,k,L;!w.empty();){b=w.pop(),y=b.value,_=b.cost,O=n[y]||{};for(A in O)O.hasOwnProperty(A)&&(R=O[A],M=_+R,k=p[A],L=typeof p[A]>"u",(L||k>M)&&(p[A]=M,w.push(A,M),d[A]=y))}if(typeof c<"u"&&typeof p[c]>"u"){var z=["Could not find a path from ",a," to ",c,"."].join("");throw new Error(z)}return d},extract_shortest_path_from_predecessor_list:function(n,a){for(var c=[],d=a;d;)c.push(d),n[d],d=n[d];return c.reverse(),c},find_path:function(n,a,c){var d=t.single_source_shortest_paths(n,a,c);return t.extract_shortest_path_from_predecessor_list(d,c)},PriorityQueue:{make:function(n){var a=t.PriorityQueue,c={},d;n=n||{};for(d in a)a.hasOwnProperty(d)&&(c[d]=a[d]);return c.queue=[],c.sorter=n.sorter||a.default_sorter,c},default_sorter:function(n,a){return n.cost-a.cost},push:function(n,a){var c={value:n,cost:a};this.queue.push(c),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};r.exports=t})(Mf)),Mf.exports}var tx;function DT(){return tx||(tx=1,(function(r){const t=Mo(),n=TT(),a=RT(),c=kT(),d=OT(),p=Fv(),w=jo(),b=PT();function y(z){return unescape(encodeURIComponent(z)).length}function A(z,U,F){const $=[];let X;for(;(X=z.exec(F))!==null;)$.push({data:X[0],index:X.index,mode:U,length:X[0].length});return $}function _(z){const U=A(p.NUMERIC,t.NUMERIC,z),F=A(p.ALPHANUMERIC,t.ALPHANUMERIC,z);let $,X;return w.isKanjiModeEnabled()?($=A(p.BYTE,t.BYTE,z),X=A(p.KANJI,t.KANJI,z)):($=A(p.BYTE_KANJI,t.BYTE,z),X=[]),U.concat(F,$,X).sort(function(H,K){return H.index-K.index}).map(function(H){return{data:H.data,mode:H.mode,length:H.length}})}function O(z,U){switch(U){case t.NUMERIC:return n.getBitsLength(z);case t.ALPHANUMERIC:return a.getBitsLength(z);case t.KANJI:return d.getBitsLength(z);case t.BYTE:return c.getBitsLength(z)}}function R(z){return z.reduce(function(U,F){const $=U.length-1>=0?U[U.length-1]:null;return $&&$.mode===F.mode?(U[U.length-1].data+=F.data,U):(U.push(F),U)},[])}function M(z){const U=[];for(let F=0;F<z.length;F++){const $=z[F];switch($.mode){case t.NUMERIC:U.push([$,{data:$.data,mode:t.ALPHANUMERIC,length:$.length},{data:$.data,mode:t.BYTE,length:$.length}]);break;case t.ALPHANUMERIC:U.push([$,{data:$.data,mode:t.BYTE,length:$.length}]);break;case t.KANJI:U.push([$,{data:$.data,mode:t.BYTE,length:y($.data)}]);break;case t.BYTE:U.push([{data:$.data,mode:t.BYTE,length:y($.data)}])}}return U}function k(z,U){const F={},$={start:{}};let X=["start"];for(let Z=0;Z<z.length;Z++){const H=z[Z],K=[];for(let V=0;V<H.length;V++){const ge=H[V],Ee=""+Z+V;K.push(Ee),F[Ee]={node:ge,lastCount:0},$[Ee]={};for(let ce=0;ce<X.length;ce++){const ve=X[ce];F[ve]&&F[ve].node.mode===ge.mode?($[ve][Ee]=O(F[ve].lastCount+ge.length,ge.mode)-O(F[ve].lastCount,ge.mode),F[ve].lastCount+=ge.length):(F[ve]&&(F[ve].lastCount=ge.length),$[ve][Ee]=O(ge.length,ge.mode)+4+t.getCharCountIndicator(ge.mode,U))}}X=K}for(let Z=0;Z<X.length;Z++)$[X[Z]].end=0;return{map:$,table:F}}function L(z,U){let F;const $=t.getBestModeForData(z);if(F=t.from(U,$),F!==t.BYTE&&F.bit<$.bit)throw new Error('"'+z+'" cannot be encoded with mode '+t.toString(F)+`.
 Suggested mode is: `+t.toString($));switch(F===t.KANJI&&!w.isKanjiModeEnabled()&&(F=t.BYTE),F){case t.NUMERIC:return new n(z);case t.ALPHANUMERIC:return new a(z);case t.KANJI:return new d(z);case t.BYTE:return new c(z)}}r.fromArray=function(U){return U.reduce(function(F,$){return typeof $=="string"?F.push(L($,null)):$.data&&F.push(L($.data,$.mode)),F},[])},r.fromString=function(U,F){const $=_(U,w.isKanjiModeEnabled()),X=M($),Z=k(X,F),H=b.find_path(Z.map,"start","end"),K=[];for(let V=1;V<H.length-1;V++)K.push(Z.table[H[V]].node);return r.fromArray(R(K))},r.rawSplit=function(U){return r.fromArray(_(U,w.isKanjiModeEnabled()))}})(kf)),kf}var nx;function jT(){if(nx)return wf;nx=1;const r=jo(),t=n1(),n=yT(),a=vT(),c=bT(),d=ET(),p=CT(),w=Lv(),b=_T(),y=NT(),A=IT(),_=Mo(),O=DT();function R(Z,H){const K=Z.size,V=d.getPositions(H);for(let ge=0;ge<V.length;ge++){const Ee=V[ge][0],ce=V[ge][1];for(let ve=-1;ve<=7;ve++)if(!(Ee+ve<=-1||K<=Ee+ve))for(let Ce=-1;Ce<=7;Ce++)ce+Ce<=-1||K<=ce+Ce||(ve>=0&&ve<=6&&(Ce===0||Ce===6)||Ce>=0&&Ce<=6&&(ve===0||ve===6)||ve>=2&&ve<=4&&Ce>=2&&Ce<=4?Z.set(Ee+ve,ce+Ce,!0,!0):Z.set(Ee+ve,ce+Ce,!1,!0))}}function M(Z){const H=Z.size;for(let K=8;K<H-8;K++){const V=K%2===0;Z.set(K,6,V,!0),Z.set(6,K,V,!0)}}function k(Z,H){const K=c.getPositions(H);for(let V=0;V<K.length;V++){const ge=K[V][0],Ee=K[V][1];for(let ce=-2;ce<=2;ce++)for(let ve=-2;ve<=2;ve++)ce===-2||ce===2||ve===-2||ve===2||ce===0&&ve===0?Z.set(ge+ce,Ee+ve,!0,!0):Z.set(ge+ce,Ee+ve,!1,!0)}}function L(Z,H){const K=Z.size,V=y.getEncodedBits(H);let ge,Ee,ce;for(let ve=0;ve<18;ve++)ge=Math.floor(ve/3),Ee=ve%3+K-8-3,ce=(V>>ve&1)===1,Z.set(ge,Ee,ce,!0),Z.set(Ee,ge,ce,!0)}function z(Z,H,K){const V=Z.size,ge=A.getEncodedBits(H,K);let Ee,ce;for(Ee=0;Ee<15;Ee++)ce=(ge>>Ee&1)===1,Ee<6?Z.set(Ee,8,ce,!0):Ee<8?Z.set(Ee+1,8,ce,!0):Z.set(V-15+Ee,8,ce,!0),Ee<8?Z.set(8,V-Ee-1,ce,!0):Ee<9?Z.set(8,15-Ee-1+1,ce,!0):Z.set(8,15-Ee-1,ce,!0);Z.set(V-8,8,1,!0)}function U(Z,H){const K=Z.size;let V=-1,ge=K-1,Ee=7,ce=0;for(let ve=K-1;ve>0;ve-=2)for(ve===6&&ve--;;){for(let Ce=0;Ce<2;Ce++)if(!Z.isReserved(ge,ve-Ce)){let ie=!1;ce<H.length&&(ie=(H[ce]>>>Ee&1)===1),Z.set(ge,ve-Ce,ie),Ee--,Ee===-1&&(ce++,Ee=7)}if(ge+=V,ge<0||K<=ge){ge-=V,V=-V;break}}}function F(Z,H,K){const V=new n;K.forEach(function(Ce){V.put(Ce.mode.bit,4),V.put(Ce.getLength(),_.getCharCountIndicator(Ce.mode,Z)),Ce.write(V)});const ge=r.getSymbolTotalCodewords(Z),Ee=w.getTotalCodewordsCount(Z,H),ce=(ge-Ee)*8;for(V.getLengthInBits()+4<=ce&&V.put(0,4);V.getLengthInBits()%8!==0;)V.putBit(0);const ve=(ce-V.getLengthInBits())/8;for(let Ce=0;Ce<ve;Ce++)V.put(Ce%2?17:236,8);return $(V,Z,H)}function $(Z,H,K){const V=r.getSymbolTotalCodewords(H),ge=w.getTotalCodewordsCount(H,K),Ee=V-ge,ce=w.getBlocksCount(H,K),ve=V%ce,Ce=ce-ve,ie=Math.floor(V/ce),he=Math.floor(Ee/ce),se=he+1,J=ie-he,ne=new b(J);let oe=0;const Y=new Array(ce),le=new Array(ce);let Ae=0;const ke=new Uint8Array(Z.buffer);for(let We=0;We<ce;We++){const Qe=We<Ce?he:se;Y[We]=ke.slice(oe,oe+Qe),le[We]=ne.encode(Y[We]),oe+=Qe,Ae=Math.max(Ae,Qe)}const ye=new Uint8Array(V);let be=0,pe,Te;for(pe=0;pe<Ae;pe++)for(Te=0;Te<ce;Te++)pe<Y[Te].length&&(ye[be++]=Y[Te][pe]);for(pe=0;pe<J;pe++)for(Te=0;Te<ce;Te++)ye[be++]=le[Te][pe];return ye}function X(Z,H,K,V){let ge;if(Array.isArray(Z))ge=O.fromArray(Z);else if(typeof Z=="string"){let ie=H;if(!ie){const he=O.rawSplit(Z);ie=y.getBestVersionForData(he,K)}ge=O.fromString(Z,ie||40)}else throw new Error("Invalid data");const Ee=y.getBestVersionForData(ge,K);if(!Ee)throw new Error("The amount of data is too big to be stored in a QR Code");if(!H)H=Ee;else if(H<Ee)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+Ee+`.
`);const ce=F(H,K,ge),ve=r.getSymbolSize(H),Ce=new a(ve);return R(Ce,H),M(Ce),k(Ce,H),z(Ce,K,0),H>=7&&L(Ce,H),U(Ce,ce),isNaN(V)&&(V=p.getBestMask(Ce,z.bind(null,Ce,K))),p.applyMask(V,Ce),z(Ce,K,V),{modules:Ce,version:H,errorCorrectionLevel:K,maskPattern:V,segments:ge}}return wf.create=function(H,K){if(typeof H>"u"||H==="")throw new Error("No input text");let V=t.M,ge,Ee;return typeof K<"u"&&(V=t.from(K.errorCorrectionLevel,t.M),ge=y.from(K.version),Ee=p.from(K.maskPattern),K.toSJISFunc&&r.setToSJISFunction(K.toSJISFunc)),X(H,ge,V,Ee)},wf}var Lf={},Bf={},rx;function Uv(){return rx||(rx=1,(function(r){function t(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let a=n.slice().replace("#","").split("");if(a.length<3||a.length===5||a.length>8)throw new Error("Invalid hex color: "+n);(a.length===3||a.length===4)&&(a=Array.prototype.concat.apply([],a.map(function(d){return[d,d]}))),a.length===6&&a.push("F","F");const c=parseInt(a.join(""),16);return{r:c>>24&255,g:c>>16&255,b:c>>8&255,a:c&255,hex:"#"+a.slice(0,6).join("")}}r.getOptions=function(a){a||(a={}),a.color||(a.color={});const c=typeof a.margin>"u"||a.margin===null||a.margin<0?4:a.margin,d=a.width&&a.width>=21?a.width:void 0,p=a.scale||4;return{width:d,scale:d?4:p,margin:c,color:{dark:t(a.color.dark||"#000000ff"),light:t(a.color.light||"#ffffffff")},type:a.type,rendererOpts:a.rendererOpts||{}}},r.getScale=function(a,c){return c.width&&c.width>=a+c.margin*2?c.width/(a+c.margin*2):c.scale},r.getImageWidth=function(a,c){const d=r.getScale(a,c);return Math.floor((a+c.margin*2)*d)},r.qrToImageData=function(a,c,d){const p=c.modules.size,w=c.modules.data,b=r.getScale(p,d),y=Math.floor((p+d.margin*2)*b),A=d.margin*b,_=[d.color.light,d.color.dark];for(let O=0;O<y;O++)for(let R=0;R<y;R++){let M=(O*y+R)*4,k=d.color.light;if(O>=A&&R>=A&&O<y-A&&R<y-A){const L=Math.floor((O-A)/b),z=Math.floor((R-A)/b);k=_[w[L*p+z]?1:0]}a[M++]=k.r,a[M++]=k.g,a[M++]=k.b,a[M]=k.a}}})(Bf)),Bf}var ix;function MT(){return ix||(ix=1,(function(r){const t=Uv();function n(c,d,p){c.clearRect(0,0,d.width,d.height),d.style||(d.style={}),d.height=p,d.width=p,d.style.height=p+"px",d.style.width=p+"px"}function a(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}r.render=function(d,p,w){let b=w,y=p;typeof b>"u"&&(!p||!p.getContext)&&(b=p,p=void 0),p||(y=a()),b=t.getOptions(b);const A=t.getImageWidth(d.modules.size,b),_=y.getContext("2d"),O=_.createImageData(A,A);return t.qrToImageData(O.data,d,b),n(_,y,A),_.putImageData(O,0,0),y},r.renderToDataURL=function(d,p,w){let b=w;typeof b>"u"&&(!p||!p.getContext)&&(b=p,p=void 0),b||(b={});const y=r.render(d,p,b),A=b.type||"image/png",_=b.rendererOpts||{};return y.toDataURL(A,_.quality)}})(Lf)),Lf}var Ff={},sx;function LT(){if(sx)return Ff;sx=1;const r=Uv();function t(c,d){const p=c.a/255,w=d+'="'+c.hex+'"';return p<1?w+" "+d+'-opacity="'+p.toFixed(2).slice(1)+'"':w}function n(c,d,p){let w=c+d;return typeof p<"u"&&(w+=" "+p),w}function a(c,d,p){let w="",b=0,y=!1,A=0;for(let _=0;_<c.length;_++){const O=Math.floor(_%d),R=Math.floor(_/d);!O&&!y&&(y=!0),c[_]?(A++,_>0&&O>0&&c[_-1]||(w+=y?n("M",O+p,.5+R+p):n("m",b,0),b=0,y=!1),O+1<d&&c[_+1]||(w+=n("h",A),A=0)):b++}return w}return Ff.render=function(d,p,w){const b=r.getOptions(p),y=d.modules.size,A=d.modules.data,_=y+b.margin*2,O=b.color.light.a?"<path "+t(b.color.light,"fill")+' d="M0 0h'+_+"v"+_+'H0z"/>':"",R="<path "+t(b.color.dark,"stroke")+' d="'+a(A,y,b.margin)+'"/>',M='viewBox="0 0 '+_+" "+_+'"',L='<svg xmlns="http://www.w3.org/2000/svg" '+(b.width?'width="'+b.width+'" height="'+b.width+'" ':"")+M+' shape-rendering="crispEdges">'+O+R+`</svg>
`;return typeof w=="function"&&w(null,L),L},Ff}var ox;function BT(){if(ox)return ya;ox=1;const r=wT(),t=jT(),n=MT(),a=LT();function c(d,p,w,b,y){const A=[].slice.call(arguments,1),_=A.length,O=typeof A[_-1]=="function";if(!O&&!r())throw new Error("Callback required as last argument");if(O){if(_<2)throw new Error("Too few arguments provided");_===2?(y=w,w=p,p=b=void 0):_===3&&(p.getContext&&typeof y>"u"?(y=b,b=void 0):(y=b,b=w,w=p,p=void 0))}else{if(_<1)throw new Error("Too few arguments provided");return _===1?(w=p,p=b=void 0):_===2&&!p.getContext&&(b=w,w=p,p=void 0),new Promise(function(R,M){try{const k=t.create(w,b);R(d(k,p,b))}catch(k){M(k)}})}try{const R=t.create(w,b);y(null,d(R,p,b))}catch(R){y(R)}}return ya.create=t.create,ya.toCanvas=c.bind(null,n.render),ya.toDataURL=c.bind(null,n.renderToDataURL),ya.toString=c.bind(null,function(d,p,w){return a.render(d,w)}),ya}var FT=BT();const zv=Yl(FT);function UT({agendaId:r}){const[t,n]=T.useState(""),[a,c]=T.useState(!1),[d,p]=T.useState(!1),[w,b]=T.useState(!1),[y,A]=T.useState(null),[_,O]=T.useState(null),[R,M]=T.useState([]),[k,L]=T.useState([]),[z,U]=T.useState([]),[F,$]=T.useState(!0),[X,Z]=T.useState(!1),[H,K]=T.useState(!1),[V,ge]=T.useState(!1),[Ee,ce]=T.useState(null),[ve,Ce]=T.useState(!1),[ie,he]=T.useState(""),[se,J]=T.useState(new Date),[ne,oe]=T.useState(!1),Y=T.useRef(null);T.useEffect(()=>((async()=>{console.log("=".repeat(80)),console.log("[STANDALONE CHECK-IN] Page loaded for agenda ID:",r),console.log("[STANDALONE CHECK-IN] Initializing with strict event isolation..."),console.log("=".repeat(80)),await le(),await Ae()})(),()=>{st()}),[r]),T.useEffect(()=>{y&&Ae()},[y?.id]),T.useEffect(()=>{const De=qe=>{console.log("[AUTO-REFRESH] Storage event detected:",qe.key),(qe.key==="event_participants"||qe.key==="event_agenda")&&(console.log("[AUTO-REFRESH] Data changed, refreshing with event scope..."),y?.eventId&&console.log("[SECURITY] Auto-refresh scoped to event:",y.eventId),Ae(),qe.key==="event_agenda"&&le())},Be=qe=>{console.log("[AUTO-REFRESH] Custom participantsUpdated event detected"),y?.eventId&&console.log("[SECURITY] Custom event refresh scoped to event:",y.eventId),Ae()};window.addEventListener("storage",De),window.addEventListener("participantsUpdated",Be);const it=setInterval(()=>{console.log("[AUTO-REFRESH] Polling for updates..."),y?.eventId&&console.log("[SECURITY] Poll refresh scoped to event:",y.eventId),Ae()},3e3);return()=>{window.removeEventListener("storage",De),window.removeEventListener("participantsUpdated",Be),clearInterval(it)}},[y?.eventId]),T.useEffect(()=>{if(y&&R.length>0){const De=R.filter(Be=>Be.attendance&&Be.attendance.some(it=>it.agendaItem===y.title));U(De)}},[y,R]);const le=async()=>{$(!0);try{console.log("[SECURITY] Fetching agenda item by ID:",r);const{data:De,error:Be}=await qt.from("agenda_items").select("*").eq("id",r).single();if(Be||!De){console.error("[SECURITY] Agenda item not found:",r),ce("Agenda item not found");return}if(!De.eventId){console.error("[SECURITY] CRITICAL: Agenda item missing eventId!",De),ce("Invalid agenda configuration - missing event association");return}console.log("[SECURITY] Agenda item loaded. Event ID:",De.eventId);const it={id:De.id,eventId:De.eventId,title:De.title,description:De.description,startTime:De.startTime,endTime:De.endTime,location:De.location,createdAt:De.createdAt,order:0};A(it);const{data:qe,error:tt}=await qt.from("events").select("*").eq("id",it.eventId).single();if(qe&&!tt){console.log("[SECURITY] Event details loaded:",qe.name);const fn={id:qe.id,name:qe.name,startDate:qe.startDate,endDate:qe.endDate,location:qe.location,description:qe.description,createdAt:qe.createdAt,customFields:qe.customFields||[],branding:qe.branding};O(fn)}else console.warn("[SECURITY] Event not found for eventId:",it.eventId)}catch(De){console.error("[SECURITY] Error fetching agenda:",De),ce("Failed to load agenda")}finally{$(!1)}},Ae=async()=>{try{if(!y){console.warn("[SECURITY] Cannot fetch participants - agenda not loaded yet");return}if(!y.eventId){console.error("[SECURITY] CRITICAL: Cannot fetch participants - agenda missing eventId!"),ce("Security error: Invalid event configuration");return}console.log("[SECURITY] Fetching participants ONLY for event:",y.eventId);const{data:De,error:Be}=await qt.from("participants").select("*").eq("eventId",y.eventId);if(Be)throw new Error(`Failed to fetch participants: ${Be.message}`);const it=De||[];console.log("[SECURITY] Successfully filtered participants by eventId:",{eventId:y.eventId,participantCount:it.length,agendaTitle:y.title});const qe=it.filter(fn=>fn.eventId!==y.eventId);qe.length>0?console.error("[SECURITY] CRITICAL: Found participants from other events!",qe):console.log("[SECURITY]  All participants verified to belong to event:",y.eventId),M(it),J(new Date);const tt=it.filter(fn=>fn.attendance&&fn.attendance.some(Le=>Le.agendaItem===y.title));console.log("[SECURITY] Checked-in count for this session:",tt.length),console.log("[SECURITY] Data isolation summary:",{eventId:y.eventId,eventName:_?.name||"Loading...",sessionTitle:y.title,totalParticipantsInEvent:it.length,checkedInToThisSession:tt.length,dataIsolationVerified:qe.length===0}),console.log("=".repeat(80)),U(tt)}catch(De){console.error("[SECURITY] Error fetching participants:",De),ce("Failed to load participants")}},ke=async De=>{if(!(!_||!y))try{const Be={width:210,height:148,customWidth:100,customHeight:150,backgroundColor:"#ffffff",backgroundImageUrl:void 0,backgroundImageFit:"cover",logoUrl:void 0},it=localStorage.getItem(`badge_canvas_${_.id}`),qe=it?JSON.parse(it):null,tt=await zv.toDataURL(De.id,{width:300,margin:1}),fn=window.open("","_blank");if(!fn){alert("Please allow popups to print badges");return}const fr={CR80:{width:85.6,height:53.98},A6:{width:105,height:148},A7:{width:74,height:105},custom:{width:Be.customWidth||100,height:Be.customHeight||150}}[Be.size||"CR80"],zi=fr.width,Zn=fr.height;let Qn="",Ln="";if(qe&&qe.length>0){const Fr=Be.backgroundImageUrl?`background-image: url(${Be.backgroundImageUrl});
             background-size: ${Be.backgroundImageFit||"cover"};
             background-position: center;
             background-repeat: no-repeat;`:"";Ln=`
          .badge {
            width: ${zi}mm;
            height: ${Zn}mm;
            background-color: ${Be.backgroundColor};
            ${Fr}
            box-sizing: border-box;
            position: relative;
            border: 1px solid #ddd;
          }
          .badge-component {
            position: absolute;
            overflow: hidden;
          }
        `,qe.filter(Ct=>Ct.enabled).forEach(Ct=>{const It=`
              left: ${Ct.x}%;
              top: ${Ct.y}%;
              width: ${Ct.width}%;
              height: ${Ct.height}%;
              font-size: ${Ct.fontSize||16}px;
              font-family: ${Ct.fontFamily||"sans-serif"};
              font-weight: ${Ct.fontWeight||"normal"};
              font-style: ${Ct.fontStyle||"normal"};
              text-align: ${Ct.textAlign||"left"};
              color: ${Ct.color||"#000000"};
              display: flex;
              align-items: center;
            `;if(Ct.type==="eventName")Qn+=`<div class="badge-component" style="${It}">${_.name}</div>`;else if(Ct.type==="field"&&Ct.fieldName){const Wn=Ct.fieldName.startsWith("custom_")?De.customData?.[Ct.fieldName]:De[Ct.fieldName];Qn+=`
                <div class="badge-component" style="${It}">
                  <div style="width: 100%;">
                    <div style="opacity: 0.6; font-size: 0.7em;">${Ct.label}</div>
                    <div>${Wn||"-"}</div>
                  </div>
                </div>
              `}else if(Ct.type==="qrcode")Qn+=`
                <div class="badge-component" style="${It} justify-content: center;">
                  <img src="${tt}" style="width: 100%; height: 100%; object-fit: contain;" />
                </div>
              `;else if(Ct.type==="logo"){const Wn=Be.logoUrl||_.branding?.logoUrl;Wn&&(Qn+=`
                  <div class="badge-component" style="${It} justify-content: center;">
                    <img src="${Wn}" style="width: 100%; height: 100%; object-fit: contain;" />
                  </div>
                `)}else Ct.type==="customText"&&(Qn+=`<div class="badge-component" style="${It}">${Ct.customText||"Custom Text"}</div>`)})}else{const Fr={small:{title:"14px",text:"12px"},medium:{title:"18px",text:"14px"},large:{title:"24px",text:"18px"}},Ct={small:"60px",medium:"80px",large:"100px"};Ln=`
          .badge {
            width: ${zi}mm;
            height: ${Zn}mm;
            background-color: ${Be.backgroundColor};
            padding: 20px;
            box-sizing: border-box;
            display: flex;
            flex-direction: column;
            justify-content: center;
            // @ts-ignore - alignment property from legacy schema
            align-items: ${Be.alignment==="left"?"flex-start":Be.alignment==="right"?"flex-end":"center"};
            // @ts-ignore
            text-align: ${Be.alignment};
            border: 1px solid #ddd;
          }
        `,(Be.components||[]).filter(It=>It.enabled).sort((It,Wn)=>It.order-Wn.order).forEach(It=>{if(It.type==="eventName")Qn+=`<div style="font-size: ${Fr[Be.fontSize||"medium"].title}; font-weight: bold; margin: 8px 0;">${_.name}</div>`;else if(It.type==="field"&&It.fieldName){const Wn=It.fieldName.startsWith("custom_")?De.customData?.[It.fieldName]:De[It.fieldName];Qn+=`
                <div style="margin: 8px 0;">
                  <div style="font-size: ${Fr[Be.fontSize||"medium"].text}; opacity: 0.7;">${It.label}</div>
                  <div style="font-size: ${Fr[Be.fontSize||"medium"].text};">${Wn||"-"}</div>
                </div>
              `}else It.type==="qrcode"?Qn+=`<img src="${tt}" style="width: ${Ct[Be.qrCodeSize||"medium"]}; height: ${Ct[Be.qrCodeSize||"medium"]}; margin: 8px 0;" />`:It.type==="logo"&&Be.logoUrl})}fn.document.write(`
        <!DOCTYPE html>
        <html>
          <head>
            <title>Badge - ${De.name}</title>
            <style>
              @media print {
                @page {
                  size: ${zi}mm ${Zn}mm;
                  margin: 0;
                }
                body {
                  margin: 0;
                  padding: 0;
                }
              }
              body {
                font-family: Arial, sans-serif;
                margin: 0;
                padding: 0;
                display: flex;
                justify-content: center;
                align-items: center;
                min-height: 100vh;
              }
              ${Ln}
            </style>
          </head>
          <body>
            <div class="badge">
              ${Qn}
            </div>
            <script>
              window.onload = () => {
                setTimeout(() => {
                  window.print();
                  window.close();
                }, 500);
              };
            <\/script>
          </body>
        </html>
      `),fn.document.close()}catch(Be){console.error("Error printing badge:",Be),alert("Failed to print badge")}},ye=()=>{if(!_)return;const De=new URL(window.location.origin+window.location.pathname);De.searchParams.set("designer",_.id),window.open(De.toString(),"_blank","noopener")},be=De=>{if(n(De),!De.trim()){L([]);return}const Be=De.toLowerCase(),it=R.filter(qe=>qe.name?.toLowerCase().includes(Be)||qe.email?.toLowerCase().includes(Be)||qe.company?.toLowerCase().includes(Be));console.log("Search results:",it),L(it)},pe=()=>{c(!0),n(""),L([])},Te=()=>{b(!0),setTimeout(()=>Qe(),300)},We=()=>{st(),b(!1)},Qe=async()=>{if(X){console.log("[SCANNER] Camera already active");return}console.log("[SCANNER] Starting camera...");try{Y.current||(console.log("[SCANNER] Initializing Html5Qrcode"),Y.current=new xT("qr-reader-standalone"));const De={fps:10,qrbox:{width:250,height:250},aspectRatio:1};console.log("[SCANNER] Config:",De),await Y.current.start({facingMode:"environment"},De,async Be=>{console.log("[SCANNER] QR Code detected:",Be),K(!0),await st(),setTimeout(async()=>{K(!1),await St(Be)},1500)},Be=>{Be&&!Be.includes("NotFoundException")&&console.log("[SCANNER] Scan error:",Be)}),Z(!0),console.log("[SCANNER] Camera started successfully")}catch(De){console.error("[SCANNER] Error starting camera:",De),alert("Failed to start camera. Please check camera permissions and try again."),Z(!1)}},st=async()=>{if(Y.current){try{await Y.current.getState()===2&&await Y.current.stop()}catch(De){console.error("Error stopping camera:",De)}Z(!1)}},St=async De=>{if(!y){console.error("[SECURITY] Cannot check in - agenda not loaded");return}if(!y.eventId){console.error("[SECURITY] CRITICAL: Cannot check in - agenda missing eventId!"),alert("Security error: Invalid event configuration");return}ge(!0);try{const Be=De.trim();console.log("[SECURITY] Attempting check-in for participant:",Be),console.log("[SECURITY] Event context:",{eventId:y.eventId,agendaTitle:y.title,agendaId:y.id});const{data:it,error:qe}=await qt.from("participants").select("*").eq("id",Be).eq("eventId",y.eventId).single();if(qe||!it)throw console.error("[SECURITY] Participant not found. Searched for ID:",Be),console.log("[SECURITY] Available participant IDs in this event:",R.map(Le=>Le.id)),new Error(`Participant not found with ID: ${Be}`);const tt=it;if(console.log("[SECURITY] Found participant:",tt),tt.eventId!==y.eventId)throw console.error("[SECURITY] CRITICAL: Attempted cross-event check-in!",{participantEventId:tt.eventId,agendaEventId:y.eventId,participantId:Be,participantName:tt.name}),new Error("Security violation: Participant does not belong to this event");if(console.log("[SECURITY] Security check passed - participant belongs to event:",y.eventId),tt.attendance?.some(Le=>Le.agendaItem===y.title))he(`${tt.name} is already checked in!`),Ce(!0);else{const Le=[...tt.attendance||[],{agendaItem:y.title,timestamp:new Date().toISOString()}];console.log("[SECURITY] Recording attendance for participant in event:",y.eventId);const{error:fr}=await qt.from("participants").update({attendance:Le}).eq("id",Be);if(fr)throw new Error(`Failed to record attendance: ${fr.message}`);he(` Check-in successful for ${tt.name}`),Ce(!0),ne&&setTimeout(()=>{ke(tt)},500)}await Ae(),setTimeout(()=>{b(!1),c(!1)},1500)}catch(Be){console.error("[LOCAL] Error recording attendance:",Be),alert(Be.message||"Failed to record attendance. Please try again.")}finally{ge(!1)}},ot=De=>De?new Date(De).toLocaleString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}):"",hn=De=>De?new Date(De).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):"";return F?m.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-400 via-blue-500 to-blue-600 flex items-center justify-center",children:m.jsxs("div",{className:"text-center text-white",children:[m.jsx(Di,{className:"h-12 w-12 animate-spin mx-auto mb-4"}),m.jsx("p",{className:"text-lg",children:"Loading check-in page..."})]})}):Ee||!y?m.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-400 via-red-500 to-red-600 flex items-center justify-center p-6",children:m.jsxs("div",{className:"text-center text-white max-w-md",children:[m.jsx(Bu,{className:"h-16 w-16 mx-auto mb-4"}),m.jsx("h2",{className:"text-2xl mb-2",children:"Security Error"}),m.jsx("p",{className:"text-lg opacity-90 mb-4",children:Ee||"Agenda not found"}),m.jsx("div",{className:"bg-white/20 backdrop-blur-sm rounded-lg p-4 text-sm",children:m.jsx("p",{className:"opacity-90",children:"This check-in page requires proper event association. The session may have been deleted or is missing required configuration."})})]})}):y&&!y.eventId?m.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-400 via-orange-500 to-orange-600 flex items-center justify-center p-6",children:m.jsxs("div",{className:"text-center text-white max-w-md",children:[m.jsx(Bu,{className:"h-16 w-16 mx-auto mb-4"}),m.jsx("h2",{className:"text-2xl mb-2",children:"Configuration Error"}),m.jsx("p",{className:"text-lg opacity-90 mb-4",children:"This session is not associated with any event"}),m.jsx("div",{className:"bg-white/20 backdrop-blur-sm rounded-lg p-4 text-sm",children:m.jsx("p",{className:"opacity-90",children:"Please contact the event administrator. This session needs to be properly configured with an event association before check-ins can be performed."})})]})}):m.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-400 via-blue-500 to-blue-600 p-6",children:[_&&m.jsx("div",{className:"max-w-2xl mx-auto mb-4",children:m.jsx("div",{className:"bg-white/20 backdrop-blur-sm rounded-lg px-4 py-2 text-white border border-white/30",children:m.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm",children:[m.jsx("span",{className:"inline-block w-2 h-2 bg-green-400 rounded-full animate-pulse"}),m.jsx("span",{className:"opacity-90",children:"Event:"}),m.jsx("span",{className:"font-semibold",children:_.name}),m.jsx("span",{className:"mx-2 opacity-50",children:""}),m.jsxs("span",{className:"text-xs opacity-75",children:["ID: ",_.id]})]})})}),m.jsxs("div",{className:"max-w-2xl mx-auto text-center text-white mb-12",children:[m.jsx("h1",{className:"text-4xl mb-4",children:y.title}),m.jsxs("p",{className:"text-lg opacity-90 mb-2",children:[ot(y.startTime),y.endTime&&` - ${hn(y.endTime)}`]}),y.location&&m.jsx("p",{className:"text-base opacity-80",children:y.location})]}),m.jsx("div",{className:"max-w-md mx-auto mb-6",children:m.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4 border border-white/20 space-y-3",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(xC,{className:"h-4 w-4 text-white"}),m.jsx(Ze,{htmlFor:"auto-print",className:"text-white text-sm",children:"Auto-Print Badge on Check-In"})]}),m.jsx(Pv,{id:"auto-print",checked:ne,onCheckedChange:oe})]}),m.jsxs(Je,{variant:"outline",size:"sm",onClick:ye,className:"w-full bg-white/10 hover:bg-white/20 text-white border-white/30",children:[m.jsx(_C,{className:"mr-2 h-4 w-4"}),"Design Badge Template"]})]})}),m.jsxs("div",{className:"max-w-md mx-auto space-y-4",children:[m.jsxs(Je,{onClick:pe,className:"w-full h-16 bg-gray-900 hover:bg-gray-800 text-white text-lg",size:"lg",children:[m.jsx(Fx,{className:"mr-3 h-6 w-6"}),"Search"]}),m.jsxs(Je,{onClick:Te,className:"w-full h-16 bg-gray-900 hover:bg-gray-800 text-white text-lg",size:"lg",children:[m.jsx(Lx,{className:"mr-3 h-6 w-6"}),"QR Scan"]}),m.jsx("div",{className:"text-white text-center text-sm mt-6 space-y-2",children:m.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg px-4 py-3 border border-white/20",children:[m.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[m.jsx("span",{className:"inline-block w-2 h-2 bg-green-400 rounded-full"}),m.jsx("div",{className:"opacity-75 text-xs",children:"Secure Event Scope Active"})]}),m.jsx("div",{className:"font-semibold",children:_?.name||"Loading..."}),m.jsxs("div",{className:"opacity-75 mt-2",children:["Total Registered: ",R.length," participants"]}),y?.eventId&&m.jsxs("div",{className:"text-xs opacity-50 mt-2 font-mono",children:["Event ID: ",y.eventId.substring(0,8),"..."]})]})}),m.jsxs(Je,{onClick:()=>p(!0),variant:"outline",className:"w-full h-16 bg-white/10 hover:bg-white/20 text-white border-white/30 text-lg backdrop-blur-sm",size:"lg",children:[m.jsx(DE,{className:"mr-3 h-6 w-6"}),"View Dashboard"]})]}),m.jsxs("div",{className:"max-w-2xl mx-auto mt-16 text-center text-white/70 text-sm space-y-2",children:[m.jsxs("p",{children:[" ",z.length," participants checked in"]}),m.jsxs("p",{className:"flex items-center justify-center gap-2 text-xs",children:[m.jsx("span",{className:"inline-block w-2 h-2 bg-green-400 rounded-full animate-pulse"}),"Auto-updating  Last updated: ",se.toLocaleTimeString()]})]}),m.jsx(gi,{open:a,onOpenChange:c,children:m.jsxs(pi,{className:"max-w-2xl max-h-[80vh] overflow-hidden flex flex-col",children:[m.jsx(Mi,{children:m.jsx(Li,{children:"Search Participants"})}),m.jsxs("div",{className:"space-y-4 flex-1 overflow-hidden flex flex-col",children:[m.jsx("div",{className:"flex gap-2",children:m.jsx(dt,{placeholder:"Search by name, email, or company...",value:t,onChange:De=>be(De.target.value),autoFocus:!0})}),m.jsx("div",{className:"flex-1 overflow-y-auto border rounded-lg",children:k.length>0?m.jsxs(Io,{children:[m.jsx(To,{children:m.jsxs(hr,{children:[m.jsx(kt,{children:"Name"}),m.jsx(kt,{children:"Company"}),m.jsx(kt,{children:"Status"}),m.jsx(kt,{className:"text-right",children:"Action"})]})}),m.jsx(Ro,{children:k.map(De=>{const Be=De.attendance?.some(it=>it.agendaItem===y.title);return m.jsxs(hr,{children:[m.jsx(Nt,{children:m.jsxs("div",{children:[m.jsx("div",{children:De.name}),m.jsx("div",{className:"text-sm text-muted-foreground",children:De.email})]})}),m.jsx(Nt,{children:De.company||"-"}),m.jsx(Nt,{children:Be?m.jsxs("span",{className:"text-green-600 flex items-center gap-1",children:[m.jsx(Ca,{className:"h-4 w-4"}),"Checked In"]}):m.jsx("span",{className:"text-muted-foreground",children:"Not Checked In"})}),m.jsx(Nt,{className:"text-right",children:!Be&&m.jsx(Je,{size:"sm",onClick:()=>St(De.id),disabled:V,children:V?m.jsx(Di,{className:"h-4 w-4 animate-spin"}):"Check In"})})]},De.id)})})]}):m.jsx("div",{className:"text-center py-12 text-muted-foreground",children:t?m.jsxs("div",{children:[m.jsxs("p",{className:"mb-2",children:['No participants found matching "',t,'"']}),m.jsxs("p",{className:"text-sm",children:["Total participants: ",R.length]})]}):m.jsx("p",{children:"Start typing to search participants"})})})]})]})}),m.jsx(gi,{open:w,onOpenChange:De=>!De&&We(),children:m.jsxs(pi,{className:"max-w-lg",children:[m.jsx(Mi,{children:m.jsx(Li,{children:"Scan QR Code"})}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"relative",children:[m.jsx("div",{id:"qr-reader-standalone",className:`${X?"block":"hidden"} rounded-lg overflow-hidden border-2 border-primary relative z-20`,style:{minHeight:"300px"}}),H&&m.jsx("div",{className:"absolute inset-0 bg-green-500/90 rounded-lg flex items-center justify-center z-50 animate-in fade-in",children:m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"w-24 h-24 bg-white rounded-full flex items-center justify-center mx-auto mb-4 animate-in zoom-in duration-500",children:m.jsx(Ca,{className:"w-16 h-16 text-green-500"})}),m.jsx("p",{className:"text-white text-xl",children:"QR Code Detected!"})]})}),X&&!H&&m.jsxs("div",{className:"absolute inset-0 pointer-events-none z-10",children:[m.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-64 h-64",children:m.jsxs("div",{className:"relative w-full h-full",children:[m.jsx("div",{className:"absolute top-0 left-0 w-12 h-12 border-t-4 border-l-4 border-green-500 rounded-tl-lg"}),m.jsx("div",{className:"absolute top-0 right-0 w-12 h-12 border-t-4 border-r-4 border-green-500 rounded-tr-lg"}),m.jsx("div",{className:"absolute bottom-0 left-0 w-12 h-12 border-b-4 border-l-4 border-green-500 rounded-bl-lg"}),m.jsx("div",{className:"absolute bottom-0 right-0 w-12 h-12 border-b-4 border-r-4 border-green-500 rounded-br-lg"})]})}),m.jsx("div",{className:"absolute bottom-4 left-0 right-0 text-center",children:m.jsx("p",{className:"text-white bg-black/50 inline-block px-4 py-2 rounded-lg text-sm",children:"Position QR code within the frame"})})]}),!X&&!H&&m.jsxs("div",{className:"h-64 flex flex-col items-center justify-center bg-muted rounded-lg gap-3 p-4",children:[m.jsx(yp,{className:"h-12 w-12 text-muted-foreground opacity-30"}),m.jsx("p",{className:"text-muted-foreground text-sm",children:"Camera will start automatically"}),m.jsxs(Je,{onClick:Qe,variant:"default",size:"sm",children:[m.jsx(yp,{className:"mr-2 h-4 w-4"}),"Start Camera Manually"]})]})]}),m.jsxs(Je,{onClick:We,variant:"outline",className:"w-full",children:[m.jsx(A0,{className:"mr-2 h-4 w-4"}),"Close"]})]})]})}),m.jsx(gi,{open:d,onOpenChange:p,children:m.jsxs(pi,{className:"max-w-4xl max-h-[80vh] overflow-hidden flex flex-col",children:[m.jsx(Mi,{children:m.jsxs(Li,{children:["Check-In Dashboard - ",y.title]})}),m.jsxs("div",{className:"flex-1 overflow-y-auto",children:[_&&m.jsx("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:m.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm",children:[m.jsx("span",{className:"inline-block w-2 h-2 bg-blue-500 rounded-full animate-pulse"}),m.jsx("span",{className:"text-blue-700",children:"Event:"}),m.jsx("span",{className:"font-semibold text-blue-900",children:_.name}),m.jsx("span",{className:"mx-2 text-blue-400",children:""}),m.jsx("span",{className:"text-xs text-blue-600",children:"Isolated Data View"})]})}),m.jsx("div",{className:"mb-4 p-4 bg-muted rounded-lg",children:m.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[m.jsxs("div",{children:[m.jsx("div",{className:"text-3xl mb-1",children:z.length}),m.jsx("div",{className:"text-sm text-muted-foreground",children:"Checked In"})]}),m.jsxs("div",{children:[m.jsx("div",{className:"text-3xl mb-1",children:R.length}),m.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Registered (This Event)"})]})]})}),z.length===0?m.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[m.jsx(Ca,{className:"h-12 w-12 mx-auto mb-4 opacity-30"}),m.jsx("p",{children:"No participants checked in yet"})]}):m.jsx("div",{className:"border rounded-lg",children:m.jsxs(Io,{children:[m.jsx(To,{children:m.jsxs(hr,{children:[m.jsx(kt,{children:"Name"}),m.jsx(kt,{children:"Email"}),m.jsx(kt,{children:"Company"}),m.jsx(kt,{children:"Position"}),m.jsx(kt,{children:"Check-In Time"})]})}),m.jsx(Ro,{children:z.map(De=>{const Be=De.attendance.find(it=>it.agendaItem===y.title);return m.jsxs(hr,{children:[m.jsx(Nt,{children:De.name}),m.jsx(Nt,{className:"text-sm",children:De.email}),m.jsx(Nt,{children:De.company||"-"}),m.jsx(Nt,{children:De.position||"-"}),m.jsx(Nt,{children:Be&&m.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[m.jsx(Dx,{className:"h-3 w-3"}),new Date(Be.timestamp).toLocaleTimeString()]})})]},De.id)})})]})})]})]})}),m.jsx(gi,{open:ve,onOpenChange:Ce,children:m.jsx(pi,{className:"max-w-md",children:m.jsxs("div",{className:"text-center py-8",children:[m.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6 animate-in zoom-in duration-500",children:m.jsx(Ca,{className:"w-12 h-12 text-green-600"})}),m.jsx("h3",{className:"text-2xl mb-2",children:"Check-In Successful!"}),m.jsx("p",{className:"text-lg text-muted-foreground",children:ie}),m.jsx(Je,{onClick:()=>Ce(!1),className:"mt-6",size:"lg",children:"Close"})]})})}),m.jsx("style",{children:`
      #qr-reader-standalone video, 
      #qr-reader-standalone canvas {
        width: 100% !important;
        height: auto !important;
        object-fit: cover; /* This makes the video cover the box nicely */
        min-height: 300px; /* Match your container's min-height */
      }
    `})]})}function zT({eventId:r}){const[t,n]=T.useState(null),[a,c]=T.useState(null),[d,p]=T.useState(!0),[w,b]=T.useState(!1),[y,A]=T.useState(null),[_,O]=T.useState(!1),[R,M]=T.useState({name:"",email:"",phone:"",company:"",position:"",customData:{}});T.useEffect(()=>{k()},[r]);const k=async()=>{p(!0);try{const{data:V,error:ge}=await qt.from("events").select("*").eq("id",r).single();if(ge||!V){A("Event not found. Please check the registration link."),p(!1);return}const Ee={id:V.id,name:V.name,startDate:V.startDate,endDate:V.endDate,location:V.location,description:V.description,createdAt:V.createdAt,customFields:V.customFields||[],branding:V.branding};n(Ee);const ce=V.branding||{logoUrl:"",headerText:"",primaryColor:"#7C3AED",backgroundColor:"#FFFFFF",fontFamily:"sans-serif"};c(ce),console.log("[REGISTRATION] Loaded event:",Ee.name),console.log("[REGISTRATION] Branding settings:",ce),p(!1)}catch(V){console.error("[REGISTRATION] Error loading event:",V),A("Failed to load registration form. Please try again."),p(!1)}},L=(V,ge)=>{M(Ee=>({...Ee,[V]:ge}))},z=(V,ge)=>{M(Ee=>({...Ee,customData:{...Ee.customData,[V]:ge}}))},U=()=>{M({name:"",email:"",phone:"",company:"",position:"",customData:{}}),O(!1),A(null),window.scrollTo({top:0,behavior:"smooth"})},F=()=>{if(!R.name.trim())return A("Please enter your name"),!1;if(!R.email.trim())return A("Please enter your email"),!1;if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(R.email))return A("Please enter a valid email address"),!1;if(t?.customFields){for(const ge of t.customFields)if(ge.required&&!R.customData[ge.id])return A(`${ge.label} is required`),!1}return!0},$=async V=>{if(V.preventDefault(),A(null),!!F()){b(!0);try{const Ee={id:`part_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,eventId:r,name:R.name,email:R.email,phone:R.phone,company:R.company,position:R.position,registeredAt:new Date().toISOString(),attendance:[],customData:R.customData},{error:ce}=await qt.from("participants").insert([Ee]);if(ce)throw new Error(`Failed to register: ${ce.message}`);console.log("[REGISTRATION] Participant registered:",Ee.id),O(!0)}catch(ge){console.error("[REGISTRATION] Error submitting form:",ge),A(ge instanceof Error?ge.message:"Failed to submit registration. Please try again.")}finally{b(!1)}}};if(d)return m.jsx("div",{className:"min-h-screen flex items-center justify-center p-6",style:{backgroundColor:"#f0f9ff"},children:m.jsx(fi,{className:"w-full max-w-2xl",children:m.jsx(Pi,{className:"py-12",children:m.jsxs("div",{className:"text-center",children:[m.jsx(Di,{className:"h-12 w-12 animate-spin mx-auto mb-4 text-primary"}),m.jsx("p",{className:"text-muted-foreground",children:"Loading registration form..."})]})})})});if(y&&!t)return m.jsx("div",{className:"min-h-screen flex items-center justify-center p-6",style:{backgroundColor:"#f0f9ff"},children:m.jsx(fi,{className:"w-full max-w-2xl",children:m.jsx(Pi,{className:"py-12",children:m.jsxs("div",{className:"text-center",children:[m.jsx(Bu,{className:"h-16 w-16 mx-auto mb-4 text-destructive"}),m.jsx("h2",{className:"text-2xl mb-2",children:"Registration Unavailable"}),m.jsx("p",{className:"text-muted-foreground",children:y})]})})})});const X=t?.customFields?.sort((V,ge)=>V.order-ge.order)||[],Z=()=>{if(!a?.logoSize)return"h-16";switch(a.logoSize){case"small":return"h-12";case"medium":return"h-16";case"large":return"h-24";default:return"h-16"}},H=()=>{if(!a?.logoAlignment)return"justify-center";switch(a.logoAlignment){case"left":return"justify-start";case"center":return"justify-center";case"right":return"justify-end";default:return"justify-center"}},K=()=>{if(!a?.fontFamily)return"font-sans";switch(a.fontFamily){case"sans-serif":return"font-sans";case"serif":return"font-serif";case"monospace":return"font-mono";default:return"font-sans"}};return m.jsxs("div",{className:`min-h-screen py-12 px-6 ${K()}`,style:{backgroundColor:a?.backgroundColor||"#f0f9ff"},children:[m.jsxs("div",{className:"max-w-2xl mx-auto",children:[m.jsx(fi,{className:"mb-6",children:m.jsxs(Bs,{className:"text-center",children:[a?.logoUrl&&m.jsx("div",{className:`flex ${H()} mb-4`,children:m.jsx("img",{src:a.logoUrl,alt:"Event Logo",className:`${Z()} object-contain`})}),a?.customHeader&&m.jsx("p",{className:"text-lg mb-2",style:{color:a.primaryColor},children:a.customHeader}),m.jsx(Fs,{className:"text-3xl",children:t?.name}),m.jsx("div",{className:"text-muted-foreground text-base mt-2",children:m.jsxs("div",{className:"flex items-center justify-center gap-4 mt-2",children:[t?.startDate&&m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx(Wl,{className:"h-4 w-4"}),m.jsx("span",{children:new Date(t.startDate).toLocaleDateString()})]}),t?.location&&m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx(C0,{className:"h-4 w-4"}),m.jsx("span",{children:t.location})]})]})}),t?.description&&m.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:t.description})]})}),m.jsxs(fi,{children:[m.jsxs(Bs,{children:[m.jsx(Fs,{children:"Register Now"}),m.jsx(ja,{children:"Please fill out the form below to register"})]}),m.jsxs(Pi,{children:[m.jsx("style",{children:`
              .registration-form label:has(+ input[required])::after,
              .registration-form label:has(+ textarea[required])::after,
              .registration-form label:has(+ select[required])::after {
                content: ' *';
                color: ${a?.primaryColor||"#dc2626"};
              }
            `}),m.jsxs("form",{onSubmit:$,className:"space-y-6 registration-form",children:[m.jsxs("div",{className:"space-y-4",children:[m.jsx("h3",{className:"font-semibold text-sm text-muted-foreground",children:"BASIC INFORMATION"}),m.jsxs("div",{children:[m.jsx(Ze,{htmlFor:"name",children:"Full Name"}),m.jsx(dt,{id:"name",value:R.name,onChange:V=>L("name",V.target.value),placeholder:"Enter your full name",required:!0})]}),m.jsxs("div",{children:[m.jsx(Ze,{htmlFor:"email",children:"Email Address"}),m.jsx(dt,{id:"email",type:"email",value:R.email,onChange:V=>L("email",V.target.value),placeholder:"your.email@example.com",required:!0})]}),m.jsxs("div",{children:[m.jsx(Ze,{htmlFor:"phone",children:"Phone Number"}),m.jsx(dt,{id:"phone",type:"tel",value:R.phone,onChange:V=>L("phone",V.target.value),placeholder:"+1 (555) 000-0000"})]}),m.jsxs("div",{children:[m.jsx(Ze,{htmlFor:"company",children:"Company"}),m.jsx(dt,{id:"company",value:R.company,onChange:V=>L("company",V.target.value),placeholder:"Your company name"})]}),m.jsxs("div",{children:[m.jsx(Ze,{htmlFor:"position",children:"Position/Title"}),m.jsx(dt,{id:"position",value:R.position,onChange:V=>L("position",V.target.value),placeholder:"Your job title"})]})]}),X.length>0&&m.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[m.jsx("h3",{className:"font-semibold text-sm text-muted-foreground",children:"ADDITIONAL INFORMATION"}),X.map(V=>m.jsxs("div",{children:[m.jsxs(Ze,{htmlFor:V.id,children:[V.label," ",V.required&&"*"]}),V.type==="textarea"?m.jsx(Kl,{id:V.id,value:R.customData[V.id]||"",onChange:ge=>z(V.id,ge.target.value),required:V.required}):V.type==="select"?m.jsxs("select",{id:V.id,value:R.customData[V.id]||"",onChange:ge=>z(V.id,ge.target.value),required:V.required,className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[m.jsx("option",{value:"",children:"Select..."}),V.options?.map(ge=>m.jsx("option",{value:ge,children:ge},ge))]}):m.jsx(dt,{id:V.id,type:V.type,value:R.customData[V.id]||"",onChange:ge=>z(V.id,ge.target.value),required:V.required})]},V.id))]}),y&&m.jsxs("div",{className:"bg-destructive/10 text-destructive p-3 rounded-lg flex items-center gap-2",children:[m.jsx(Bu,{className:"h-4 w-4"}),m.jsx("span",{className:"text-sm",children:y})]}),m.jsx(Je,{type:"submit",className:"w-full",size:"lg",disabled:w,style:a?.primaryColor?{backgroundColor:a.primaryColor,borderColor:a.primaryColor}:void 0,children:w?m.jsxs(m.Fragment,{children:[m.jsx(Di,{className:"mr-2 h-4 w-4 animate-spin"}),"Submitting..."]}):"Complete Registration"})]})]})]}),m.jsx("p",{className:"text-center text-sm text-muted-foreground mt-6",children:"By registering, you agree to receive event-related communications."})]}),m.jsx(gi,{open:_,onOpenChange:V=>!V&&U(),children:m.jsxs(pi,{className:"sm:max-w-md",onInteractOutside:V=>V.preventDefault(),onEscapeKeyDown:U,children:[m.jsxs(Mi,{className:"text-center",children:[m.jsx("div",{className:"flex justify-center mb-4",children:a?.logoUrl&&m.jsx("img",{src:a.logoUrl,alt:"Event Logo",className:"h-12 object-contain"})}),m.jsx("div",{className:"flex justify-center mb-4",children:m.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center",style:{backgroundColor:a?.primaryColor?`${a.primaryColor}20`:"#dcfce7"},children:m.jsx(Ca,{className:"h-10 w-10",style:{color:a?.primaryColor||"#16a34a"}})})}),m.jsx(Li,{className:"text-2xl text-center",children:"Registration Successful!"}),m.jsxs(La,{className:"text-center text-base pt-2",children:["Thank you for registering for ",m.jsx("strong",{children:t?.name}),".",m.jsx("br",{}),m.jsx("br",{}),"You will receive an email shortly containing your QR code and further event details."]})]}),m.jsx(o0,{className:"sm:justify-center pt-4",children:m.jsx(Je,{onClick:U,className:"w-full sm:w-auto",size:"lg",style:a?.primaryColor?{backgroundColor:a.primaryColor,borderColor:a.primaryColor}:void 0,children:"Register Another Participant"})})]})})]})}var _n=function(){return _n=Object.assign||function(r){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var c in t)Object.prototype.hasOwnProperty.call(t,c)&&(r[c]=t[c])}return r},_n.apply(this,arguments)},ax={width:"100%",height:"10px",top:"0px",left:"0px",cursor:"row-resize"},lx={width:"10px",height:"100%",top:"0px",left:"0px",cursor:"col-resize"},Tu={width:"20px",height:"20px",position:"absolute",zIndex:1},VT={top:_n(_n({},ax),{top:"-5px"}),right:_n(_n({},lx),{left:void 0,right:"-5px"}),bottom:_n(_n({},ax),{top:void 0,bottom:"-5px"}),left:_n(_n({},lx),{left:"-5px"}),topRight:_n(_n({},Tu),{right:"-10px",top:"-10px",cursor:"ne-resize"}),bottomRight:_n(_n({},Tu),{right:"-10px",bottom:"-10px",cursor:"se-resize"}),bottomLeft:_n(_n({},Tu),{left:"-10px",bottom:"-10px",cursor:"sw-resize"}),topLeft:_n(_n({},Tu),{left:"-10px",top:"-10px",cursor:"nw-resize"})},WT=T.memo(function(r){var t=r.onResizeStart,n=r.direction,a=r.children,c=r.replaceStyles,d=r.className,p=T.useCallback(function(y){t(y,n)},[t,n]),w=T.useCallback(function(y){t(y,n)},[t,n]),b=T.useMemo(function(){return _n(_n({position:"absolute",userSelect:"none"},VT[n]),c??{})},[c,n]);return m.jsx("div",{className:d||void 0,style:b,onMouseDown:p,onTouchStart:w,children:a})}),HT=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])},r(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),ki=function(){return ki=Object.assign||function(r){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var c in t)Object.prototype.hasOwnProperty.call(t,c)&&(r[c]=t[c])}return r},ki.apply(this,arguments)},$T={width:"auto",height:"auto"},Ru=function(r,t,n){return Math.max(Math.min(r,n),t)},cx=function(r,t,n){var a=Math.round(r/t);return a*t+n*(a-1)},va=function(r,t){return new RegExp(r,"i").test(t)},ku=function(r){return!!(r.touches&&r.touches.length)},GT=function(r){return!!((r.clientX||r.clientX===0)&&(r.clientY||r.clientY===0))},ux=function(r,t,n){n===void 0&&(n=0);var a=t.reduce(function(d,p,w){return Math.abs(p-r)<Math.abs(t[d]-r)?w:d},0),c=Math.abs(t[a]-r);return n===0||c<n?t[a]:r},Uf=function(r){return r=r.toString(),r==="auto"||r.endsWith("px")||r.endsWith("%")||r.endsWith("vh")||r.endsWith("vw")||r.endsWith("vmax")||r.endsWith("vmin")?r:"".concat(r,"px")},Ou=function(r,t,n,a){if(r&&typeof r=="string"){if(r.endsWith("px"))return Number(r.replace("px",""));if(r.endsWith("%")){var c=Number(r.replace("%",""))/100;return t*c}if(r.endsWith("vw")){var c=Number(r.replace("vw",""))/100;return n*c}if(r.endsWith("vh")){var c=Number(r.replace("vh",""))/100;return a*c}}return r},qT=function(r,t,n,a,c,d,p){return a=Ou(a,r.width,t,n),c=Ou(c,r.height,t,n),d=Ou(d,r.width,t,n),p=Ou(p,r.height,t,n),{maxWidth:typeof a>"u"?void 0:Number(a),maxHeight:typeof c>"u"?void 0:Number(c),minWidth:typeof d>"u"?void 0:Number(d),minHeight:typeof p>"u"?void 0:Number(p)}},XT=function(r){return Array.isArray(r)?r:[r,r]},KT=["as","ref","style","className","grid","gridGap","snap","bounds","boundsByDirection","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],dx="__resizable_base__",YT=(function(r){HT(t,r);function t(n){var a,c,d,p,w=r.call(this,n)||this;return w.ratio=1,w.resizable=null,w.parentLeft=0,w.parentTop=0,w.resizableLeft=0,w.resizableRight=0,w.resizableTop=0,w.resizableBottom=0,w.targetLeft=0,w.targetTop=0,w.delta={width:0,height:0},w.appendBase=function(){if(!w.resizable||!w.window)return null;var b=w.parentNode;if(!b)return null;var y=w.window.document.createElement("div");return y.style.width="100%",y.style.height="100%",y.style.position="absolute",y.style.transform="scale(0, 0)",y.style.left="0",y.style.flex="0 0 100%",y.classList?y.classList.add(dx):y.className+=dx,b.appendChild(y),y},w.removeBase=function(b){var y=w.parentNode;y&&y.removeChild(b)},w.state={isResizing:!1,width:(c=(a=w.propsSize)===null||a===void 0?void 0:a.width)!==null&&c!==void 0?c:"auto",height:(p=(d=w.propsSize)===null||d===void 0?void 0:d.height)!==null&&p!==void 0?p:"auto",direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"},flexBasis:void 0},w.onResizeStart=w.onResizeStart.bind(w),w.onMouseMove=w.onMouseMove.bind(w),w.onMouseUp=w.onMouseUp.bind(w),w}return Object.defineProperty(t.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"window",{get:function(){return!this.resizable||!this.resizable.ownerDocument?null:this.resizable.ownerDocument.defaultView},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||$T},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){var n=0,a=0;if(this.resizable&&this.window){var c=this.resizable.offsetWidth,d=this.resizable.offsetHeight,p=this.resizable.style.position;p!=="relative"&&(this.resizable.style.position="relative"),n=this.resizable.style.width!=="auto"?this.resizable.offsetWidth:c,a=this.resizable.style.height!=="auto"?this.resizable.offsetHeight:d,this.resizable.style.position=p}return{width:n,height:a}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sizeStyle",{get:function(){var n=this,a=this.props.size,c=function(w){var b;if(typeof n.state[w]>"u"||n.state[w]==="auto")return"auto";if(n.propsSize&&n.propsSize[w]&&(!((b=n.propsSize[w])===null||b===void 0)&&b.toString().endsWith("%"))){if(n.state[w].toString().endsWith("%"))return n.state[w].toString();var y=n.getParentSize(),A=Number(n.state[w].toString().replace("px","")),_=A/y[w]*100;return"".concat(_,"%")}return Uf(n.state[w])},d=a&&typeof a.width<"u"&&!this.state.isResizing?Uf(a.width):c("width"),p=a&&typeof a.height<"u"&&!this.state.isResizing?Uf(a.height):c("height");return{width:d,height:p}},enumerable:!1,configurable:!0}),t.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var n=this.appendBase();if(!n)return{width:0,height:0};var a=!1,c=this.parentNode.style.flexWrap;c!=="wrap"&&(a=!0,this.parentNode.style.flexWrap="wrap"),n.style.position="relative",n.style.minWidth="100%",n.style.minHeight="100%";var d={width:n.offsetWidth,height:n.offsetHeight};return a&&(this.parentNode.style.flexWrap=c),this.removeBase(n),d},t.prototype.bindEvents=function(){this.window&&(this.window.addEventListener("mouseup",this.onMouseUp),this.window.addEventListener("mousemove",this.onMouseMove),this.window.addEventListener("mouseleave",this.onMouseUp),this.window.addEventListener("touchmove",this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener("touchend",this.onMouseUp))},t.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener("mouseup",this.onMouseUp),this.window.removeEventListener("mousemove",this.onMouseMove),this.window.removeEventListener("mouseleave",this.onMouseUp),this.window.removeEventListener("touchmove",this.onMouseMove,!0),this.window.removeEventListener("touchend",this.onMouseUp))},t.prototype.componentDidMount=function(){if(!(!this.resizable||!this.window)){var n=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:n.flexBasis!=="auto"?n.flexBasis:void 0})}},t.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},t.prototype.createSizeForCssProperty=function(n,a){var c=this.propsSize&&this.propsSize[a];return this.state[a]==="auto"&&this.state.original[a]===n&&(typeof c>"u"||c==="auto")?"auto":n},t.prototype.calculateNewMaxFromBoundary=function(n,a){var c=this.props.boundsByDirection,d=this.state.direction,p=c&&va("left",d),w=c&&va("top",d),b,y;if(this.props.bounds==="parent"){var A=this.parentNode;A&&(b=p?this.resizableRight-this.parentLeft:A.offsetWidth+(this.parentLeft-this.resizableLeft),y=w?this.resizableBottom-this.parentTop:A.offsetHeight+(this.parentTop-this.resizableTop))}else this.props.bounds==="window"?this.window&&(b=p?this.resizableRight:this.window.innerWidth-this.resizableLeft,y=w?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(b=p?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),y=w?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return b&&Number.isFinite(b)&&(n=n&&n<b?n:b),y&&Number.isFinite(y)&&(a=a&&a<y?a:y),{maxWidth:n,maxHeight:a}},t.prototype.calculateNewSizeFromDirection=function(n,a){var c=this.props.scale||1,d=XT(this.props.resizeRatio||1),p=d[0],w=d[1],b=this.state,y=b.direction,A=b.original,_=this.props,O=_.lockAspectRatio,R=_.lockAspectRatioExtraHeight,M=_.lockAspectRatioExtraWidth,k=A.width,L=A.height,z=R||0,U=M||0;return va("right",y)&&(k=A.width+(n-A.x)*p/c,O&&(L=(k-U)/this.ratio+z)),va("left",y)&&(k=A.width-(n-A.x)*p/c,O&&(L=(k-U)/this.ratio+z)),va("bottom",y)&&(L=A.height+(a-A.y)*w/c,O&&(k=(L-z)*this.ratio+U)),va("top",y)&&(L=A.height-(a-A.y)*w/c,O&&(k=(L-z)*this.ratio+U)),{newWidth:k,newHeight:L}},t.prototype.calculateNewSizeFromAspectRatio=function(n,a,c,d){var p=this.props,w=p.lockAspectRatio,b=p.lockAspectRatioExtraHeight,y=p.lockAspectRatioExtraWidth,A=typeof d.width>"u"?10:d.width,_=typeof c.width>"u"||c.width<0?n:c.width,O=typeof d.height>"u"?10:d.height,R=typeof c.height>"u"||c.height<0?a:c.height,M=b||0,k=y||0;if(w){var L=(O-M)*this.ratio+k,z=(R-M)*this.ratio+k,U=(A-k)/this.ratio+M,F=(_-k)/this.ratio+M,$=Math.max(A,L),X=Math.min(_,z),Z=Math.max(O,U),H=Math.min(R,F);n=Ru(n,$,X),a=Ru(a,Z,H)}else n=Ru(n,A,_),a=Ru(a,O,R);return{newWidth:n,newHeight:a}},t.prototype.setBoundingClientRect=function(){var n=1/(this.props.scale||1);if(this.props.bounds==="parent"){var a=this.parentNode;if(a){var c=a.getBoundingClientRect();this.parentLeft=c.left*n,this.parentTop=c.top*n}}if(this.props.bounds&&typeof this.props.bounds!="string"){var d=this.props.bounds.getBoundingClientRect();this.targetLeft=d.left*n,this.targetTop=d.top*n}if(this.resizable){var p=this.resizable.getBoundingClientRect(),w=p.left,b=p.top,y=p.right,A=p.bottom;this.resizableLeft=w*n,this.resizableRight=y*n,this.resizableTop=b*n,this.resizableBottom=A*n}},t.prototype.onResizeStart=function(n,a){if(!(!this.resizable||!this.window)){var c=0,d=0;if(n.nativeEvent&&GT(n.nativeEvent)?(c=n.nativeEvent.clientX,d=n.nativeEvent.clientY):n.nativeEvent&&ku(n.nativeEvent)&&(c=n.nativeEvent.touches[0].clientX,d=n.nativeEvent.touches[0].clientY),this.props.onResizeStart&&this.resizable){var p=this.props.onResizeStart(n,a,this.resizable);if(p===!1)return}this.props.size&&(typeof this.props.size.height<"u"&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),typeof this.props.size.width<"u"&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio=typeof this.props.lockAspectRatio=="number"?this.props.lockAspectRatio:this.size.width/this.size.height;var w,b=this.window.getComputedStyle(this.resizable);if(b.flexBasis!=="auto"){var y=this.parentNode;if(y){var A=this.window.getComputedStyle(y).flexDirection;this.flexDir=A.startsWith("row")?"row":"column",w=b.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var _={original:{x:c,y:d,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:ki(ki({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(n.target).cursor||"auto"}),direction:a,flexBasis:w};this.setState(_)}},t.prototype.onMouseMove=function(n){var a=this;if(!(!this.state.isResizing||!this.resizable||!this.window)){if(this.window.TouchEvent&&ku(n))try{n.preventDefault(),n.stopPropagation()}catch{}var c=this.props,d=c.maxWidth,p=c.maxHeight,w=c.minWidth,b=c.minHeight,y=ku(n)?n.touches[0].clientX:n.clientX,A=ku(n)?n.touches[0].clientY:n.clientY,_=this.state,O=_.direction,R=_.original,M=_.width,k=_.height,L=this.getParentSize(),z=qT(L,this.window.innerWidth,this.window.innerHeight,d,p,w,b);d=z.maxWidth,p=z.maxHeight,w=z.minWidth,b=z.minHeight;var U=this.calculateNewSizeFromDirection(y,A),F=U.newHeight,$=U.newWidth,X=this.calculateNewMaxFromBoundary(d,p);this.props.snap&&this.props.snap.x&&($=ux($,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(F=ux(F,this.props.snap.y,this.props.snapGap));var Z=this.calculateNewSizeFromAspectRatio($,F,{width:X.maxWidth,height:X.maxHeight},{width:w,height:b});if($=Z.newWidth,F=Z.newHeight,this.props.grid){var H=cx($,this.props.grid[0],this.props.gridGap?this.props.gridGap[0]:0),K=cx(F,this.props.grid[1],this.props.gridGap?this.props.gridGap[1]:0),V=this.props.snapGap||0,ge=V===0||Math.abs(H-$)<=V?H:$,Ee=V===0||Math.abs(K-F)<=V?K:F;$=ge,F=Ee}var ce={width:$-R.width,height:F-R.height};if(this.delta=ce,M&&typeof M=="string"){if(M.endsWith("%")){var ve=$/L.width*100;$="".concat(ve,"%")}else if(M.endsWith("vw")){var Ce=$/this.window.innerWidth*100;$="".concat(Ce,"vw")}else if(M.endsWith("vh")){var ie=$/this.window.innerHeight*100;$="".concat(ie,"vh")}}if(k&&typeof k=="string"){if(k.endsWith("%")){var ve=F/L.height*100;F="".concat(ve,"%")}else if(k.endsWith("vw")){var Ce=F/this.window.innerWidth*100;F="".concat(Ce,"vw")}else if(k.endsWith("vh")){var ie=F/this.window.innerHeight*100;F="".concat(ie,"vh")}}var he={width:this.createSizeForCssProperty($,"width"),height:this.createSizeForCssProperty(F,"height")};this.flexDir==="row"?he.flexBasis=he.width:this.flexDir==="column"&&(he.flexBasis=he.height);var se=this.state.width!==he.width,J=this.state.height!==he.height,ne=this.state.flexBasis!==he.flexBasis,oe=se||J||ne;oe&&Va.flushSync(function(){a.setState(he)}),this.props.onResize&&oe&&this.props.onResize(n,O,this.resizable,ce)}},t.prototype.onMouseUp=function(n){var a,c,d=this.state,p=d.isResizing,w=d.direction;d.original,!(!p||!this.resizable)&&(this.props.onResizeStop&&this.props.onResizeStop(n,w,this.resizable,this.delta),this.props.size&&this.setState({width:(a=this.props.size.width)!==null&&a!==void 0?a:"auto",height:(c=this.props.size.height)!==null&&c!==void 0?c:"auto"}),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:ki(ki({},this.state.backgroundStyle),{cursor:"auto"})}))},t.prototype.updateSize=function(n){var a,c;this.setState({width:(a=n.width)!==null&&a!==void 0?a:"auto",height:(c=n.height)!==null&&c!==void 0?c:"auto"})},t.prototype.renderResizer=function(){var n=this,a=this.props,c=a.enable,d=a.handleStyles,p=a.handleClasses,w=a.handleWrapperStyle,b=a.handleWrapperClass,y=a.handleComponent;if(!c)return null;var A=Object.keys(c).map(function(_){return c[_]!==!1?m.jsx(WT,{direction:_,onResizeStart:n.onResizeStart,replaceStyles:d&&d[_],className:p&&p[_],children:y&&y[_]?y[_]:null},_):null});return m.jsx("div",{className:b,style:w,children:A})},t.prototype.render=function(){var n=this,a=Object.keys(this.props).reduce(function(p,w){return KT.indexOf(w)!==-1||(p[w]=n.props[w]),p},{}),c=ki(ki(ki({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});this.state.flexBasis&&(c.flexBasis=this.state.flexBasis);var d=this.props.as||"div";return m.jsxs(d,ki({style:c,className:this.props.className},a,{ref:function(p){p&&(n.resizable=p)},children:[this.state.isResizing&&m.jsx("div",{style:this.state.backgroundStyle}),this.props.children,this.renderResizer()]}))},t.defaultProps={as:"div",onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],gridGap:[0,0],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},t})(T.PureComponent),r1="Radio",[ZT,Vv]=Qr(r1),[QT,JT]=ZT(r1),Wv=T.forwardRef((r,t)=>{const{__scopeRadio:n,name:a,checked:c=!1,required:d,disabled:p,value:w="on",onCheck:b,form:y,...A}=r,[_,O]=T.useState(null),R=Ut(t,L=>O(L)),M=T.useRef(!1),k=_?y||!!_.closest("form"):!0;return m.jsxs(QT,{scope:n,checked:c,disabled:p,children:[m.jsx(xt.button,{type:"button",role:"radio","aria-checked":c,"data-state":qv(c),"data-disabled":p?"":void 0,disabled:p,value:w,...A,ref:R,onClick:Et(r.onClick,L=>{c||b?.(),k&&(M.current=L.isPropagationStopped(),M.current||L.stopPropagation())})}),k&&m.jsx(Gv,{control:_,bubbles:!M.current,name:a,value:w,checked:c,required:d,disabled:p,form:y,style:{transform:"translateX(-100%)"}})]})});Wv.displayName=r1;var Hv="RadioIndicator",$v=T.forwardRef((r,t)=>{const{__scopeRadio:n,forceMount:a,...c}=r,d=JT(Hv,n);return m.jsx($s,{present:a||d.checked,children:m.jsx(xt.span,{"data-state":qv(d.checked),"data-disabled":d.disabled?"":void 0,...c,ref:t})})});$v.displayName=Hv;var e8="RadioBubbleInput",Gv=T.forwardRef(({__scopeRadio:r,control:t,checked:n,bubbles:a=!0,...c},d)=>{const p=T.useRef(null),w=Ut(p,d),b=dd(n),y=ud(t);return T.useEffect(()=>{const A=p.current;if(!A)return;const _=window.HTMLInputElement.prototype,R=Object.getOwnPropertyDescriptor(_,"checked").set;if(b!==n&&R){const M=new Event("click",{bubbles:a});R.call(A,n),A.dispatchEvent(M)}},[b,n,a]),m.jsx(xt.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...c,tabIndex:-1,ref:w,style:{...c.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Gv.displayName=e8;function qv(r){return r?"checked":"unchecked"}var t8=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],xd="RadioGroup",[n8]=Qr(xd,[nd,Vv]),Xv=nd(),Kv=Vv(),[r8,i8]=n8(xd),Yv=T.forwardRef((r,t)=>{const{__scopeRadioGroup:n,name:a,defaultValue:c,value:d,required:p=!1,disabled:w=!1,orientation:b,dir:y,loop:A=!0,onValueChange:_,...O}=r,R=Xv(n),M=Jl(y),[k,L]=mi({prop:d,defaultProp:c??null,onChange:_,caller:xd});return m.jsx(r8,{scope:n,name:a,required:p,disabled:w,value:k,onValueChange:L,children:m.jsx(Lw,{asChild:!0,...R,orientation:b,dir:M,loop:A,children:m.jsx(xt.div,{role:"radiogroup","aria-required":p,"aria-orientation":b,"data-disabled":w?"":void 0,dir:M,...O,ref:t})})})});Yv.displayName=xd;var Zv="RadioGroupItem",Qv=T.forwardRef((r,t)=>{const{__scopeRadioGroup:n,disabled:a,...c}=r,d=i8(Zv,n),p=d.disabled||a,w=Xv(n),b=Kv(n),y=T.useRef(null),A=Ut(t,y),_=d.value===c.value,O=T.useRef(!1);return T.useEffect(()=>{const R=k=>{t8.includes(k.key)&&(O.current=!0)},M=()=>O.current=!1;return document.addEventListener("keydown",R),document.addEventListener("keyup",M),()=>{document.removeEventListener("keydown",R),document.removeEventListener("keyup",M)}},[]),m.jsx(Bw,{asChild:!0,...w,focusable:!p,active:_,children:m.jsx(Wv,{disabled:p,required:d.required,checked:_,...b,...c,name:d.name,ref:A,onCheck:()=>d.onValueChange(c.value),onKeyDown:Et(R=>{R.key==="Enter"&&R.preventDefault()}),onFocus:Et(c.onFocus,()=>{O.current&&y.current?.click()})})})});Qv.displayName=Zv;var s8="RadioGroupIndicator",Jv=T.forwardRef((r,t)=>{const{__scopeRadioGroup:n,...a}=r,c=Kv(n);return m.jsx($v,{...c,...a,ref:t})});Jv.displayName=s8;var o8=Yv,a8=Qv,l8=Jv;function c8({className:r,...t}){return m.jsx(o8,{"data-slot":"radio-group",className:yt("grid gap-3",r),...t})}function u8({className:r,...t}){return m.jsx(a8,{"data-slot":"radio-group-item",className:yt("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",r),...t,children:m.jsx(l8,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:m.jsx(VE,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}var wd="Collapsible",[d8,e2]=Qr(wd),[h8,i1]=d8(wd),t2=T.forwardRef((r,t)=>{const{__scopeCollapsible:n,open:a,defaultOpen:c,disabled:d,onOpenChange:p,...w}=r,[b,y]=mi({prop:a,defaultProp:c??!1,onChange:p,caller:wd});return m.jsx(h8,{scope:n,disabled:d,contentId:ji(),open:b,onOpenToggle:T.useCallback(()=>y(A=>!A),[y]),children:m.jsx(xt.div,{"data-state":o1(b),"data-disabled":d?"":void 0,...w,ref:t})})});t2.displayName=wd;var n2="CollapsibleTrigger",r2=T.forwardRef((r,t)=>{const{__scopeCollapsible:n,...a}=r,c=i1(n2,n);return m.jsx(xt.button,{type:"button","aria-controls":c.contentId,"aria-expanded":c.open||!1,"data-state":o1(c.open),"data-disabled":c.disabled?"":void 0,disabled:c.disabled,...a,ref:t,onClick:Et(r.onClick,c.onOpenToggle)})});r2.displayName=n2;var s1="CollapsibleContent",i2=T.forwardRef((r,t)=>{const{forceMount:n,...a}=r,c=i1(s1,r.__scopeCollapsible);return m.jsx($s,{present:n||c.open,children:({present:d})=>m.jsx(f8,{...a,ref:t,present:d})})});i2.displayName=s1;var f8=T.forwardRef((r,t)=>{const{__scopeCollapsible:n,present:a,children:c,...d}=r,p=i1(s1,n),[w,b]=T.useState(a),y=T.useRef(null),A=Ut(t,y),_=T.useRef(0),O=_.current,R=T.useRef(0),M=R.current,k=p.open||w,L=T.useRef(k),z=T.useRef(void 0);return T.useEffect(()=>{const U=requestAnimationFrame(()=>L.current=!1);return()=>cancelAnimationFrame(U)},[]),Yn(()=>{const U=y.current;if(U){z.current=z.current||{transitionDuration:U.style.transitionDuration,animationName:U.style.animationName},U.style.transitionDuration="0s",U.style.animationName="none";const F=U.getBoundingClientRect();_.current=F.height,R.current=F.width,L.current||(U.style.transitionDuration=z.current.transitionDuration,U.style.animationName=z.current.animationName),b(a)}},[p.open,a]),m.jsx(xt.div,{"data-state":o1(p.open),"data-disabled":p.disabled?"":void 0,id:p.contentId,hidden:!k,...d,ref:A,style:{"--radix-collapsible-content-height":O?`${O}px`:void 0,"--radix-collapsible-content-width":M?`${M}px`:void 0,...r.style},children:k&&c})});function o1(r){return r?"open":"closed"}var g8=t2,p8=r2,m8=i2,vi="Accordion",x8=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[a1,w8,y8]=M0(vi),[yd]=Qr(vi,[y8,e2]),l1=e2(),s2=Cn.forwardRef((r,t)=>{const{type:n,...a}=r,c=a,d=a;return m.jsx(a1.Provider,{scope:r.__scopeAccordion,children:n==="multiple"?m.jsx(C8,{...d,ref:t}):m.jsx(E8,{...c,ref:t})})});s2.displayName=vi;var[o2,v8]=yd(vi),[a2,b8]=yd(vi,{collapsible:!1}),E8=Cn.forwardRef((r,t)=>{const{value:n,defaultValue:a,onValueChange:c=()=>{},collapsible:d=!1,...p}=r,[w,b]=mi({prop:n,defaultProp:a??"",onChange:c,caller:vi});return m.jsx(o2,{scope:r.__scopeAccordion,value:Cn.useMemo(()=>w?[w]:[],[w]),onItemOpen:b,onItemClose:Cn.useCallback(()=>d&&b(""),[d,b]),children:m.jsx(a2,{scope:r.__scopeAccordion,collapsible:d,children:m.jsx(l2,{...p,ref:t})})})}),C8=Cn.forwardRef((r,t)=>{const{value:n,defaultValue:a,onValueChange:c=()=>{},...d}=r,[p,w]=mi({prop:n,defaultProp:a??[],onChange:c,caller:vi}),b=Cn.useCallback(A=>w((_=[])=>[..._,A]),[w]),y=Cn.useCallback(A=>w((_=[])=>_.filter(O=>O!==A)),[w]);return m.jsx(o2,{scope:r.__scopeAccordion,value:p,onItemOpen:b,onItemClose:y,children:m.jsx(a2,{scope:r.__scopeAccordion,collapsible:!0,children:m.jsx(l2,{...d,ref:t})})})}),[S8,vd]=yd(vi),l2=Cn.forwardRef((r,t)=>{const{__scopeAccordion:n,disabled:a,dir:c,orientation:d="vertical",...p}=r,w=Cn.useRef(null),b=Ut(w,t),y=w8(n),_=Jl(c)==="ltr",O=Et(r.onKeyDown,R=>{if(!x8.includes(R.key))return;const M=R.target,k=y().filter(K=>!K.ref.current?.disabled),L=k.findIndex(K=>K.ref.current===M),z=k.length;if(L===-1)return;R.preventDefault();let U=L;const F=0,$=z-1,X=()=>{U=L+1,U>$&&(U=F)},Z=()=>{U=L-1,U<F&&(U=$)};switch(R.key){case"Home":U=F;break;case"End":U=$;break;case"ArrowRight":d==="horizontal"&&(_?X():Z());break;case"ArrowDown":d==="vertical"&&X();break;case"ArrowLeft":d==="horizontal"&&(_?Z():X());break;case"ArrowUp":d==="vertical"&&Z();break}const H=U%z;k[H].ref.current?.focus()});return m.jsx(S8,{scope:n,disabled:a,direction:c,orientation:d,children:m.jsx(a1.Slot,{scope:n,children:m.jsx(xt.div,{...p,"data-orientation":d,ref:b,onKeyDown:a?void 0:O})})})}),Ju="AccordionItem",[A8,c1]=yd(Ju),c2=Cn.forwardRef((r,t)=>{const{__scopeAccordion:n,value:a,...c}=r,d=vd(Ju,n),p=v8(Ju,n),w=l1(n),b=ji(),y=a&&p.value.includes(a)||!1,A=d.disabled||r.disabled;return m.jsx(A8,{scope:n,open:y,disabled:A,triggerId:b,children:m.jsx(g8,{"data-orientation":d.orientation,"data-state":p2(y),...w,...c,ref:t,disabled:A,open:y,onOpenChange:_=>{_?p.onItemOpen(a):p.onItemClose(a)}})})});c2.displayName=Ju;var u2="AccordionHeader",d2=Cn.forwardRef((r,t)=>{const{__scopeAccordion:n,...a}=r,c=vd(vi,n),d=c1(u2,n);return m.jsx(xt.h3,{"data-orientation":c.orientation,"data-state":p2(d.open),"data-disabled":d.disabled?"":void 0,...a,ref:t})});d2.displayName=u2;var m0="AccordionTrigger",h2=Cn.forwardRef((r,t)=>{const{__scopeAccordion:n,...a}=r,c=vd(vi,n),d=c1(m0,n),p=b8(m0,n),w=l1(n);return m.jsx(a1.ItemSlot,{scope:n,children:m.jsx(p8,{"aria-disabled":d.open&&!p.collapsible||void 0,"data-orientation":c.orientation,id:d.triggerId,...w,...a,ref:t})})});h2.displayName=m0;var f2="AccordionContent",g2=Cn.forwardRef((r,t)=>{const{__scopeAccordion:n,...a}=r,c=vd(vi,n),d=c1(f2,n),p=l1(n);return m.jsx(m8,{role:"region","aria-labelledby":d.triggerId,"data-orientation":c.orientation,...p,...a,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...r.style}})});g2.displayName=f2;function p2(r){return r?"open":"closed"}var _8=s2,N8=c2,I8=d2,T8=h2,R8=g2;function m2({...r}){return m.jsx(_8,{"data-slot":"accordion",...r})}function Oa({className:r,...t}){return m.jsx(N8,{"data-slot":"accordion-item",className:yt("border-b last:border-b-0",r),...t})}function Pa({className:r,children:t,...n}){return m.jsx(I8,{className:"flex",children:m.jsxs(T8,{"data-slot":"accordion-trigger",className:yt("focus-visible:border-ring focus-visible:ring-ring/50 flex flex-1 items-start justify-between gap-4 rounded-md py-4 text-left text-sm font-medium transition-all outline-none hover:underline focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 [&[data-state=open]>svg]:rotate-180",r),...n,children:[t,m.jsx(E0,{className:"text-muted-foreground pointer-events-none size-4 shrink-0 translate-y-0.5 transition-transform duration-200"})]})})}function Da({className:r,children:t,...n}){return m.jsx(R8,{"data-slot":"accordion-content",className:"data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down overflow-hidden text-sm",...n,children:m.jsx("div",{className:yt("pt-0 pb-4",r),children:t})})}const hx={CR80:{width:85.6,height:53.98,label:"CR80 (Credit Card)"},A6:{width:105,height:148,label:"A6"},A7:{width:74,height:105,label:"A7"},custom:{width:100,height:150,label:"Custom Size"}},fx=3.5,Mu=r=>{if(!r)return"#000000";const t=r.trim().toLowerCase();return t==="#fff"||t==="#ffffff"||t==="white"?"#000000":r};function k8({eventId:r,onClose:t}){return m.jsx(O8,{eventId:r,onClose:t})}function O8({eventId:r,onClose:t}){const[n,a]=T.useState(null),[c,d]=T.useState(null),[p,w]=T.useState([]),[b,y]=T.useState([]),[A,_]=T.useState(null),[O,R]=T.useState(!1),[M,k]=T.useState(!1),[L,z]=T.useState(!1),[U,F]=T.useState(1),$=()=>{t?t():window.history.back()};T.useEffect(()=>{r&&(Z(),K())},[r]);const X=ye=>({...ye,fontSize:ye.fontSize??16,fontFamily:ye.fontFamily??"sans-serif",fontWeight:ye.fontWeight??"normal",fontStyle:ye.fontStyle??"normal",textAlign:ye.textAlign??"center",color:Mu(ye.color)}),Z=()=>{const ye=Cr.getBadgeSettings(r),be={...ye,backgroundColor:ye.backgroundColor};a(be);const pe=localStorage.getItem(`badge_canvas_${r}`);if(pe)try{const Te=JSON.parse(pe);y(Te.map(We=>X(We)))}catch(Te){console.error("Error loading canvas layout:",Te),H(be)}else H(be)},H=ye=>{if(ye.components){const be=ye.components.map((pe,Te)=>({...pe,x:10,y:10+Te*15,width:pe.type==="qrcode"?25:80,height:pe.type==="qrcode"?25:10,fontSize:16,fontFamily:"sans-serif",fontWeight:"normal",fontStyle:"normal",textAlign:"center",color:"#000000"})).map(X);y(be)}},K=()=>{const ye=Cr.getEventById(r);d(ye)},V=async()=>{if(n){R(!0);try{const ye=b.map(pe=>({id:pe.id,type:pe.type,fieldName:pe.fieldName,label:pe.label,enabled:pe.enabled,order:pe.order})),be={...n,components:ye};Cr.updateBadgeSettings(r,be),localStorage.setItem(`badge_canvas_${r}`,JSON.stringify(b)),k(!0),setTimeout(()=>{k(!1),t?.()},1500)}catch(ye){console.error("Error saving badge settings:",ye),alert("Failed to save badge settings")}finally{R(!1)}}},ge=ye=>{n&&a({...n,...ye})},Ee=(ye,be,pe,Te,We)=>{if(!le||!Ae){console.warn("Canvas dimensions not ready; skipping component add.");return}const Qe=be??le/2,st=pe??Ae/2,St=ye==="qrcode"?25:60,ot=ye==="qrcode"?25:12,hn=Math.max(0,Math.min(100-St,Qe/le*100)),De=Math.max(0,Math.min(100-ot,st/Ae*100)),Be={id:Date.now().toString(),type:ye,fieldName:Te,label:We||ye,enabled:!0,order:b.length,x:hn,y:De,width:St,height:ot,fontSize:16,fontFamily:"sans-serif",fontWeight:"normal",fontStyle:"normal",textAlign:"center",color:"#000000"},it=X(Be);y(qe=>[...qe,it]),_(it.id)},ce=(ye,be)=>{y(pe=>pe.map(Te=>Te.id===ye?{...Te,...be}:Te))},ve=(ye,be,pe)=>{Ee(ye,le/2,Ae/2,be,pe)},Ce=ye=>Math.min(2,Math.max(.5,ye)),ie=ye=>{const be=parseFloat(Ce(ye).toFixed(2));F(be)},he=ye=>{ie(U+ye)},se=ye=>{y(be=>be.filter(pe=>pe.id!==ye)),A===ye&&_(null)},J=async ye=>{const be=ye.target.files?.[0];if(be){if(!be.type.startsWith("image/")){alert("Please upload an image file (PNG or JPG)");return}if(be.size>5*1024*1024){alert("Image must be smaller than 5MB");return}z(!0);try{const pe=new FileReader;pe.onload=()=>{const Te=pe.result;ge({backgroundImageUrl:Te})},pe.readAsDataURL(be)}catch(pe){console.error("Error uploading background image:",pe),alert("Failed to upload image: "+(pe.message||"Unknown error"))}finally{z(!1)}}};if(!n||!c)return null;const ne=hx[n.size||"CR80"],oe=n.size==="custom"?n.customWidth||100:ne.width,Y=n.size==="custom"?n.customHeight||100:ne.height,le=oe*fx,Ae=Y*fx,ke=b.find(ye=>ye.id===A);return m.jsxs("div",{className:"h-screen flex flex-col bg-gradient-to-br from-slate-950 via-indigo-950 to-slate-900 text-white overflow-hidden",children:[m.jsx("header",{className:"flex-shrink-0 px-10 py-6 border-b border-white/15 bg-white/10 backdrop-blur",children:m.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[m.jsxs("div",{children:[m.jsxs("h1",{className:"text-2xl font-semibold tracking-tight flex items-center gap-3",children:[m.jsx(hu,{className:"h-6 w-6 text-purple-300"}),"Badge Designer  ",c.name]}),m.jsx("p",{className:"text-sm text-white/70 mt-1",children:"Click palette items to add them to the badge and customize their appearance in real time."})]}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(Je,{variant:"outline",onClick:$,className:"h-10 px-5 border-white/40 text-white bg-white/10 hover:bg-white/20 hover:text-white",children:"Exit Designer"}),m.jsx(Je,{onClick:V,disabled:O,className:"h-10 px-6 bg-gradient-to-r from-purple-500 via-fuchsia-500 to-indigo-500 hover:from-purple-500/90 hover:to-indigo-500/90 text-white border-none",children:O?m.jsx(m.Fragment,{children:"Saving"}):M?m.jsxs(m.Fragment,{children:[m.jsx(Ca,{className:"mr-2 h-4 w-4"}),"Saved!"]}):m.jsxs(m.Fragment,{children:[m.jsx(Bx,{className:"mr-2 h-4 w-4"}),"Save Template"]})})]})]})}),m.jsx("main",{className:"flex-1 min-h-0 px-10 py-8 overflow-hidden",children:m.jsxs("div",{className:"mx-auto flex h-full min-h-0 max-w-[1600px] gap-6",children:[m.jsx("section",{className:"flex h-full min-h-0 w-[280px] flex-shrink-0 basis-[280px] flex-col overflow-hidden rounded-3xl border border-slate-200 bg-white text-slate-900 shadow-xl",children:m.jsx("div",{className:"flex h-full flex-col gap-4 p-4",children:m.jsxs(m2,{type:"multiple",defaultValue:["size","palette"],className:"flex flex-col gap-4",children:[m.jsxs(Oa,{value:"size",className:"border border-slate-200 border-b-0 rounded-2xl bg-white shadow-sm",children:[m.jsx(Pa,{className:"px-4 text-sm font-semibold text-slate-700",children:"Badge Size"}),m.jsx(Da,{className:"px-4 max-h-[calc(100vh-320px)] overflow-y-auto",children:m.jsxs("div",{className:"space-y-3",children:[m.jsx(c8,{value:n.size,onValueChange:ye=>ge({size:ye}),className:"space-y-2",children:Object.entries(hx).map(([ye,{label:be}])=>m.jsxs("label",{htmlFor:`size-${ye}`,className:"flex items-center gap-3 rounded-xl border border-slate-200 px-3 py-2 text-sm font-medium text-slate-700 hover:border-purple-400 hover:bg-purple-50/50 transition-colors cursor-pointer",children:[m.jsx(u8,{value:ye,id:`size-${ye}`}),m.jsx("span",{children:be})]},ye))}),n.size==="custom"&&m.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-2",children:[m.jsxs("div",{className:"space-y-1.5",children:[m.jsx(Ze,{className:"text-xs font-semibold text-slate-600",children:"Width (mm)"}),m.jsx(dt,{type:"number",value:n.customWidth||100,onChange:ye=>ge({customWidth:parseInt(ye.target.value)}),className:"h-9 text-sm"})]}),m.jsxs("div",{className:"space-y-1.5",children:[m.jsx(Ze,{className:"text-xs font-semibold text-slate-600",children:"Height (mm)"}),m.jsx(dt,{type:"number",value:n.customHeight||150,onChange:ye=>ge({customHeight:parseInt(ye.target.value)}),className:"h-9 text-sm"})]})]}),m.jsxs("div",{className:"text-xs font-semibold text-purple-600 bg-purple-50 rounded-lg px-3 py-2",children:["Preview size: ",oe.toFixed(1),"mm  ",Y.toFixed(1),"mm"]})]})})]}),m.jsxs(Oa,{value:"palette",className:"border border-slate-200 border-b-0 rounded-2xl bg-white shadow-sm",children:[m.jsx(Pa,{className:"px-4 text-sm font-semibold text-slate-700",children:"Component Palette"}),m.jsx(Da,{className:"px-4 max-h-[calc(100vh-320px)] overflow-y-auto",children:m.jsxs("div",{className:"space-y-2",children:[m.jsx("p",{className:"text-xs text-slate-500",children:"Click a component to drop it onto the badge canvas."}),m.jsxs(Ml,{type:"eventName",label:"Event Name",onAdd:ve,children:[m.jsx(hu,{className:"h-3.5 w-3.5 mr-2 text-purple-500"}),m.jsx("span",{className:"text-sm",children:"Event Name"})]}),m.jsxs(Ml,{type:"qrcode",label:"QR Code",onAdd:ve,children:[m.jsx(Lx,{className:"h-3.5 w-3.5 mr-2 text-purple-500"}),m.jsx("span",{className:"text-sm",children:"QR Code"})]}),m.jsxs(Ml,{type:"logo",label:"Event Logo",onAdd:ve,children:[m.jsx(ZE,{className:"h-3.5 w-3.5 mr-2 text-purple-500"}),m.jsx("span",{className:"text-sm",children:"Event Logo"})]}),m.jsx("div",{className:"border-t my-3"}),m.jsx("p",{className:"text-xs font-semibold text-slate-600 uppercase tracking-wide",children:"Participant Fields"}),p.map(ye=>m.jsxs(Ml,{type:"field",fieldName:ye.name,label:ye.label,onAdd:ve,children:[m.jsx(hu,{className:"h-3 w-3 mr-2 text-purple-500"}),m.jsx("span",{className:"text-sm",children:ye.label})]},ye.name)),m.jsx("div",{className:"border-t my-3"}),m.jsxs(Ml,{type:"customText",label:"Custom Text",onAdd:ve,children:[m.jsx(hu,{className:"h-3.5 w-3.5 mr-2 text-purple-500"}),m.jsx("span",{className:"text-sm",children:"Custom Text"})]})]})})]}),m.jsxs(Oa,{value:"background",className:"border border-slate-200 border-b-0 rounded-2xl bg-white shadow-sm",children:[m.jsx(Pa,{className:"px-4 text-sm font-semibold text-slate-700",children:"Background"}),m.jsx(Da,{className:"px-4 max-h-[calc(100vh-320px)] overflow-y-auto",children:m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(Ze,{className:"text-xs font-semibold text-slate-600",children:"Background Color"}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx(dt,{type:"color",value:n.backgroundColor,onChange:ye=>ge({backgroundColor:ye.target.value}),className:"w-12 h-9 p-1 rounded-lg border border-slate-200"}),m.jsx(dt,{type:"text",value:n.backgroundColor,onChange:ye=>ge({backgroundColor:ye.target.value}),placeholder:"#ffffff",className:"h-9 text-sm flex-1"})]})]}),m.jsx("div",{className:"border-t pt-2"}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Ze,{className:"text-xs font-semibold text-slate-600",children:"Background Image"}),m.jsxs("div",{className:"flex gap-2",children:[m.jsxs(Je,{variant:"outline",size:"sm",disabled:L,className:"h-9 text-xs flex-1 border-purple-200 text-purple-600 hover:bg-purple-50",onClick:()=>document.getElementById("bg-file-input")?.click(),children:[m.jsx(S0,{className:"h-4 w-4 mr-2"}),L?"Uploading":"Upload Image"]}),m.jsx("input",{id:"bg-file-input",type:"file",accept:"image/png,image/jpeg,image/jpg",onChange:J,className:"hidden"})]}),m.jsxs("div",{className:"relative text-xs text-slate-500",children:[m.jsx("div",{className:"absolute inset-0 flex items-center",children:m.jsx("span",{className:"w-full border-t"})}),m.jsx("div",{className:"relative flex justify-center",children:m.jsx("span",{className:"bg-white px-2",children:"or use URL"})})]}),m.jsx(dt,{type:"url",value:n.backgroundImageUrl||"",onChange:ye=>ge({backgroundImageUrl:ye.target.value}),placeholder:"https://example.com/image.jpg",className:"h-9 text-sm"}),m.jsx("p",{className:"text-xs text-slate-500",children:"Upload a local file or paste an image URL."}),n.backgroundImageUrl&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(Ze,{className:"text-xs font-semibold text-slate-600",children:"Image Fit"}),m.jsxs(Ia,{value:n.backgroundImageFit||"cover",onValueChange:ye=>ge({backgroundImageFit:ye}),children:[m.jsx(Ra,{className:"h-9 text-sm",children:m.jsx(Ta,{})}),m.jsxs(ka,{children:[m.jsx(dn,{value:"cover",children:"Cover (fill badge)"}),m.jsx(dn,{value:"contain",children:"Contain (fit within)"})]})]})]}),m.jsxs("div",{className:"rounded-xl border border-dashed border-slate-300 bg-slate-50 p-2",children:[m.jsx("p",{className:"text-xs font-semibold text-slate-500 mb-1",children:"Preview"}),m.jsx("img",{src:n.backgroundImageUrl,alt:"Background preview",className:"w-full h-24 object-cover rounded-lg",onError:ye=>{ye.target.style.display="none"}})]}),m.jsx(Je,{variant:"outline",size:"sm",onClick:()=>ge({backgroundImageUrl:"",backgroundImageFit:"cover"}),className:"h-9 text-xs w-full border-rose-200 text-rose-600 hover:bg-rose-50",children:"Remove Image"})]})]})]})})]})]})})}),m.jsxs("section",{className:"flex min-h-0 min-w-0 flex-[0_0_55%] basis-[55%] max-w-[55%] flex-col overflow-hidden rounded-3xl border border-slate-200 bg-white text-slate-900 shadow-2xl",children:[m.jsxs("div",{className:"flex items-center justify-between px-6 pt-6",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-sm font-semibold text-slate-600 uppercase tracking-wide",children:"Canvas Preview"}),m.jsx("p",{className:"text-xs text-slate-500",children:"Zoom to fine-tune positions and drag components directly on the badge."})]}),m.jsxs("div",{className:"flex items-center gap-2 bg-slate-100 rounded-full border border-slate-200 px-3 py-1.5 text-slate-700 shadow-sm",children:[m.jsx(Je,{type:"button",size:"sm",variant:"outline",onClick:()=>he(-.1),className:"h-8 w-8 p-0",children:m.jsx(dC,{className:"h-4 w-4"})}),m.jsx("input",{type:"range",min:"0.5",max:"2",step:"0.05",value:U,onChange:ye=>ie(parseFloat(ye.target.value)),className:"w-36 accent-purple-500"}),m.jsx(Je,{type:"button",size:"sm",variant:"outline",onClick:()=>he(.1),className:"h-8 w-8 p-0",children:m.jsx(No,{className:"h-4 w-4"})}),m.jsxs("span",{className:"text-xs font-semibold w-12 text-center",children:[Math.round(U*100),"%"]})]})]}),m.jsx("div",{className:"flex-1 flex items-center justify-center px-8 pb-10 overflow-auto",children:m.jsx("div",{className:"relative transform transition-transform duration-200 ease-out",style:{transform:`scale(${U})`,transformOrigin:"top center"},children:m.jsx(P8,{width:le,height:Ae,backgroundColor:n.backgroundColor,backgroundImageUrl:n.backgroundImageUrl,backgroundImageFit:n.backgroundImageFit,components:b,selectedComponentId:A,onComponentSelect:_,onComponentMove:(ye,be,pe)=>ce(ye,{x:be,y:pe}),onComponentResize:(ye,be,pe)=>ce(ye,{width:be,height:pe}),event:c})})}),m.jsx("div",{className:"px-6 pb-6",children:m.jsxs("div",{className:"inline-flex items-center gap-2 bg-slate-100 text-slate-600 px-4 py-2 rounded-full text-xs font-medium border border-slate-200",children:[m.jsx("span",{children:"Current size:"}),m.jsxs("span",{children:[oe.toFixed(1),"mm  ",Y.toFixed(1),"mm"]})]})})]}),m.jsx("section",{className:"flex h-full min-h-0 w-[280px] flex-shrink-0 basis-[280px] flex-col overflow-hidden rounded-3xl border border-slate-200 bg-white text-slate-900 shadow-xl",children:m.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:ke?m.jsx(j8,{component:ke,onUpdate:ye=>ce(ke.id,ye),onDelete:()=>se(ke.id),logoUrl:n.logoUrl,onLogoUrlChange:ye=>ge({logoUrl:ye})}):m.jsx("div",{className:"h-full flex items-center justify-center text-center text-sm text-slate-500",children:m.jsxs("div",{children:[m.jsx(fC,{className:"h-10 w-10 mx-auto mb-3 text-purple-400 opacity-70"}),m.jsx("p",{children:"Select a component on the canvas to edit its properties."})]})})})})]})})]})}function Ml({type:r,fieldName:t,label:n,onAdd:a,children:c}){return m.jsx("button",{type:"button",onClick:()=>a(r,t,n),className:"w-full flex items-center px-2.5 py-1.5 bg-white border rounded-md hover:bg-purple-50 hover:border-purple-300 transition-all text-left text-sm font-medium text-gray-700 focus:outline-none focus:ring-2 focus:ring-purple-400 focus:ring-offset-1",children:c})}function P8({width:r,height:t,backgroundColor:n,backgroundImageUrl:a,backgroundImageFit:c="cover",components:d,selectedComponentId:p,onComponentSelect:w,onComponentMove:b,onComponentResize:y,event:A}){const _=T.useRef(null),O={width:`${r}px`,height:`${t}px`,backgroundColor:n};a&&(O.backgroundImage=`url(${a})`,O.backgroundSize=c,O.backgroundPosition="center",O.backgroundRepeat="no-repeat");const R={backgroundSize:"20px 20px",backgroundImage:"linear-gradient(to right, rgba(124, 58, 237, 0.15) 1px, transparent 1px), linear-gradient(to bottom, rgba(124, 58, 237, 0.15) 1px, transparent 1px)",opacity:.25};return m.jsxs("div",{ref:_,"data-badge-canvas":"true",className:"relative border-2 border-gray-400 shadow-2xl transition-all rounded-lg overflow-hidden bg-white cursor-default",style:O,onClick:M=>{M.stopPropagation(),w(null)},children:[m.jsx("div",{className:"absolute inset-0 pointer-events-none",style:R,"aria-hidden":"true"}),d.map(M=>m.jsx(D8,{component:M,isSelected:p===M.id,canvasWidth:r,canvasHeight:t,onSelect:()=>w(M.id),onMove:b,onResize:y,event:A},M.id)),d.length===0&&m.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:m.jsxs("div",{className:"text-center text-gray-400",children:[m.jsx(No,{className:"h-10 w-10 mx-auto mb-3 opacity-30"}),m.jsx("p",{className:"text-sm font-medium",children:"Click components to add them"}),m.jsx("p",{className:"text-xs mt-1 opacity-70",children:"They will appear centered on the badge"})]})})]})}function D8({component:r,isSelected:t,canvasWidth:n,canvasHeight:a,onSelect:c,onMove:d,onResize:p,event:w}){const[b,y]=T.useState(""),[A,_]=T.useState(!1),[O,R]=T.useState({x:0,y:0}),M=T.useRef(null);T.useEffect(()=>{r.type==="qrcode"&&zv.toDataURL("SAMPLE-QR-CODE",{width:200,margin:1}).then(y)},[r.type]);const k=U=>{U.target.closest(".resize-handle")||(U.stopPropagation(),_(!0),R({x:U.clientX-r.x/100*n,y:U.clientY-r.y/100*a}))};T.useEffect(()=>{if(!A)return;const U=$=>{const X=($.clientX-O.x)/n*100,Z=($.clientY-O.y)/a*100;d(r.id,Math.max(0,Math.min(100-r.width,X)),Math.max(0,Math.min(100-r.height,Z)))},F=()=>{_(!1)};return document.addEventListener("mousemove",U),document.addEventListener("mouseup",F),()=>{document.removeEventListener("mousemove",U),document.removeEventListener("mouseup",F)}},[A,O,n,a,r.id,r.width,r.height,d]);const L=(U,F,$,X)=>{const Z=$.offsetWidth/n*100,H=$.offsetHeight/a*100;p(r.id,Math.min(100,Z),Math.min(100,H))},z=()=>r.type==="eventName"?m.jsx("div",{className:"w-full h-full flex items-center justify-center overflow-hidden",style:{fontSize:`${r.fontSize}px`,fontFamily:r.fontFamily,fontWeight:r.fontWeight,fontStyle:r.fontStyle,textAlign:r.textAlign,color:Mu(r.color)},children:r.customText&&r.customText.trim().length>0?r.customText:w.name}):r.type==="field"?m.jsxs("div",{className:"w-full h-full overflow-hidden",style:{fontSize:`${r.fontSize}px`,fontFamily:r.fontFamily,fontWeight:r.fontWeight,fontStyle:r.fontStyle,textAlign:r.textAlign,color:Mu(r.color)},children:[m.jsx("div",{className:"opacity-60 text-xs",children:r.label}),m.jsxs("div",{children:["Sample ",r.label]})]}):r.type==="qrcode"&&b?m.jsx("div",{className:"w-full h-full flex items-center justify-center",children:m.jsx("img",{src:b,alt:"QR Code",className:"w-full h-full object-contain"})}):r.type==="logo"&&w.branding?.logoUrl?m.jsx("div",{className:"w-full h-full flex items-center justify-center",children:m.jsx("img",{src:w.branding.logoUrl,alt:"Logo",className:"w-full h-full object-contain"})}):r.type==="customText"?m.jsx("div",{className:"w-full h-full flex items-center overflow-hidden",style:{fontSize:`${r.fontSize}px`,fontFamily:r.fontFamily,fontWeight:r.fontWeight,fontStyle:r.fontStyle,textAlign:r.textAlign,color:Mu(r.color)},children:r.customText||"Custom Text"}):null;return m.jsx(YT,{size:{width:`${r.width}%`,height:`${r.height}%`},onResizeStop:L,enable:{top:t,right:t,bottom:t,left:t,topRight:t,bottomRight:t,bottomLeft:t,topLeft:t},minWidth:"5%",minHeight:"3%",maxWidth:"100%",maxHeight:"100%",style:{position:"absolute",left:`${r.x}%`,top:`${r.y}%`,cursor:A?"grabbing":"grab"},className:`${t?"ring-2 ring-purple-500 ring-offset-2 shadow-lg":"hover:ring-1 hover:ring-purple-300"}`,handleClasses:{top:"resize-handle",right:"resize-handle",bottom:"resize-handle",left:"resize-handle",topRight:"resize-handle",bottomRight:"resize-handle",bottomLeft:"resize-handle",topLeft:"resize-handle"},children:m.jsxs("div",{ref:M,"data-component-id":r.id,className:"w-full h-full relative",onMouseDown:k,onClick:U=>{U.stopPropagation(),c()},children:[z(),t&&m.jsx("div",{className:"absolute -top-7 left-0 bg-gradient-to-r from-purple-600 to-blue-600 text-white px-3 py-1 rounded-md text-xs whitespace-nowrap pointer-events-none shadow-md font-medium",children:r.label||r.type})]})})}function j8({component:r,onUpdate:t,onDelete:n,logoUrl:a,onLogoUrlChange:c}){const d=["field","eventName","customText"].includes(r.type),p=[...d?["text"]:[],"position",...r.type==="logo"?["logo"]:[]];return m.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white shadow-sm",children:[m.jsxs("div",{className:"flex items-center justify-between border-b bg-gradient-to-r from-purple-50 to-blue-50 px-4 py-3",children:[m.jsx("h3",{className:"text-sm font-semibold text-slate-700",children:"Component Settings"}),m.jsx(Je,{variant:"ghost",size:"sm",onClick:n,className:"h-7 w-7 p-0 text-rose-500 hover:bg-rose-50 hover:text-rose-600",children:m.jsx(Zl,{className:"h-3.5 w-3.5"})})]}),m.jsxs("div",{className:"px-4 py-4 space-y-4",children:[m.jsxs("div",{className:"space-y-1",children:[m.jsx(Ze,{className:"text-xs text-slate-500 uppercase tracking-wide",children:"Component Type"}),m.jsx("p",{className:"text-sm font-semibold text-purple-700",children:r.label||r.type})]}),m.jsxs(m2,{type:"multiple",defaultValue:p,className:"flex flex-col gap-3",children:[d&&m.jsxs(Oa,{value:"text",className:"border border-slate-200 border-b-0 rounded-xl bg-white shadow-inner",children:[m.jsx(Pa,{className:"px-3 text-sm font-semibold text-slate-700",children:"Text & Formatting"}),m.jsxs(Da,{className:"px-3 max-h-\\[calc(100vh-360px)\\] overflow-y-auto space-y-4",children:[(r.type==="customText"||r.type==="eventName")&&m.jsxs("div",{className:"space-y-1",children:[m.jsx(Ze,{className:"text-xs font-semibold text-slate-600",children:r.type==="eventName"?"Display Text Override":"Text Content"}),m.jsx(dt,{value:r.customText||"",onChange:w=>t({customText:w.target.value}),placeholder:r.type==="eventName"?"Leave blank to use event name":"Enter custom text",className:"h-9 text-sm"}),r.type==="eventName"&&m.jsx("p",{className:"text-[11px] text-slate-500",children:"Leaving this empty will display the event name automatically."})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsx(Ze,{className:"text-xs font-semibold text-slate-600",children:"Font Size"}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(dt,{type:"number",value:r.fontSize||16,onChange:w=>t({fontSize:parseInt(w.target.value)}),min:8,max:72,className:"h-9 text-sm"}),m.jsx("span",{className:"text-xs text-slate-500 font-medium",children:"px"})]})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsx(Ze,{className:"text-xs font-semibold text-slate-600",children:"Font Family"}),m.jsxs(Ia,{value:r.fontFamily||"sans-serif",onValueChange:w=>t({fontFamily:w}),children:[m.jsx(Ra,{className:"h-9 text-sm",children:m.jsx(Ta,{})}),m.jsxs(ka,{children:[m.jsx(dn,{value:"sans-serif",children:"Sans Serif"}),m.jsx(dn,{value:"serif",children:"Serif"}),m.jsx(dn,{value:"monospace",children:"Monospace"}),m.jsx(dn,{value:"Arial",children:"Arial"}),m.jsx(dn,{value:"Times New Roman",children:"Times New Roman"}),m.jsx(dn,{value:"Courier New",children:"Courier New"})]})]})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsx(Ze,{className:"text-xs font-semibold text-slate-600",children:"Style"}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx(Je,{variant:r.fontWeight==="bold"?"default":"outline",size:"sm",onClick:()=>t({fontWeight:r.fontWeight==="bold"?"normal":"bold"}),className:`h-9 flex-1 ${r.fontWeight==="bold"?"bg-gradient-to-r from-purple-600 to-blue-600 text-white":""}`,children:m.jsx(IE,{className:"h-3.5 w-3.5"})}),m.jsx(Je,{variant:r.fontStyle==="italic"?"default":"outline",size:"sm",onClick:()=>t({fontStyle:r.fontStyle==="italic"?"normal":"italic"}),className:`h-9 flex-1 ${r.fontStyle==="italic"?"bg-gradient-to-r from-purple-600 to-blue-600 text-white":""}`,children:m.jsx(JE,{className:"h-3.5 w-3.5"})})]})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsx(Ze,{className:"text-xs font-semibold text-slate-600",children:"Alignment"}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx(Je,{variant:r.textAlign==="left"?"default":"outline",size:"sm",onClick:()=>t({textAlign:"left"}),className:`h-9 flex-1 ${r.textAlign==="left"?"bg-gradient-to-r from-purple-600 to-blue-600 text-white":""}`,children:m.jsx(bE,{className:"h-3.5 w-3.5"})}),m.jsx(Je,{variant:r.textAlign==="center"?"default":"outline",size:"sm",onClick:()=>t({textAlign:"center"}),className:`h-9 flex-1 ${r.textAlign==="center"?"bg-gradient-to-r from-purple-600 to-blue-600 text-white":""}`,children:m.jsx(yE,{className:"h-3.5 w-3.5"})}),m.jsx(Je,{variant:r.textAlign==="right"?"default":"outline",size:"sm",onClick:()=>t({textAlign:"right"}),className:`h-9 flex-1 ${r.textAlign==="right"?"bg-gradient-to-r from-purple-600 to-blue-600 text-white":""}`,children:m.jsx(CE,{className:"h-3.5 w-3.5"})})]})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsx(Ze,{className:"text-xs font-semibold text-slate-600",children:"Text Color"}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx(dt,{type:"color",value:r.color||"#1f2937",onChange:w=>t({color:w.target.value}),className:"w-12 h-9 p-1 rounded-lg border border-slate-200"}),m.jsx(dt,{type:"text",value:r.color||"#1f2937",onChange:w=>t({color:w.target.value}),placeholder:"#1f2937",className:"h-9 text-sm flex-1"})]})]})]})]}),m.jsxs(Oa,{value:"position",className:"border border-slate-200 border-b-0 rounded-xl bg-white shadow-inner",children:[m.jsx(Pa,{className:"px-3 text-sm font-semibold text-slate-700",children:"Position & Size"}),m.jsxs(Da,{className:"px-3 space-y-3",children:[m.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[m.jsxs("div",{className:"space-y-1",children:[m.jsx(Ze,{className:"text-xs font-semibold text-slate-600",children:"Position X (%)"}),m.jsx(dt,{type:"number",value:r.x.toFixed(1),onChange:w=>t({x:parseFloat(w.target.value)}),min:0,max:100,className:"h-9 text-sm"})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsx(Ze,{className:"text-xs font-semibold text-slate-600",children:"Position Y (%)"}),m.jsx(dt,{type:"number",value:r.y.toFixed(1),onChange:w=>t({y:parseFloat(w.target.value)}),min:0,max:100,className:"h-9 text-sm"})]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[m.jsxs("div",{className:"space-y-1",children:[m.jsx(Ze,{className:"text-xs font-semibold text-slate-600",children:"Width (%)"}),m.jsx(dt,{type:"number",value:r.width.toFixed(1),onChange:w=>t({width:parseFloat(w.target.value)}),min:5,max:100,className:"h-9 text-sm"})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsx(Ze,{className:"text-xs font-semibold text-slate-600",children:"Height (%)"}),m.jsx(dt,{type:"number",value:r.height.toFixed(1),onChange:w=>t({height:parseFloat(w.target.value)}),min:3,max:100,className:"h-9 text-sm"})]})]}),m.jsxs("div",{className:"flex items-center gap-3 border-t pt-3",children:[m.jsx(Pv,{checked:r.enabled,onCheckedChange:w=>t({enabled:w})}),m.jsx(Ze,{className:"text-xs font-semibold text-slate-600",children:"Show on badge"})]})]})]}),r.type==="logo"&&m.jsxs(Oa,{value:"logo",className:"border border-slate-200 border-b-0 rounded-xl bg-white shadow-inner",children:[m.jsx(Pa,{className:"px-3 text-sm font-semibold text-slate-700",children:"Logo Options"}),m.jsxs(Da,{className:"px-3 space-y-2",children:[m.jsx(Ze,{className:"text-xs font-semibold text-slate-600",children:"Logo URL"}),m.jsx(dt,{type:"url",value:a||"",onChange:w=>c(w.target.value),placeholder:"https://example.com/logo.png",className:"h-9 text-sm"}),m.jsx("p",{className:"text-xs text-slate-500",children:"Or set in Event Branding settings."})]})]})]})]})]})}function M8(){const[r,t]=T.useState(null),[n,a]=T.useState(null),[c,d]=T.useState(!0),[p,w]=T.useState(null),[b,y]=T.useState(null),[A,_]=T.useState(null);T.useEffect(()=>{const L=new URLSearchParams(window.location.search),z=window.location.hash,U=L.get("designer");if(U){_(U),d(!1);return}const F=z.match(/^#\/designer\/(.+)$/);if(F&&F[1]){_(F[1]),d(!1);return}else U||_(null);const $=L.get("checkin");if($){w($),d(!1);return}const X=L.get("register");if(X){y(X),d(!1);return}const Z=z.match(/^#\/register\/(.+)$/);if(Z&&Z[1]){y(Z[1]),d(!1);return}(async()=>{try{const{data:{session:V}}=await qt.auth.getSession();V?.access_token&&t(V.access_token)}catch(V){console.error("Error checking session:",V)}finally{d(!1)}})();const K=()=>{const V=window.location.hash,ge=V.match(/^#\/register\/(.+)$/),Ee=V.match(/^#\/designer\/(.+)$/);ge&&ge[1]?(y(ge[1]),_(null)):Ee&&Ee[1]?(_(Ee[1]),y(null),w(null)):!V||V==="#/"||V==="#"?(y(null),_(null)):(!V||V==="#/"||V==="#")&&y(null)};return window.addEventListener("hashchange",K),()=>window.removeEventListener("hashchange",K)},[]);const O=L=>{t(L)},R=()=>{t(null),a(null)},M=L=>{a(L)},k=()=>{a(null)};return c?m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),m.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading..."})]})}):p?m.jsx(UT,{agendaId:p}):b?m.jsx(zT,{eventId:b}):A?m.jsx(k8,{eventId:A,onClose:()=>{const L=new URL(window.location.href);L.searchParams.delete("designer"),window.location.replace(L.origin+L.pathname)}}):r?n?m.jsx(L4,{eventId:n,accessToken:r,onLogout:R,onBackToEvents:k}):m.jsx(B4,{onEventSelected:M,onLogout:R}):m.jsx(t_,{onAuthenticated:O})}mb.createRoot(document.getElementById("root")).render(m.jsx(M8,{}));
